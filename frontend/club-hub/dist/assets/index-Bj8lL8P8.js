const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/emoji-l3YbTf4s.js","assets/react-DL3AIz7k.js"])))=>i.map(i=>d[i]);
import{r as x,a as qh,g as Gu,R as Ci,u as Ot,b as Wa,c as Xu,d as Lh,L as wd,N as Zt,O as Hh,B as Yh,e as Gh,f as Te}from"./react-DL3AIz7k.js";import{T as Xh,H as Qh,B as Tn,U as Ma,a as Zh,S as Vh,C as Jh,b as Sd,L as Kr,M as Kh,X as Qu,c as Pe,d as $h,F as Wh,e as Ed,f as Cd,G as Ad,g as Td,h as Fh,i as Zu,j as Ph,k as Ih,A as qc,l as Lc,m as e0,P as Hc,I as Yc,n as t0,o as a0,E as Od,p as Md,q as Gc,r as On,s as Kn,t as zl,u as tc,v as l0,w as n0,x as s0}from"./icons-Da-3qDZh.js";var Dd={exports:{}},Ai={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.transitional.element"),c0=Symbol.for("react.fragment");function zd(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:i0,type:e,key:l,ref:t!==void 0?t:null,props:a}}Ai.Fragment=c0;Ai.jsx=zd;Ai.jsxs=zd;Dd.exports=Ai;var s=Dd.exports,Ud={exports:{}},Ti={},Rd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,L){var H=A.length;A.push(L);e:for(;0<H;){var P=H-1>>>1,R=A[P];if(0<n(R,L))A[P]=L,A[H]=R,H=P;else break e}}function a(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var L=A[0],H=A.pop();if(H!==L){A[0]=H;e:for(var P=0,R=A.length,ne=R>>>1;P<ne;){var fe=2*(P+1)-1,Ke=A[fe],V=fe+1,ee=A[V];if(0>n(Ke,H))V<R&&0>n(ee,Ke)?(A[P]=ee,A[V]=H,P=V):(A[P]=Ke,A[fe]=H,P=fe);else if(V<R&&0>n(ee,H))A[P]=ee,A[V]=H,P=V;else break e}}return L}function n(A,L){var H=A.sortIndex-L.sortIndex;return H!==0?H:A.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var r=[],o=[],d=1,f=null,m=3,h=!1,w=!1,S=!1,D=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function p(A){for(var L=a(o);L!==null;){if(L.callback===null)l(o);else if(L.startTime<=A)l(o),L.sortIndex=L.expirationTime,t(r,L);else break;L=a(o)}}function N(A){if(S=!1,p(A),!w)if(a(r)!==null)w=!0,U||(U=!0,M());else{var L=a(o);L!==null&&G(N,L.startTime-A)}}var U=!1,b=-1,j=5,z=-1;function _(){return D?!0:!(e.unstable_now()-z<j)}function Q(){if(D=!1,U){var A=e.unstable_now();z=A;var L=!0;try{e:{w=!1,S&&(S=!1,g(b),b=-1),h=!0;var H=m;try{t:{for(p(A),f=a(r);f!==null&&!(f.expirationTime>A&&_());){var P=f.callback;if(typeof P=="function"){f.callback=null,m=f.priorityLevel;var R=P(f.expirationTime<=A);if(A=e.unstable_now(),typeof R=="function"){f.callback=R,p(A),L=!0;break t}f===a(r)&&l(r),p(A)}else l(r);f=a(r)}if(f!==null)L=!0;else{var ne=a(o);ne!==null&&G(N,ne.startTime-A),L=!1}}break e}finally{f=null,m=H,h=!1}L=void 0}}finally{L?M():U=!1}}}var M;if(typeof y=="function")M=function(){y(Q)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,k=E.port2;E.port1.onmessage=Q,M=function(){k.postMessage(null)}}else M=function(){v(Q,0)};function G(A,L){b=v(function(){A(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return A()}finally{m=H}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=m;m=A;try{return L()}finally{m=H}},e.unstable_scheduleCallback=function(A,L,H){var P=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?P+H:P):H=P,A){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=H+R,A={id:d++,callback:L,priorityLevel:A,startTime:H,expirationTime:R,sortIndex:-1},H>P?(A.sortIndex=H,t(o,A),a(r)===null&&A===a(o)&&(S?(g(b),b=-1):S=!0,G(N,H-P))):(A.sortIndex=R,t(r,A),w||h||(w=!0,U||(U=!0,M()))),A},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(A){var L=m;return function(){var H=m;m=L;try{return A.apply(this,arguments)}finally{m=H}}}})(_d);Rd.exports=_d;var u0=Rd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=u0,kd=x,r0=qh;function O(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $n(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $r(e){if($n(e)!==e)throw Error(O(188))}function o0(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(O(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return $r(n),e;if(i===l)return $r(n),t;i=i.sibling}throw Error(O(188))}if(a.return!==l.return)a=n,l=i;else{for(var c=!1,u=n.child;u;){if(u===a){c=!0,a=n,l=i;break}if(u===l){c=!0,l=n,a=i;break}u=u.sibling}if(!c){for(u=i.child;u;){if(u===a){c=!0,a=i,l=n;break}if(u===l){c=!0,l=i,a=n;break}u=u.sibling}if(!c)throw Error(O(189))}}if(a.alternate!==l)throw Error(O(190))}if(a.tag!==3)throw Error(O(188));return a.stateNode.current===a?e:t}function Ld(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ld(e),t!==null)return t;e=e.sibling}return null}var be=Object.assign,d0=Symbol.for("react.element"),ms=Symbol.for("react.transitional.element"),on=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),f0=Symbol.for("react.provider"),Yd=Symbol.for("react.consumer"),Vt=Symbol.for("react.context"),Vu=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),Vc=Symbol.for("react.activity"),m0=Symbol.for("react.memo_cache_sentinel"),Wr=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=Wr&&e[Wr]||e["@@iterator"],typeof e=="function"?e:null)}var h0=Symbol.for("react.client.reference");function Jc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===h0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fl:return"Fragment";case Xc:return"Profiler";case Hd:return"StrictMode";case Qc:return"Suspense";case Zc:return"SuspenseList";case Vc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case on:return"Portal";case Vt:return(e.displayName||"Context")+".Provider";case Yd:return(e._context.displayName||"Context")+".Consumer";case Vu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:Jc(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return Jc(e(t))}catch{}}return null}var dn=Array.isArray,$=kd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qa={pending:!1,data:null,method:null,action:null},Kc=[],ml=-1;function Lt(e){return{current:e}}function Qe(e){0>ml||(e.current=Kc[ml],Kc[ml]=null,ml--)}function we(e,t){ml++,Kc[ml]=e.current,e.current=t}var kt=Lt(null),Mn=Lt(null),ya=Lt(null),$s=Lt(null);function Ws(e,t){switch(we(ya,t),we(Mn,e),we(kt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ad(t),e=sh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qe(kt),we(kt,e)}function Ul(){Qe(kt),Qe(Mn),Qe(ya)}function $c(e){e.memoizedState!==null&&we($s,e);var t=kt.current,a=sh(t,e.type);t!==a&&(we(Mn,e),we(kt,a))}function Fs(e){Mn.current===e&&(Qe(kt),Qe(Mn)),$s.current===e&&(Qe($s),Hn._currentValue=qa)}var Wc=Object.prototype.hasOwnProperty,Ku=He.unstable_scheduleCallback,ac=He.unstable_cancelCallback,g0=He.unstable_shouldYield,x0=He.unstable_requestPaint,Bt=He.unstable_now,v0=He.unstable_getCurrentPriorityLevel,Gd=He.unstable_ImmediatePriority,Xd=He.unstable_UserBlockingPriority,Ps=He.unstable_NormalPriority,y0=He.unstable_LowPriority,Qd=He.unstable_IdlePriority,p0=He.log,b0=He.unstable_setDisableYieldValue,Wn=null,ft=null;function ha(e){if(typeof p0=="function"&&b0(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Wn,e)}catch{}}var mt=Math.clz32?Math.clz32:w0,j0=Math.log,N0=Math.LN2;function w0(e){return e>>>=0,e===0?32:31-(j0(e)/N0|0)|0}var hs=256,gs=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=l&134217727;return u!==0?(l=u&~i,l!==0?n=_a(l):(c&=u,c!==0?n=_a(c):a||(a=u&~e,a!==0&&(n=_a(a))))):(u=l&~i,u!==0?n=_a(u):c!==0?n=_a(c):a||(a=l&~e,a!==0&&(n=_a(a)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Fn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function S0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zd(){var e=hs;return hs<<=1,!(hs&4194048)&&(hs=256),e}function Vd(){var e=gs;return gs<<=1,!(gs&62914560)&&(gs=4194304),e}function lc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function E0(e,t,a,l,n,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,r=e.expirationTimes,o=e.hiddenUpdates;for(a=c&~a;0<a;){var d=31-mt(a),f=1<<d;u[d]=0,r[d]=-1;var m=o[d];if(m!==null)for(o[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}a&=~f}l!==0&&Jd(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Jd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Kd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-mt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function $u(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function $d(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:gh(e.type))}function C0(e,t){var a=ue.p;try{return ue.p=e,t()}finally{ue.p=a}}var Da=Math.random().toString(36).slice(2),$e="__reactFiber$"+Da,nt="__reactProps$"+Da,Zl="__reactContainer$"+Da,Fc="__reactEvents$"+Da,A0="__reactListeners$"+Da,T0="__reactHandles$"+Da,Fr="__reactResources$"+Da,In="__reactMarker$"+Da;function Fu(e){delete e[$e],delete e[nt],delete e[Fc],delete e[A0],delete e[T0]}function hl(e){var t=e[$e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Zl]||a[$e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=sd(e);e!==null;){if(a=e[$e])return a;e=sd(e)}return t}e=a,a=e.parentNode}return null}function Vl(e){if(e=e[$e]||e[Zl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function fn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(O(33))}function Sl(e){var t=e[Fr];return t||(t=e[Fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[In]=!0}var Wd=new Set,Fd={};function Fa(e,t){Rl(e,t),Rl(e+"Capture",t)}function Rl(e,t){for(Fd[e]=t,e=0;e<t.length;e++)Wd.add(t[e])}var O0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Ir={};function M0(e){return Wc.call(Ir,e)?!0:Wc.call(Pr,e)?!1:O0.test(e)?Ir[e]=!0:(Pr[e]=!0,!1)}function zs(e,t,a){if(M0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Yt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var nc,eo;function ul(e){if(nc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);nc=t&&t[1]||"",eo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+e+eo}var sc=!1;function ic(e,t){if(!e||sc)return"";sc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),c=i[0],u=i[1];if(c&&u){var r=c.split(`
`),o=u.split(`
`);for(n=l=0;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;for(;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;if(l===r.length||n===o.length)for(l=r.length-1,n=o.length-1;1<=l&&0<=n&&r[l]!==o[n];)n--;for(;1<=l&&0<=n;l--,n--)if(r[l]!==o[n]){if(l!==1||n!==1)do if(l--,n--,0>n||r[l]!==o[n]){var d=`
`+r[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=n);break}}}finally{sc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ul(a):""}function D0(e){switch(e.tag){case 26:case 27:case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 15:return ic(e.type,!1);case 11:return ic(e.type.render,!1);case 1:return ic(e.type,!0);case 31:return ul("Activity");default:return""}}function to(e){try{var t="";do t+=D0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z0(e){var t=Pd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=z0(e))}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Pd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var U0=/[\n"\\]/g;function Nt(e){return e.replace(U0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pc(e,t,a,l,n,i,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pt(t)):e.value!==""+pt(t)&&(e.value=""+pt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,c,pt(t)):a!=null?Ic(e,c,pt(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+pt(u):e.removeAttribute("name")}function ef(e,t,a,l,n,i,c,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;a=a!=null?""+pt(a):"",t=t!=null?""+pt(t):a,u||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=u?e.checked:!!l,e.defaultChecked=!!l,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function Ic(e,t,a){t==="number"&&ei(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function El(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+pt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function tf(e,t,a){if(t!=null&&(t=""+pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+pt(a):""}function af(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(O(92));if(dn(l)){if(1<l.length)throw Error(O(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=pt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _l(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var R0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ao(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||R0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function lf(e,t,a){if(t!=null&&typeof t!="object")throw Error(O(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&ao(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&ao(e,i,t[i])}function Pu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(e){return k0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var eu=null;function Iu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,Cl=null;function lo(e){var t=Vl(e);if(t&&(e=t.stateNode)){var a=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[nt]||null;if(!n)throw Error(O(90));Pc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Id(l)}break e;case"textarea":tf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&El(e,!!a.multiple,t,!1)}}}var cc=!1;function nf(e,t,a){if(cc)return e(t,a);cc=!0;try{var l=e(t);return l}finally{if(cc=!1,(gl!==null||Cl!==null)&&(Li(),gl&&(t=gl,e=Cl,Cl=gl=null,lo(t),e)))for(t=0;t<e.length;t++)lo(e[t])}}function Dn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[nt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(O(231,t,typeof a));return a}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(ea)try{var en={};Object.defineProperty(en,"passive",{get:function(){tu=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{tu=!1}var ga=null,er=null,Rs=null;function sf(){if(Rs)return Rs;var e,t=er,a=t.length,l,n="value"in ga?ga.value:ga.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var c=a-e;for(l=1;l<=c&&t[a-l]===n[i-l];l++);return Rs=n.slice(e,1<l?1-l:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function no(){return!1}function st(e){function t(a,l,n,i,c){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vs:no,this.isPropagationStopped=no,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=st(Pa),es=be({},Pa,{view:0,detail:0}),B0=st(es),uc,rc,tn,Di=be({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&e.type==="mousemove"?(uc=e.screenX-tn.screenX,rc=e.screenY-tn.screenY):rc=uc=0,tn=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),so=st(Di),q0=be({},Di,{dataTransfer:0}),L0=st(q0),H0=be({},es,{relatedTarget:0}),oc=st(H0),Y0=be({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=st(Y0),X0=be({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=st(X0),Z0=be({},Pa,{data:0}),io=st(Z0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K0[e])?!!t[e]:!1}function tr(){return $0}var W0=be({},es,{key:function(e){if(e.key){var t=V0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F0=st(W0),P0=be({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),co=st(P0),I0=be({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),eg=st(I0),tg=be({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ag=st(tg),lg=be({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=st(lg),sg=be({},Pa,{newState:0,oldState:0}),ig=st(sg),cg=[9,13,27,32],ar=ea&&"CompositionEvent"in window,hn=null;ea&&"documentMode"in document&&(hn=document.documentMode);var ug=ea&&"TextEvent"in window&&!hn,cf=ea&&(!ar||hn&&8<hn&&11>=hn),uo=" ",ro=!1;function uf(e,t){switch(e){case"keyup":return cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xl=!1;function rg(e,t){switch(e){case"compositionend":return rf(t);case"keypress":return t.which!==32?null:(ro=!0,uo);case"textInput":return e=t.data,e===uo&&ro?null:e;default:return null}}function og(e,t){if(xl)return e==="compositionend"||!ar&&uf(e,t)?(e=sf(),Rs=er=ga=null,xl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cf&&t.locale!=="ko"?null:t.data;default:return null}}var dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dg[e.type]:t==="textarea"}function of(e,t,a,l){gl?Cl?Cl.push(l):Cl=[l]:gl=l,t=yi(t,"onChange"),0<t.length&&(a=new Mi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var gn=null,zn=null;function fg(e){ah(e,0)}function zi(e){var t=fn(e);if(Id(t))return e}function fo(e,t){if(e==="change")return t}var df=!1;if(ea){var dc;if(ea){var fc="oninput"in document;if(!fc){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),fc=typeof mo.oninput=="function"}dc=fc}else dc=!1;df=dc&&(!document.documentMode||9<document.documentMode)}function ho(){gn&&(gn.detachEvent("onpropertychange",ff),zn=gn=null)}function ff(e){if(e.propertyName==="value"&&zi(zn)){var t=[];of(t,zn,e,Iu(e)),nf(fg,t)}}function mg(e,t,a){e==="focusin"?(ho(),gn=t,zn=a,gn.attachEvent("onpropertychange",ff)):e==="focusout"&&ho()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(zn)}function gg(e,t){if(e==="click")return zi(t)}function xg(e,t){if(e==="input"||e==="change")return zi(t)}function vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:vg;function Un(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Wc.call(t,n)||!xt(e[n],t[n]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xo(e,t){var a=go(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=go(a)}}function mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ei(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ei(e.document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yg=ea&&"documentMode"in document&&11>=document.documentMode,vl=null,au=null,xn=null,lu=!1;function vo(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lu||vl==null||vl!==ei(l)||(l=vl,"selectionStart"in l&&lr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xn&&Un(xn,l)||(xn=l,l=yi(au,"onSelect"),0<l.length&&(t=new Mi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=vl)))}function Ra(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var yl={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},mc={},gf={};ea&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Ia(e){if(mc[e])return mc[e];if(!yl[e])return e;var t=yl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gf)return mc[e]=t[a];return e}var xf=Ia("animationend"),vf=Ia("animationiteration"),yf=Ia("animationstart"),pg=Ia("transitionrun"),bg=Ia("transitionstart"),jg=Ia("transitioncancel"),pf=Ia("transitionend"),bf=new Map,nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nu.push("scrollEnd");function Mt(e,t){bf.set(e,t),Fa(t,[e])}var yo=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var a=yo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:to(t)},yo.set(e,t),t)}return{value:e,source:t,stack:to(t)}}var vt=[],pl=0,nr=0;function Ui(){for(var e=pl,t=nr=pl=0;t<e;){var a=vt[t];vt[t++]=null;var l=vt[t];vt[t++]=null;var n=vt[t];vt[t++]=null;var i=vt[t];if(vt[t++]=null,l!==null&&n!==null){var c=l.pending;c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n}i!==0&&jf(a,n,i)}}function Ri(e,t,a,l){vt[pl++]=e,vt[pl++]=t,vt[pl++]=a,vt[pl++]=l,nr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function sr(e,t,a,l){return Ri(e,t,a,l),ti(e)}function Jl(e,t){return Ri(e,null,null,t),ti(e)}function jf(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-mt(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function ti(e){if(50<Cn)throw Cn=0,Eu=null,Error(O(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bl={};function Ng(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,a,l){return new Ng(e,t,a,l)}function ir(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pt(e,t){var a=e.alternate;return a===null?(a=dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,a,l,n,i){var c=0;if(l=e,typeof e=="function")ir(e)&&(c=1);else if(typeof e=="string")c=Sx(e,a,kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Vc:return e=dt(31,a,t,n),e.elementType=Vc,e.lanes=i,e;case fl:return La(a.children,n,i,t);case Hd:c=8,n|=24;break;case Xc:return e=dt(12,a,t,n|2),e.elementType=Xc,e.lanes=i,e;case Qc:return e=dt(13,a,t,n),e.elementType=Qc,e.lanes=i,e;case Zc:return e=dt(19,a,t,n),e.elementType=Zc,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f0:case Vt:c=10;break e;case Yd:c=9;break e;case Vu:c=11;break e;case Ju:c=14;break e;case ua:c=16,l=null;break e}c=29,a=Error(O(130,e===null?"null":typeof e,"")),l=null}return t=dt(c,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function La(e,t,a,l){return e=dt(7,e,l,t),e.lanes=a,e}function hc(e,t,a){return e=dt(6,e,null,t),e.lanes=a,e}function gc(e,t,a){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jl=[],Nl=0,ai=null,li=0,bt=[],jt=0,Ha=null,Jt=1,Kt="";function ka(e,t){jl[Nl++]=li,jl[Nl++]=ai,ai=e,li=t}function wf(e,t,a){bt[jt++]=Jt,bt[jt++]=Kt,bt[jt++]=Ha,Ha=e;var l=Jt;e=Kt;var n=32-mt(l)-1;l&=~(1<<n),a+=1;var i=32-mt(t)+n;if(30<i){var c=n-n%5;i=(l&(1<<c)-1).toString(32),l>>=c,n-=c,Jt=1<<32-mt(t)+n|a<<n|l,Kt=i+e}else Jt=1<<i|a<<n|l,Kt=e}function cr(e){e.return!==null&&(ka(e,1),wf(e,1,0))}function ur(e){for(;e===ai;)ai=jl[--Nl],jl[Nl]=null,li=jl[--Nl],jl[Nl]=null;for(;e===Ha;)Ha=bt[--jt],bt[jt]=null,Kt=bt[--jt],bt[jt]=null,Jt=bt[--jt],bt[jt]=null}var Fe=null,Me=null,ce=!1,Ya=null,Rt=!1,su=Error(O(519));function Za(e){var t=Error(O(418,""));throw Rn(wt(t,e)),su}function po(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[$e]=e,t[nt]=l,a){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(a=0;a<Bn.length;a++)ae(Bn[a],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),ef(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Is(t);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),af(t,l.value,l.defaultValue,l.children),Is(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||nh(t.textContent,a)?(l.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),l.onScroll!=null&&ae("scroll",t),l.onScrollEnd!=null&&ae("scrollend",t),l.onClick!=null&&(t.onclick=Gi),t=!0):t=!1,t||Za(e)}function bo(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:Fe=Fe.return}}function an(e){if(e!==Fe)return!1;if(!ce)return bo(e),ce=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Du(e.type,e.memoizedProps)),a=!a),a&&Me&&Za(e),bo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Me=Tt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Me=null}}else t===27?(t=Me,za(e.type)?(e=Ru,Ru=null,Me=e):Me=t):Me=Fe?Tt(e.stateNode.nextSibling):null;return!0}function ts(){Me=Fe=null,ce=!1}function jo(){var e=Ya;return e!==null&&(lt===null?lt=e:lt.push.apply(lt,e),Ya=null),e}function Rn(e){Ya===null?Ya=[e]:Ya.push(e)}var iu=Lt(null),el=null,$t=null;function oa(e,t,a){we(iu,t._currentValue),t._currentValue=a}function It(e){e._currentValue=iu.current,Qe(iu)}function cu(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function uu(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var r=0;r<t.length;r++)if(u.context===t[r]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),cu(i.return,a,e),l||(c=null);break e}i=u.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(O(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),cu(c,a,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function as(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if(n.flags&524288)i=!0;else if(n.flags&262144)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(O(387));if(c=c.memoizedProps,c!==null){var u=n.type;xt(n.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(n===$s.current){if(c=n.alternate,c===null)throw Error(O(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Hn):e=[Hn])}n=n.return}e!==null&&uu(t,e,a,l),t.flags|=262144}function ni(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Va(e){el=e,$t=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return Sf(el,e)}function ys(e,t){return el===null&&Va(e),Sf(e,t)}function Sf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},$t===null){if(e===null)throw Error(O(308));$t=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $t=$t.next=t;return a}var wg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Sg=He.unstable_scheduleCallback,Eg=He.unstable_NormalPriority,qe={$$typeof:Vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rr(){return{controller:new wg,data:new Map,refCount:0}}function ls(e){e.refCount--,e.refCount===0&&Sg(Eg,function(){e.controller.abort()})}var vn=null,ru=0,kl=0,Al=null;function Cg(e,t){if(vn===null){var a=vn=[];ru=0,kl=zr(),Al={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ru++,t.then(No,No),t}function No(){if(--ru===0&&vn!==null){Al!==null&&(Al.status="fulfilled");var e=vn;vn=null,kl=0,Al=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ag(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var wo=$.S;$.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Cg(e,t),wo!==null&&wo(e,t)};var Ga=Lt(null);function or(){var e=Ga.current;return e!==null?e:ye.pooledCache}function Bs(e,t){t===null?we(Ga,Ga.current):we(Ga,t.pool)}function Ef(){var e=or();return e===null?null:{parent:qe._currentValue,pool:e}}var ns=Error(O(460)),Cf=Error(O(474)),_i=Error(O(542)),ou={then:function(){}};function So(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ps(){}function Af(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ps,ps),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Co(e),e;default:if(typeof t.status=="string")t.then(ps,ps);else{if(e=ye,e!==null&&100<e.shellSuspendCounter)throw Error(O(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Co(e),e}throw yn=t,ns}}var yn=null;function Eo(){if(yn===null)throw Error(O(459));var e=yn;return yn=null,e}function Co(e){if(e===ns||e===_i)throw Error(O(483))}var ra=!1;function dr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,de&2){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=ti(e),jf(e,null,a),t}return Ri(e,l,t,a),ti(e)}function pn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Kd(e,a)}}function xc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var fu=!1;function bn(){if(fu){var e=Al;if(e!==null)throw e}}function jn(e,t,a,l){fu=!1;var n=e.updateQueue;ra=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var r=u,o=r.next;r.next=null,c===null?i=o:c.next=o,c=r;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==c&&(u===null?d.firstBaseUpdate=o:u.next=o,d.lastBaseUpdate=r))}if(i!==null){var f=n.baseState;c=0,d=o=r=null,u=i;do{var m=u.lane&-536870913,h=m!==u.lane;if(h?(se&m)===m:(l&m)===m){m!==0&&m===kl&&(fu=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var w=e,S=u;m=t;var D=a;switch(S.tag){case 1:if(w=S.payload,typeof w=="function"){f=w.call(D,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,m=typeof w=="function"?w.call(D,f,m):w,m==null)break e;f=be({},f,m);break e;case 2:ra=!0}}m=u.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=n.callbacks,h===null?n.callbacks=[m]:h.push(m))}else h={lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(o=d=h,r=f):d=d.next=h,c|=m;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;h=u,u=h.next,h.next=null,n.lastBaseUpdate=h,n.shared.pending=null}}while(!0);d===null&&(r=f),n.baseState=r,n.firstBaseUpdate=o,n.lastBaseUpdate=d,i===null&&(n.shared.lanes=0),Oa|=c,e.lanes=c,e.memoizedState=f}}function Tf(e,t){if(typeof e!="function")throw Error(O(191,e));e.call(t)}function Of(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tf(a[e],t)}var Bl=Lt(null),si=Lt(0);function Ao(e,t){e=la,we(si,e),we(Bl,t),la=e|t.baseLanes}function mu(){we(si,la),we(Bl,Bl.current)}function fr(){la=si.current,Qe(Bl),Qe(si)}var Aa=0,te=null,he=null,ke=null,ii=!1,Tl=!1,Ja=!1,ci=0,_n=0,Ol=null,Tg=0;function Ue(){throw Error(O(321))}function mr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!xt(e[a],t[a]))return!1;return!0}function hr(e,t,a,l,n,i){return Aa=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?im:cm,Ja=!1,i=a(l,n),Ja=!1,Tl&&(i=Df(t,a,l,n)),Mf(e),i}function Mf(e){$.H=ui;var t=he!==null&&he.next!==null;if(Aa=0,ke=he=te=null,ii=!1,_n=0,Ol=null,t)throw Error(O(300));e===null||Xe||(e=e.dependencies,e!==null&&ni(e)&&(Xe=!0))}function Df(e,t,a,l){te=e;var n=0;do{if(Tl&&(Ol=null),_n=0,Tl=!1,25<=n)throw Error(O(301));if(n+=1,ke=he=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}$.H=_g,i=t(a,l)}while(Tl);return i}function Og(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?ss(t):t,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(te.flags|=1024),t}function gr(){var e=ci!==0;return ci=0,e}function xr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function vr(e){if(ii){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ii=!1}Aa=0,ke=he=te=null,Tl=!1,_n=ci=0,Ol=null}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?te.memoizedState=ke=e:ke=ke.next=e,ke}function Be(){if(he===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=ke===null?te.memoizedState:ke.next;if(t!==null)ke=t,he=e;else{if(e===null)throw te.alternate===null?Error(O(467)):Error(O(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ke===null?te.memoizedState=ke=e:ke=ke.next=e}return ke}function yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(e){var t=_n;return _n+=1,Ol===null&&(Ol=[]),e=Af(Ol,e,t),t=te,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?im:cm),e}function ki(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===Vt)return We(e)}throw Error(O(438,String(e)))}function pr(e){var t=null,a=te.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yr(),te.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=m0;return t.index++,a}function ta(e,t){return typeof t=="function"?t(e):t}function qs(e){var t=Be();return br(t,he,e)}function br(e,t,a){var l=e.queue;if(l===null)throw Error(O(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=c=null,r=null,o=t,d=!1;do{var f=o.lane&-536870913;if(f!==o.lane?(se&f)===f:(Aa&f)===f){var m=o.revertLane;if(m===0)r!==null&&(r=r.next={lane:0,revertLane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),f===kl&&(d=!0);else if((Aa&m)===m){o=o.next,m===kl&&(d=!0);continue}else f={lane:0,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},r===null?(u=r=f,c=i):r=r.next=f,te.lanes|=m,Oa|=m;f=o.action,Ja&&a(i,f),i=o.hasEagerState?o.eagerState:a(i,f)}else m={lane:f,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},r===null?(u=r=m,c=i):r=r.next=m,te.lanes|=f,Oa|=f;o=o.next}while(o!==null&&o!==t);if(r===null?c=i:r.next=u,!xt(i,e.memoizedState)&&(Xe=!0,d&&(a=Al,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=r,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function vc(e){var t=Be(),a=t.queue;if(a===null)throw Error(O(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);xt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function zf(e,t,a){var l=te,n=Be(),i=ce;if(i){if(a===void 0)throw Error(O(407));a=a()}else a=t();var c=!xt((he||n).memoizedState,a);c&&(n.memoizedState=a,Xe=!0),n=n.queue;var u=_f.bind(null,l,n,e);if(is(2048,8,u,[e]),n.getSnapshot!==t||c||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,ql(9,Bi(),Rf.bind(null,l,n,a,t),null),ye===null)throw Error(O(349));i||Aa&124||Uf(l,t,a)}return a}function Uf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=te.updateQueue,t===null?(t=yr(),te.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Rf(e,t,a,l){t.value=a,t.getSnapshot=l,kf(t)&&Bf(e)}function _f(e,t,a){return a(function(){kf(t)&&Bf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!xt(e,a)}catch{return!0}}function Bf(e){var t=Jl(e,2);t!==null&&gt(t,e,2)}function hu(e){var t=tt();if(typeof e=="function"){var a=e;if(e=a(),Ja){ha(!0);try{a()}finally{ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},t}function qf(e,t,a,l){return e.baseState=a,br(e,he,typeof l=="function"?l:ta)}function Mg(e,t,a,l,n){if(qi(e))throw Error(O(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};$.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Lf(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Lf(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=$.T,c={};$.T=c;try{var u=a(n,l),r=$.S;r!==null&&r(c,u),To(e,t,u)}catch(o){gu(e,t,o)}finally{$.T=i}}else try{i=a(n,l),To(e,t,i)}catch(o){gu(e,t,o)}}function To(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Oo(e,t,l)},function(l){return gu(e,t,l)}):Oo(e,t,a)}function Oo(e,t,a){t.status="fulfilled",t.value=a,Hf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Lf(e,a)))}function gu(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Hf(t),t=t.next;while(t!==l)}e.action=null}function Hf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Yf(e,t){return t}function Mo(e,t){if(ce){var a=ye.formState;if(a!==null){e:{var l=te;if(ce){if(Me){t:{for(var n=Me,i=Rt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Tt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Me=Tt(n.nextSibling),l=n.data==="F!";break e}}Za(l)}l=!1}l&&(t=a[0])}}return a=tt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:t},a.queue=l,a=lm.bind(null,te,l),l.dispatch=a,l=hu(!1),i=Sr.bind(null,te,!1,l.queue),l=tt(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Mg.bind(null,te,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Do(e){var t=Be();return Gf(t,he,e)}function Gf(e,t,a){if(t=br(e,t,Yf)[0],e=qs(ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ss(t)}catch(c){throw c===ns?_i:c}else l=t;t=Be();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(te.flags|=2048,ql(9,Bi(),Dg.bind(null,n,a),null)),[l,i,e]}function Dg(e,t){e.action=t}function zo(e){var t=Be(),a=he;if(a!==null)return Gf(t,a,e);Be(),t=t.memoizedState,a=Be();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function ql(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=te.updateQueue,t===null&&(t=yr(),te.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Bi(){return{destroy:void 0,resource:void 0}}function Xf(){return Be().memoizedState}function Ls(e,t,a,l){var n=tt();l=l===void 0?null:l,te.flags|=e,n.memoizedState=ql(1|t,Bi(),a,l)}function is(e,t,a,l){var n=Be();l=l===void 0?null:l;var i=n.memoizedState.inst;he!==null&&l!==null&&mr(l,he.memoizedState.deps)?n.memoizedState=ql(t,i,a,l):(te.flags|=e,n.memoizedState=ql(1|t,i,a,l))}function Uo(e,t){Ls(8390656,8,e,t)}function Qf(e,t){is(2048,8,e,t)}function Zf(e,t){return is(4,2,e,t)}function Vf(e,t){return is(4,4,e,t)}function Jf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kf(e,t,a){a=a!=null?a.concat([e]):null,is(4,4,Jf.bind(null,t,e),a)}function jr(){}function $f(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&mr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Wf(e,t){var a=Be();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&mr(t,l[1]))return l[0];if(l=e(),Ja){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[l,t],l}function Nr(e,t,a){return a===void 0||Aa&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Hm(),te.lanes|=e,Oa|=e,a)}function Ff(e,t,a,l){return xt(a,t)?a:Bl.current!==null?(e=Nr(e,a,l),xt(e,t)||(Xe=!0),e):Aa&42?(e=Hm(),te.lanes|=e,Oa|=e,t):(Xe=!0,e.memoizedState=a)}function Pf(e,t,a,l,n){var i=ue.p;ue.p=i!==0&&8>i?i:8;var c=$.T,u={};$.T=u,Sr(e,!1,t,a);try{var r=n(),o=$.S;if(o!==null&&o(u,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var d=Ag(r,l);Nn(e,t,d,ht(e))}else Nn(e,t,l,ht(e))}catch(f){Nn(e,t,{then:function(){},status:"rejected",reason:f},ht())}finally{ue.p=i,$.T=c}}function zg(){}function xu(e,t,a,l){if(e.tag!==5)throw Error(O(476));var n=If(e).queue;Pf(e,n,t,qa,a===null?zg:function(){return em(e),a(l)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:qa,baseState:qa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:qa},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function em(e){var t=If(e).next.queue;Nn(e,t,{},ht())}function wr(){return We(Hn)}function tm(){return Be().memoizedState}function am(){return Be().memoizedState}function Ug(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ht();e=pa(a);var l=ba(t,e,a);l!==null&&(gt(l,t,a),pn(l,t,a)),t={cache:rr()},e.payload=t;return}t=t.return}}function Rg(e,t,a){var l=ht();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qi(e)?nm(t,a):(a=sr(e,t,a,l),a!==null&&(gt(a,e,l),sm(a,t,l)))}function lm(e,t,a){var l=ht();Nn(e,t,a,l)}function Nn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qi(e))nm(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,u=i(c,a);if(n.hasEagerState=!0,n.eagerState=u,xt(u,c))return Ri(e,t,n,0),ye===null&&Ui(),!1}catch{}finally{}if(a=sr(e,t,n,l),a!==null)return gt(a,e,l),sm(a,t,l),!0}return!1}function Sr(e,t,a,l){if(l={lane:2,revertLane:zr(),action:l,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(t)throw Error(O(479))}else t=sr(e,a,l,2),t!==null&&gt(t,e,2)}function qi(e){var t=e.alternate;return e===te||t!==null&&t===te}function nm(e,t){Tl=ii=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function sm(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Kd(e,a)}}var ui={readContext:We,use:ki,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},im={readContext:We,use:ki,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Uo,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ls(4194308,4,Jf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){Ls(4,2,e,t)},useMemo:function(e,t){var a=tt();t=t===void 0?null:t;var l=e();if(Ja){ha(!0);try{e()}finally{ha(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=tt();if(a!==void 0){var n=a(t);if(Ja){ha(!0);try{a(t)}finally{ha(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Rg.bind(null,te,e),[l.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:function(e){e=hu(e);var t=e.queue,a=lm.bind(null,te,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:jr,useDeferredValue:function(e,t){var a=tt();return Nr(a,e,t)},useTransition:function(){var e=hu(!1);return e=Pf.bind(null,te,e.queue,!0,!1),tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=te,n=tt();if(ce){if(a===void 0)throw Error(O(407));a=a()}else{if(a=t(),ye===null)throw Error(O(349));se&124||Uf(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,Uo(_f.bind(null,l,i,e),[e]),l.flags|=2048,ql(9,Bi(),Rf.bind(null,l,i,a,t),null),a},useId:function(){var e=tt(),t=ye.identifierPrefix;if(ce){var a=Kt,l=Jt;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,t=""+t+"R"+a,a=ci++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Tg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:wr,useFormState:Mo,useActionState:Mo,useOptimistic:function(e){var t=tt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Sr.bind(null,te,!0,a),a.dispatch=t,[e,t]},useMemoCache:pr,useCacheRefresh:function(){return tt().memoizedState=Ug.bind(null,te)}},cm={readContext:We,use:ki,useCallback:$f,useContext:We,useEffect:Qf,useImperativeHandle:Kf,useInsertionEffect:Zf,useLayoutEffect:Vf,useMemo:Wf,useReducer:qs,useRef:Xf,useState:function(){return qs(ta)},useDebugValue:jr,useDeferredValue:function(e,t){var a=Be();return Ff(a,he.memoizedState,e,t)},useTransition:function(){var e=qs(ta)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:zf,useId:tm,useHostTransitionStatus:wr,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){var a=Be();return qf(a,he,e,t)},useMemoCache:pr,useCacheRefresh:am},_g={readContext:We,use:ki,useCallback:$f,useContext:We,useEffect:Qf,useImperativeHandle:Kf,useInsertionEffect:Zf,useLayoutEffect:Vf,useMemo:Wf,useReducer:vc,useRef:Xf,useState:function(){return vc(ta)},useDebugValue:jr,useDeferredValue:function(e,t){var a=Be();return he===null?Nr(a,e,t):Ff(a,he.memoizedState,e,t)},useTransition:function(){var e=vc(ta)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:zf,useId:tm,useHostTransitionStatus:wr,useFormState:zo,useActionState:zo,useOptimistic:function(e,t){var a=Be();return he!==null?qf(a,he,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pr,useCacheRefresh:am},Ml=null,kn=0;function bs(e){var t=kn;return kn+=1,Ml===null&&(Ml=[]),Af(Ml,e,t)}function ln(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function js(e,t){throw t.$$typeof===d0?Error(O(525)):(e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ro(e){var t=e._init;return t(e._payload)}function um(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function a(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function l(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function n(v,g){return v=Pt(v,g),v.index=0,v.sibling=null,v}function i(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function c(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function u(v,g,y,p){return g===null||g.tag!==6?(g=hc(y,v.mode,p),g.return=v,g):(g=n(g,y),g.return=v,g)}function r(v,g,y,p){var N=y.type;return N===fl?d(v,g,y.props.children,p,y.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ua&&Ro(N)===g.type)?(g=n(g,y.props),ln(g,y),g.return=v,g):(g=ks(y.type,y.key,y.props,null,v.mode,p),ln(g,y),g.return=v,g)}function o(v,g,y,p){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=gc(y,v.mode,p),g.return=v,g):(g=n(g,y.children||[]),g.return=v,g)}function d(v,g,y,p,N){return g===null||g.tag!==7?(g=La(y,v.mode,p,N),g.return=v,g):(g=n(g,y),g.return=v,g)}function f(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=hc(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return y=ks(g.type,g.key,g.props,null,v.mode,y),ln(y,g),y.return=v,y;case on:return g=gc(g,v.mode,y),g.return=v,g;case ua:var p=g._init;return g=p(g._payload),f(v,g,y)}if(dn(g)||Il(g))return g=La(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return f(v,bs(g),y);if(g.$$typeof===Vt)return f(v,ys(v,g),y);js(v,g)}return null}function m(v,g,y,p){var N=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return N!==null?null:u(v,g,""+y,p);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ms:return y.key===N?r(v,g,y,p):null;case on:return y.key===N?o(v,g,y,p):null;case ua:return N=y._init,y=N(y._payload),m(v,g,y,p)}if(dn(y)||Il(y))return N!==null?null:d(v,g,y,p,null);if(typeof y.then=="function")return m(v,g,bs(y),p);if(y.$$typeof===Vt)return m(v,g,ys(v,y),p);js(v,y)}return null}function h(v,g,y,p,N){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return v=v.get(y)||null,u(g,v,""+p,N);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return v=v.get(p.key===null?y:p.key)||null,r(g,v,p,N);case on:return v=v.get(p.key===null?y:p.key)||null,o(g,v,p,N);case ua:var U=p._init;return p=U(p._payload),h(v,g,y,p,N)}if(dn(p)||Il(p))return v=v.get(y)||null,d(g,v,p,N,null);if(typeof p.then=="function")return h(v,g,y,bs(p),N);if(p.$$typeof===Vt)return h(v,g,y,ys(g,p),N);js(g,p)}return null}function w(v,g,y,p){for(var N=null,U=null,b=g,j=g=0,z=null;b!==null&&j<y.length;j++){b.index>j?(z=b,b=null):z=b.sibling;var _=m(v,b,y[j],p);if(_===null){b===null&&(b=z);break}e&&b&&_.alternate===null&&t(v,b),g=i(_,g,j),U===null?N=_:U.sibling=_,U=_,b=z}if(j===y.length)return a(v,b),ce&&ka(v,j),N;if(b===null){for(;j<y.length;j++)b=f(v,y[j],p),b!==null&&(g=i(b,g,j),U===null?N=b:U.sibling=b,U=b);return ce&&ka(v,j),N}for(b=l(b);j<y.length;j++)z=h(b,v,j,y[j],p),z!==null&&(e&&z.alternate!==null&&b.delete(z.key===null?j:z.key),g=i(z,g,j),U===null?N=z:U.sibling=z,U=z);return e&&b.forEach(function(Q){return t(v,Q)}),ce&&ka(v,j),N}function S(v,g,y,p){if(y==null)throw Error(O(151));for(var N=null,U=null,b=g,j=g=0,z=null,_=y.next();b!==null&&!_.done;j++,_=y.next()){b.index>j?(z=b,b=null):z=b.sibling;var Q=m(v,b,_.value,p);if(Q===null){b===null&&(b=z);break}e&&b&&Q.alternate===null&&t(v,b),g=i(Q,g,j),U===null?N=Q:U.sibling=Q,U=Q,b=z}if(_.done)return a(v,b),ce&&ka(v,j),N;if(b===null){for(;!_.done;j++,_=y.next())_=f(v,_.value,p),_!==null&&(g=i(_,g,j),U===null?N=_:U.sibling=_,U=_);return ce&&ka(v,j),N}for(b=l(b);!_.done;j++,_=y.next())_=h(b,v,j,_.value,p),_!==null&&(e&&_.alternate!==null&&b.delete(_.key===null?j:_.key),g=i(_,g,j),U===null?N=_:U.sibling=_,U=_);return e&&b.forEach(function(M){return t(v,M)}),ce&&ka(v,j),N}function D(v,g,y,p){if(typeof y=="object"&&y!==null&&y.type===fl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ms:e:{for(var N=y.key;g!==null;){if(g.key===N){if(N=y.type,N===fl){if(g.tag===7){a(v,g.sibling),p=n(g,y.props.children),p.return=v,v=p;break e}}else if(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ua&&Ro(N)===g.type){a(v,g.sibling),p=n(g,y.props),ln(p,y),p.return=v,v=p;break e}a(v,g);break}else t(v,g);g=g.sibling}y.type===fl?(p=La(y.props.children,v.mode,p,y.key),p.return=v,v=p):(p=ks(y.type,y.key,y.props,null,v.mode,p),ln(p,y),p.return=v,v=p)}return c(v);case on:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){a(v,g.sibling),p=n(g,y.children||[]),p.return=v,v=p;break e}else{a(v,g);break}else t(v,g);g=g.sibling}p=gc(y,v.mode,p),p.return=v,v=p}return c(v);case ua:return N=y._init,y=N(y._payload),D(v,g,y,p)}if(dn(y))return w(v,g,y,p);if(Il(y)){if(N=Il(y),typeof N!="function")throw Error(O(150));return y=N.call(y),S(v,g,y,p)}if(typeof y.then=="function")return D(v,g,bs(y),p);if(y.$$typeof===Vt)return D(v,g,ys(v,y),p);js(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(a(v,g.sibling),p=n(g,y),p.return=v,v=p):(a(v,g),p=hc(y,v.mode,p),p.return=v,v=p),c(v)):a(v,g)}return function(v,g,y,p){try{kn=0;var N=D(v,g,y,p);return Ml=null,N}catch(b){if(b===ns||b===_i)throw b;var U=dt(29,b,null,v.mode);return U.lanes=p,U.return=v,U}finally{}}}var Ll=um(!0),rm=um(!1),Et=Lt(null),qt=null;function da(e){var t=e.alternate;we(Le,Le.current&1),we(Et,e),qt===null&&(t===null||Bl.current!==null||t.memoizedState!==null)&&(qt=e)}function om(e){if(e.tag===22){if(we(Le,Le.current),we(Et,e),qt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(qt=e)}}else fa()}function fa(){we(Le,Le.current),we(Et,Et.current)}function Wt(e){Qe(Et),qt===e&&(qt=null),Qe(Le)}var Le=Lt(0);function ri(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Uu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function yc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:be({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var vu={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ht(),n=pa(l);n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(gt(t,e,l),pn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ht(),n=pa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(gt(t,e,l),pn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ht(),l=pa(a);l.tag=2,t!=null&&(l.callback=t),t=ba(e,l,a),t!==null&&(gt(t,e,a),pn(t,e,a))}};function _o(e,t,a,l,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,c):t.prototype&&t.prototype.isPureReactComponent?!Un(a,l)||!Un(n,i):!0}function ko(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=be({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dm(e){oi(e)}function fm(e){console.error(e)}function mm(e){oi(e)}function di(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bo(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function yu(e,t,a){return a=pa(a),a.tag=3,a.payload={element:null},a.callback=function(){di(e,t)},a}function hm(e){return e=pa(e),e.tag=3,e}function gm(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Bo(t,a,l)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Bo(t,a,l),typeof n!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var u=l.stack;this.componentDidCatch(l.value,{componentStack:u!==null?u:""})})}function kg(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&as(t,a,n,!0),a=Et.current,a!==null){switch(a.tag){case 13:return qt===null?Cu():a.alternate===null&&De===0&&(De=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ou?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Oc(e,l,n)),!1;case 22:return a.flags|=65536,l===ou?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Oc(e,l,n)),!1}throw Error(O(435,a.tag))}return Oc(e,l,n),Cu(),!1}if(ce)return t=Et.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==su&&(e=Error(O(422),{cause:l}),Rn(wt(e,a)))):(l!==su&&(t=Error(O(423),{cause:l}),Rn(wt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=wt(l,a),n=yu(e.stateNode,l,n),xc(e,n),De!==4&&(De=2)),!1;var i=Error(O(520),{cause:l});if(i=wt(i,a),En===null?En=[i]:En.push(i),De!==4&&(De=2),t===null)return!0;l=wt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=yu(a.stateNode,l,e),xc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ja===null||!ja.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=hm(n),gm(n,e,a,l),xc(a,n),!1}a=a.return}while(a!==null);return!1}var xm=Error(O(461)),Xe=!1;function Ze(e,t,a,l){t.child=e===null?rm(t,null,a,l):Ll(t,e.child,a,l)}function qo(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var c={};for(var u in l)u!=="ref"&&(c[u]=l[u])}else c=l;return Va(t),l=hr(e,t,a,c,i,n),u=gr(),e!==null&&!Xe?(xr(e,t,n),aa(e,t,n)):(ce&&u&&cr(t),t.flags|=1,Ze(e,t,l,n),t.child)}function Lo(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!ir(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,vm(e,t,i,l,n)):(e=ks(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Er(e,n)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:Un,a(c,l)&&e.ref===t.ref)return aa(e,t,n)}return t.flags|=1,e=Pt(i,l),e.ref=t.ref,e.return=t,t.child=e}function vm(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Un(i,l)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=l=i,Er(e,n))e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,aa(e,t,n)}return pu(e,t,a,l,n)}function ym(e,t,a){var l=t.pendingProps,n=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if(t.flags&128){if(l=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~l}else t.childLanes=0,t.child=null;return Ho(e,t,l,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bs(t,i!==null?i.cachePool:null),i!==null?Ao(t,i):mu(),om(t);else return t.lanes=t.childLanes=536870912,Ho(e,t,i!==null?i.baseLanes|a:a,a)}else i!==null?(Bs(t,i.cachePool),Ao(t,i),fa(),t.memoizedState=null):(e!==null&&Bs(t,null),mu(),fa());return Ze(e,t,n,a),t.child}function Ho(e,t,a,l){var n=or();return n=n===null?null:{parent:qe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Bs(t,null),mu(),om(t),e!==null&&as(e,t,l,!0),null}function Hs(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(O(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function pu(e,t,a,l,n){return Va(t),a=hr(e,t,a,l,void 0,n),l=gr(),e!==null&&!Xe?(xr(e,t,n),aa(e,t,n)):(ce&&l&&cr(t),t.flags|=1,Ze(e,t,a,n),t.child)}function Yo(e,t,a,l,n,i){return Va(t),t.updateQueue=null,a=Df(t,l,a,n),Mf(e),l=gr(),e!==null&&!Xe?(xr(e,t,i),aa(e,t,i)):(ce&&l&&cr(t),t.flags|=1,Ze(e,t,a,i),t.child)}function Go(e,t,a,l,n){if(Va(t),t.stateNode===null){var i=bl,c=a.contextType;typeof c=="object"&&c!==null&&(i=We(c)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},dr(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?We(c):bl,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(yc(t,a,c,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&vu.enqueueReplaceState(i,i.state,null),jn(t,l,i,n),bn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,r=Ka(a,u);i.props=r;var o=i.context,d=a.contextType;c=bl,typeof d=="object"&&d!==null&&(c=We(d));var f=a.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||o!==c)&&ko(t,i,l,c),ra=!1;var m=t.memoizedState;i.state=m,jn(t,l,i,n),bn(),o=t.memoizedState,u||m!==o||ra?(typeof f=="function"&&(yc(t,a,f,l),o=t.memoizedState),(r=ra||_o(t,a,r,l,m,o,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=o),i.props=l,i.state=o,i.context=c,l=r):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,du(e,t),c=t.memoizedProps,d=Ka(a,c),i.props=d,f=t.pendingProps,m=i.context,o=a.contextType,r=bl,typeof o=="object"&&o!==null&&(r=We(o)),u=a.getDerivedStateFromProps,(o=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==f||m!==r)&&ko(t,i,l,r),ra=!1,m=t.memoizedState,i.state=m,jn(t,l,i,n),bn();var h=t.memoizedState;c!==f||m!==h||ra||e!==null&&e.dependencies!==null&&ni(e.dependencies)?(typeof u=="function"&&(yc(t,a,u,l),h=t.memoizedState),(d=ra||_o(t,a,d,l,m,h,r)||e!==null&&e.dependencies!==null&&ni(e.dependencies))?(o||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,h,r),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,h,r)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=h),i.props=l,i.state=h,i.context=r,l=d):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Hs(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ll(t,e.child,null,n),t.child=Ll(t,null,a,n)):Ze(e,t,a,n),t.memoizedState=i.state,e=t.child):e=aa(e,t,n),e}function Xo(e,t,a,l){return ts(),t.flags|=256,Ze(e,t,a,l),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:Ef()}}function jc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=St),e}function pm(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ce){if(n?da(t):fa(),ce){var u=Me,r;if(r=u){e:{for(r=u,u=Rt;r.nodeType!==8;){if(!u){u=null;break e}if(r=Tt(r.nextSibling),r===null){u=null;break e}}u=r}u!==null?(t.memoizedState={dehydrated:u,treeContext:Ha!==null?{id:Jt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},r=dt(18,null,null,0),r.stateNode=u,r.return=t,t.child=r,Fe=t,Me=null,r=!0):r=!1}r||Za(t)}if(u=t.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Uu(u)?t.lanes=32:t.lanes=536870912,null;Wt(t)}return u=l.children,l=l.fallback,n?(fa(),n=t.mode,u=fi({mode:"hidden",children:u},n),l=La(l,n,a,null),u.return=t,l.return=t,u.sibling=l,t.child=u,n=t.child,n.memoizedState=bc(a),n.childLanes=jc(e,c,a),t.memoizedState=pc,l):(da(t),bu(t,u))}if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null)){if(i)t.flags&256?(da(t),t.flags&=-257,t=Nc(e,t,a)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),n=l.fallback,u=t.mode,l=fi({mode:"visible",children:l.children},u),n=La(n,u,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,Ll(t,e.child,null,a),l=t.child,l.memoizedState=bc(a),l.childLanes=jc(e,c,a),t.memoizedState=pc,t=n);else if(da(t),Uu(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var o=c.dgst;c=o,l=Error(O(419)),l.stack="",l.digest=c,Rn({value:l,source:null,stack:null}),t=Nc(e,t,a)}else if(Xe||as(e,t,a,!1),c=(a&e.childLanes)!==0,Xe||c){if(c=ye,c!==null&&(l=a&-a,l=l&42?1:$u(l),l=l&(c.suspendedLanes|a)?0:l,l!==0&&l!==r.retryLane))throw r.retryLane=l,Jl(e,l),gt(c,e,l),xm;u.data==="$?"||Cu(),t=Nc(e,t,a)}else u.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=r.treeContext,Me=Tt(u.nextSibling),Fe=t,ce=!0,Ya=null,Rt=!1,e!==null&&(bt[jt++]=Jt,bt[jt++]=Kt,bt[jt++]=Ha,Jt=e.id,Kt=e.overflow,Ha=t),t=bu(t,l.children),t.flags|=4096);return t}return n?(fa(),n=l.fallback,u=t.mode,r=e.child,o=r.sibling,l=Pt(r,{mode:"hidden",children:l.children}),l.subtreeFlags=r.subtreeFlags&65011712,o!==null?n=Pt(o,n):(n=La(n,u,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,u=e.child.memoizedState,u===null?u=bc(a):(r=u.cachePool,r!==null?(o=qe._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=Ef(),u={baseLanes:u.baseLanes|a,cachePool:r}),n.memoizedState=u,n.childLanes=jc(e,c,a),t.memoizedState=pc,l):(da(t),a=e.child,e=a.sibling,a=Pt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function bu(e,t){return t=fi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function fi(e,t){return e=dt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Nc(e,t,a){return Ll(t,e.child,null,a),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qo(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),cu(e.return,t,a)}function wc(e,t,a,l,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=a,i.tailMode=n)}function bm(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;if(Ze(e,t,l.children,a),l=Le.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,a,t);else if(e.tag===19)Qo(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(we(Le,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ri(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),wc(t,!1,n,a,i);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ri(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}wc(t,!0,a,null,i);break;case"together":wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,!(a&t.childLanes))if(e!==null){if(as(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,a=Pt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Pt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Er(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ni(e)))}function Bg(e,t,a){switch(t.tag){case 3:Ws(t,t.stateNode.containerInfo),oa(t,qe,e.memoizedState.cache),ts();break;case 27:case 5:$c(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:oa(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(da(t),t.flags|=128,null):a&t.child.childLanes?pm(e,t,a):(da(t),e=aa(e,t,a),e!==null?e.sibling:null);da(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(as(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return bm(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),we(Le,Le.current),l)break;return null;case 22:case 23:return t.lanes=0,ym(e,t,a);case 24:oa(t,qe,e.memoizedState.cache)}return aa(e,t,a)}function jm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!Er(e,a)&&!(t.flags&128))return Xe=!1,Bg(e,t,a);Xe=!!(e.flags&131072)}else Xe=!1,ce&&t.flags&1048576&&wf(t,li,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")ir(l)?(e=Ka(l,e),t.tag=1,t=Go(null,t,l,e,a)):(t.tag=0,t=pu(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===Vu){t.tag=11,t=qo(null,t,l,e,a);break e}else if(n===Ju){t.tag=14,t=Lo(null,t,l,e,a);break e}}throw t=Jc(l)||l,Error(O(306,t,""))}}return t;case 0:return pu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Ka(l,t.pendingProps),Go(e,t,l,n,a);case 3:e:{if(Ws(t,t.stateNode.containerInfo),e===null)throw Error(O(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,du(e,t),jn(t,l,null,a);var c=t.memoizedState;if(l=c.cache,oa(t,qe,l),l!==i.cache&&uu(t,[qe],a,!0),bn(),l=c.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Xo(e,t,l,a);break e}else if(l!==n){n=wt(Error(O(424)),t),Rn(n),t=Xo(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Tt(e.firstChild),Fe=t,ce=!0,Ya=null,Rt=!0,a=rm(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ts(),l===n){t=aa(e,t,a);break e}Ze(e,t,l,a)}t=t.child}return t;case 26:return Hs(e,t),e===null?(a=cd(t.type,null,t.pendingProps,null))?t.memoizedState=a:ce||(a=t.type,e=t.pendingProps,l=pi(ya.current).createElement(a),l[$e]=t,l[nt]=e,Je(l,a,e),Ge(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $c(t),e===null&&ce&&(l=t.stateNode=ch(t.type,t.pendingProps,ya.current),Fe=t,Rt=!0,n=Me,za(t.type)?(Ru=n,Me=Tt(l.firstChild)):Me=n),Ze(e,t,t.pendingProps.children,a),Hs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ce&&((n=l=Me)&&(l=dx(l,t.type,t.pendingProps,Rt),l!==null?(t.stateNode=l,Fe=t,Me=Tt(l.firstChild),Rt=!1,n=!0):n=!1),n||Za(t)),$c(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,l=i.children,Du(n,i)?l=null:c!==null&&Du(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=hr(e,t,Og,null,null,a),Hn._currentValue=n),Hs(e,t),Ze(e,t,l,a),t.child;case 6:return e===null&&ce&&((e=a=Me)&&(a=fx(a,t.pendingProps,Rt),a!==null?(t.stateNode=a,Fe=t,Me=null,e=!0):e=!1),e||Za(t)),null;case 13:return pm(e,t,a);case 4:return Ws(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ll(t,null,l,a):Ze(e,t,l,a),t.child;case 11:return qo(e,t,t.type,t.pendingProps,a);case 7:return Ze(e,t,t.pendingProps,a),t.child;case 8:return Ze(e,t,t.pendingProps.children,a),t.child;case 12:return Ze(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,oa(t,t.type,l.value),Ze(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Va(t),n=We(n),l=l(n),t.flags|=1,Ze(e,t,l,a),t.child;case 14:return Lo(e,t,t.type,t.pendingProps,a);case 15:return vm(e,t,t.type,t.pendingProps,a);case 19:return bm(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=fi(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Pt(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return ym(e,t,a);case 24:return Va(t),l=We(qe),e===null?(n=or(),n===null&&(n=ye,i=rr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},dr(t),oa(t,qe,n)):(e.lanes&a&&(du(e,t),jn(t,null,null,a),bn()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),oa(t,qe,l)):(l=i.cache,oa(t,qe,l),l!==n.cache&&uu(t,[qe],a,!0))),Ze(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(O(156,t.tag))}function Gt(e){e.flags|=4}function Zo(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(t=Et.current,t!==null&&((se&4194048)===se?qt!==null:(se&62914560)!==se&&!(se&536870912)||t!==qt))throw yn=ou,Cf;e.flags|=8192}}function Ns(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vd():536870912,e.lanes|=t,Hl|=t)}function nn(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function qg(e,t,a){var l=t.pendingProps;switch(ur(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Ee(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),It(qe),Ul(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(an(t)?Gt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jo())),Ee(t),null;case 26:return a=t.memoizedState,e===null?(Gt(t),a!==null?(Ee(t),Zo(t,a)):(Ee(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Gt(t),Ee(t),Zo(t,a)):(Ee(t),t.flags&=-16777217):(e.memoizedProps!==l&&Gt(t),Ee(t),t.flags&=-16777217),null;case 27:Fs(t),a=ya.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Gt(t);else{if(!l){if(t.stateNode===null)throw Error(O(166));return Ee(t),null}e=kt.current,an(t)?po(t):(e=ch(n,l,a),t.stateNode=e,Gt(t))}return Ee(t),null;case 5:if(Fs(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Gt(t);else{if(!l){if(t.stateNode===null)throw Error(O(166));return Ee(t),null}if(e=kt.current,an(t))po(t);else{switch(n=pi(ya.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[$e]=t,e[nt]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Gt(t)}}return Ee(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Gt(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(O(166));if(e=ya.current,an(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=Fe,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[$e]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nh(e.nodeValue,a)),e||Za(t)}else e=pi(e).createTextNode(l),e[$e]=t,t.stateNode=e}return Ee(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=an(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(O(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(O(317));n[$e]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),n=!1}else n=jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Wt(t),t):(Wt(t),null)}if(Wt(t),t.flags&128)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var i=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ns(t,t.updateQueue),Ee(t),null;case 4:return Ul(),e===null&&Ur(t.stateNode.containerInfo),Ee(t),null;case 10:return It(t.type),Ee(t),null;case 19:if(Qe(Le),n=t.memoizedState,n===null)return Ee(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)nn(n,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ri(e),i!==null){for(t.flags|=128,nn(n,!1),e=i.updateQueue,t.updateQueue=e,Ns(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nf(a,e),a=a.sibling;return we(Le,Le.current&1|2),t.child}e=e.sibling}n.tail!==null&&Bt()>hi&&(t.flags|=128,l=!0,nn(n,!1),t.lanes=4194304)}else{if(!l)if(e=ri(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ns(t,e),nn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ce)return Ee(t),null}else 2*Bt()-n.renderingStartTime>hi&&a!==536870912&&(t.flags|=128,l=!0,nn(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Bt(),t.sibling=null,e=Le.current,we(Le,l?e&1|2:e&1),t):(Ee(t),null);case 22:case 23:return Wt(t),fr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),a=t.updateQueue,a!==null&&Ns(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Qe(Ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),It(qe),Ee(t),null;case 25:return null;case 30:return null}throw Error(O(156,t.tag))}function Lg(e,t){switch(ur(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return It(qe),Ul(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fs(t),null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Le),null;case 4:return Ul(),null;case 10:return It(t.type),null;case 22:case 23:return Wt(t),fr(),e!==null&&Qe(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return It(qe),null;case 25:return null;default:return null}}function Nm(e,t){switch(ur(t),t.tag){case 3:It(qe),Ul();break;case 26:case 27:case 5:Fs(t);break;case 4:Ul();break;case 13:Wt(t);break;case 19:Qe(Le);break;case 10:It(t.type);break;case 22:case 23:Wt(t),fr(),e!==null&&Qe(Ga);break;case 24:It(qe)}}function cs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,c=a.inst;l=i(),c.destroy=l}a=a.next}while(a!==n)}}catch(u){xe(t,t.return,u)}}function Ta(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var c=l.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,n=t;var r=a,o=u;try{o()}catch(d){xe(n,r,d)}}}l=l.next}while(l!==i)}}catch(d){xe(t,t.return,d)}}function wm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Of(t,a)}catch(l){xe(e,e.return,l)}}}function Sm(e,t,a){a.props=Ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){xe(e,t,l)}}function wn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){xe(e,t,n)}}function _t(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){xe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){xe(e,t,n)}else a.current=null}function Em(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){xe(e,e.return,n)}}function Sc(e,t,a){try{var l=e.stateNode;ix(l,e.type,a,t),l[nt]=t}catch(n){xe(e,e.return,n)}}function Cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&za(e.type)||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ju(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Gi));else if(l!==4&&(l===27&&za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ju(e,t,a),e=e.sibling;e!==null;)ju(e,t,a),e=e.sibling}function mi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mi(e,t,a),e=e.sibling;e!==null;)mi(e,t,a),e=e.sibling}function Am(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Je(t,l,a),t[$e]=e,t[nt]=a}catch(i){xe(e,e.return,i)}}var Qt=!1,Re=!1,Cc=!1,Vo=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Hg(e,t){if(e=e.containerInfo,Ou=wi,e=hf(e),lr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,u=-1,r=-1,o=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==a||n!==0&&f.nodeType!==3||(u=c+n),f!==i||l!==0&&f.nodeType!==3||(r=c+l),f.nodeType===3&&(c+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===a&&++o===n&&(u=c),m===i&&++d===l&&(r=c),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}a=u===-1||r===-1?null:{start:u,end:r}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mu={focusedElem:e,selectionRange:a},wi=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){switch(t=Ye,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var w=Ka(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(w,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(S){xe(a,a.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)zu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(O(163))}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}}function Tm(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ia(e,a),l&4&&cs(5,a);break;case 1:if(ia(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){xe(a,a.return,c)}else{var n=Ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){xe(a,a.return,c)}}l&64&&wm(a),l&512&&wn(a,a.return);break;case 3:if(ia(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Of(e,t)}catch(c){xe(a,a.return,c)}}break;case 27:t===null&&l&4&&Am(a);case 26:case 5:ia(e,a),t===null&&l&4&&Em(a),l&512&&wn(a,a.return);break;case 12:ia(e,a);break;case 13:ia(e,a),l&4&&Dm(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$g.bind(null,a),mx(e,a))));break;case 22:if(l=a.memoizedState!==null||Qt,!l){t=t!==null&&t.memoizedState!==null||Re,n=Qt;var i=Re;Qt=l,(Re=t)&&!i?ca(e,a,(a.subtreeFlags&8772)!==0):ia(e,a),Qt=n,Re=i}break;case 30:break;default:ia(e,a)}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,at=!1;function Xt(e,t,a){for(a=a.child;a!==null;)Mm(e,t,a),a=a.sibling}function Mm(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Re||_t(a,t),Xt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||_t(a,t);var l=je,n=at;za(a.type)&&(je=a.stateNode,at=!1),Xt(e,t,a),An(a.stateNode),je=l,at=n;break;case 5:Re||_t(a,t);case 6:if(l=je,n=at,je=null,Xt(e,t,a),je=l,at=n,je!==null)if(at)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(i){xe(a,t,i)}else try{je.removeChild(a.stateNode)}catch(i){xe(a,t,i)}break;case 18:je!==null&&(at?(e=je,nd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xn(e)):nd(je,a.stateNode));break;case 4:l=je,n=at,je=a.stateNode.containerInfo,at=!0,Xt(e,t,a),je=l,at=n;break;case 0:case 11:case 14:case 15:Re||Ta(2,a,t),Re||Ta(4,a,t),Xt(e,t,a);break;case 1:Re||(_t(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sm(a,t,l)),Xt(e,t,a);break;case 21:Xt(e,t,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Xt(e,t,a),Re=l;break;default:Xt(e,t,a)}}function Dm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xn(e)}catch(a){xe(t,t.return,a)}}function Yg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vo),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vo),t;default:throw Error(O(435,e.tag))}}function Ac(e,t){var a=Yg(e);t.forEach(function(l){var n=Wg.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function ct(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(za(u.type)){je=u.stateNode,at=!1;break e}break;case 5:je=u.stateNode,at=!1;break e;case 3:case 4:je=u.stateNode.containerInfo,at=!0;break e}u=u.return}if(je===null)throw Error(O(160));Mm(i,c,n),je=null,at=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}var At=null;function zm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ut(e),l&4&&(Ta(3,e,e.return),cs(3,e),Ta(5,e,e.return));break;case 1:ct(t,e),ut(e),l&512&&(Re||a===null||_t(a,a.return)),l&64&&Qt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=At;if(ct(t,e),ut(e),l&512&&(Re||a===null||_t(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[In]||i[$e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),Je(i,l,a),i[$e]=e,Ge(i),l=i;break e;case"link":var c=rd("link","href",n).get(l+(a.href||""));if(c){for(var u=0;u<c.length;u++)if(i=c[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(u,1);break t}}i=n.createElement(l),Je(i,l,a),n.head.appendChild(i);break;case"meta":if(c=rd("meta","content",n).get(l+(a.content||""))){for(u=0;u<c.length;u++)if(i=c[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(u,1);break t}}i=n.createElement(l),Je(i,l,a),n.head.appendChild(i);break;default:throw Error(O(468,l))}i[$e]=e,Ge(i),l=i}e.stateNode=l}else od(n,e.type,e.stateNode);else e.stateNode=ud(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?od(n,e.type,e.stateNode):ud(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ct(t,e),ut(e),l&512&&(Re||a===null||_t(a,a.return)),a!==null&&l&4&&Sc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ct(t,e),ut(e),l&512&&(Re||a===null||_t(a,a.return)),e.flags&32){n=e.stateNode;try{_l(n,"")}catch(h){xe(e,e.return,h)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Sc(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Cc=!0);break;case 6:if(ct(t,e),ut(e),l&4){if(e.stateNode===null)throw Error(O(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(h){xe(e,e.return,h)}}break;case 3:if(Xs=null,n=At,At=bi(t.containerInfo),ct(t,e),At=n,ut(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xn(t.containerInfo)}catch(h){xe(e,e.return,h)}Cc&&(Cc=!1,Um(e));break;case 4:l=At,At=bi(e.stateNode.containerInfo),ct(t,e),ut(e),At=l;break;case 12:ct(t,e),ut(e);break;case 13:ct(t,e),ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mr=Bt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 22:n=e.memoizedState!==null;var r=a!==null&&a.memoizedState!==null,o=Qt,d=Re;if(Qt=o||n,Re=d||r,ct(t,e),Re=d,Qt=o,ut(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||r||Qt||Re||Ba(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){r=a=t;try{if(i=r.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=r.stateNode;var f=r.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;u.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){xe(r,r.return,h)}}}else if(t.tag===6){if(a===null){r=t;try{r.stateNode.nodeValue=n?"":r.memoizedProps}catch(h){xe(r,r.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(e,a))));break;case 19:ct(t,e),ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 30:break;case 21:break;default:ct(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Cm(l)){a=l;break}l=l.return}if(a==null)throw Error(O(160));switch(a.tag){case 27:var n=a.stateNode,i=Ec(e);mi(e,i,n);break;case 5:var c=a.stateNode;a.flags&32&&(_l(c,""),a.flags&=-33);var u=Ec(e);mi(e,u,c);break;case 3:case 4:var r=a.stateNode.containerInfo,o=Ec(e);ju(e,o,r);break;default:throw Error(O(161))}}catch(d){xe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Um(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Um(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ia(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Tm(e,t.alternate,t),t=t.sibling}function Ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ta(4,t,t.return),Ba(t);break;case 1:_t(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Sm(t,t.return,a),Ba(t);break;case 27:An(t.stateNode);case 26:case 5:_t(t,t.return),Ba(t);break;case 22:t.memoizedState===null&&Ba(t);break;case 30:Ba(t);break;default:Ba(t)}e=e.sibling}}function ca(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:ca(n,i,a),cs(4,i);break;case 1:if(ca(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(o){xe(l,l.return,o)}if(l=i,n=l.updateQueue,n!==null){var u=l.stateNode;try{var r=n.shared.hiddenCallbacks;if(r!==null)for(n.shared.hiddenCallbacks=null,n=0;n<r.length;n++)Tf(r[n],u)}catch(o){xe(l,l.return,o)}}a&&c&64&&wm(i),wn(i,i.return);break;case 27:Am(i);case 26:case 5:ca(n,i,a),a&&l===null&&c&4&&Em(i),wn(i,i.return);break;case 12:ca(n,i,a);break;case 13:ca(n,i,a),a&&c&4&&Dm(n,i);break;case 22:i.memoizedState===null&&ca(n,i,a),wn(i,i.return);break;case 30:break;default:ca(n,i,a)}t=t.sibling}}function Cr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ls(a))}function Ar(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e))}function zt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rm(e,t,a,l),t=t.sibling}function Rm(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:zt(e,t,a,l),n&2048&&cs(9,t);break;case 1:zt(e,t,a,l);break;case 3:zt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e)));break;case 12:if(n&2048){zt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,u=i.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(r){xe(t,t.return,r)}}else zt(e,t,a,l);break;case 13:zt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?zt(e,t,a,l):Sn(e,t):i._visibility&2?zt(e,t,a,l):(i._visibility|=2,rl(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Cr(c,t);break;case 24:zt(e,t,a,l),n&2048&&Ar(t.alternate,t);break;default:zt(e,t,a,l)}}function rl(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,c=t,u=a,r=l,o=c.flags;switch(c.tag){case 0:case 11:case 15:rl(i,c,u,r,n),cs(8,c);break;case 23:break;case 22:var d=c.stateNode;c.memoizedState!==null?d._visibility&2?rl(i,c,u,r,n):Sn(i,c):(d._visibility|=2,rl(i,c,u,r,n)),n&&o&2048&&Cr(c.alternate,c);break;case 24:rl(i,c,u,r,n),n&&o&2048&&Ar(c.alternate,c);break;default:rl(i,c,u,r,n)}t=t.sibling}}function Sn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Sn(a,l),n&2048&&Cr(l.alternate,l);break;case 24:Sn(a,l),n&2048&&Ar(l.alternate,l);break;default:Sn(a,l)}t=t.sibling}}var mn=8192;function ll(e){if(e.subtreeFlags&mn)for(e=e.child;e!==null;)_m(e),e=e.sibling}function _m(e){switch(e.tag){case 26:ll(e),e.flags&mn&&e.memoizedState!==null&&Cx(At,e.memoizedState,e.memoizedProps);break;case 5:ll(e);break;case 3:case 4:var t=At;At=bi(e.stateNode.containerInfo),ll(e),At=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=mn,mn=16777216,ll(e),mn=t):ll(e));break;default:ll(e)}}function km(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ye=l,qm(l,e)}km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 0:case 11:case 15:sn(e),e.flags&2048&&Ta(9,e,e.return);break;case 3:sn(e);break;case 12:sn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ys(e)):sn(e);break;default:sn(e)}}function Ys(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Ye=l,qm(l,e)}km(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ta(8,t,t.return),Ys(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ys(t));break;default:Ys(t)}e=e.sibling}}function qm(e,t){for(;Ye!==null;){var a=Ye;switch(a.tag){case 0:case 11:case 15:Ta(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ls(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ye=l;else e:for(a=e;Ye!==null;){l=Ye;var n=l.sibling,i=l.return;if(Om(l),l===a){Ye=null;break e}if(n!==null){n.return=i,Ye=n;break e}Ye=i}}}var Gg={getCacheForType:function(e){var t=We(qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Xg=typeof WeakMap=="function"?WeakMap:Map,de=0,ye=null,le=null,se=0,oe=0,rt=null,xa=!1,Kl=!1,Tr=!1,la=0,De=0,Oa=0,Xa=0,Or=0,St=0,Hl=0,En=null,lt=null,Nu=!1,Mr=0,hi=1/0,gi=null,ja=null,Ve=0,Na=null,Yl=null,Dl=0,wu=0,Su=null,Lm=null,Cn=0,Eu=null;function ht(){if(de&2&&se!==0)return se&-se;if($.T!==null){var e=kl;return e!==0?e:zr()}return $d()}function Hm(){St===0&&(St=!(se&536870912)||ce?Zd():536870912);var e=Et.current;return e!==null&&(e.flags|=32),St}function gt(e,t,a){(e===ye&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),va(e,se,St,!1)),Pn(e,a),(!(de&2)||e!==ye)&&(e===ye&&(!(de&2)&&(Xa|=a),De===4&&va(e,se,St,!1)),Ht(e))}function Ym(e,t,a){if(de&6)throw Error(O(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Fn(e,t),n=l?Vg(e,t):Tc(e,t,!0),i=l;do{if(n===0){Kl&&!l&&va(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Qg(a)){n=Tc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;n=En;var r=u.current.memoizedState.isDehydrated;if(r&&(Gl(u,c).flags|=256),c=Tc(u,c,!1),c!==2){if(Tr&&!r){u.errorRecoveryDisabledLanes|=i,Xa|=i,n=4;break e}i=lt,lt=n,i!==null&&(lt===null?lt=i:lt.push.apply(lt,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Gl(e,0),va(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(O(345));case 4:if((t&4194048)!==t)break;case 6:va(l,t,St,!xa);break e;case 2:lt=null;break;case 3:case 5:break;default:throw Error(O(329))}if((t&62914560)===t&&(n=Mr+300-Bt(),10<n)){if(va(l,t,St,!xa),Oi(l,0,!0)!==0)break e;l.timeoutHandle=ih(Jo.bind(null,l,a,lt,gi,Nu,t,St,Xa,Hl,xa,i,2,-0,0),n);break e}Jo(l,a,lt,gi,Nu,t,St,Xa,Hl,xa,i,0,-0,0)}}break}while(!0);Ht(e)}function Jo(e,t,a,l,n,i,c,u,r,o,d,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ln={stylesheets:null,count:0,unsuspend:Ex},_m(t),f=Ax(),f!==null)){e.cancelPendingCommit=f($o.bind(null,e,t,i,a,l,n,c,u,r,d,1,m,h)),va(e,i,c,!o);return}$o(e,t,i,a,l,n,c,u,r)}function Qg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!xt(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t,a,l){t&=~Or,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-mt(n),c=1<<i;l[i]=-1,n&=~c}a!==0&&Jd(e,a,t)}function Li(){return de&6?!0:(us(0),!1)}function Dr(){if(le!==null){if(oe===0)var e=le.return;else e=le,$t=el=null,vr(e),Ml=null,kn=0,e=le;for(;e!==null;)Nm(e.alternate,e),e=e.return;le=null}}function Gl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ux(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dr(),ye=e,le=a=Pt(e.current,null),se=t,oe=0,rt=null,xa=!1,Kl=Fn(e,t),Tr=!1,Hl=St=Or=Xa=Oa=De=0,lt=En=null,Nu=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-mt(l),i=1<<n;t|=e[n],l&=~i}return la=t,Ui(),a}function Gm(e,t){te=null,$.H=ui,t===ns||t===_i?(t=Eo(),oe=3):t===Cf?(t=Eo(),oe=4):oe=t===xm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rt=t,le===null&&(De=1,di(e,wt(t,e.current)))}function Xm(){var e=$.H;return $.H=ui,e===null?ui:e}function Qm(){var e=$.A;return $.A=Gg,e}function Cu(){De=4,xa||(se&4194048)!==se&&Et.current!==null||(Kl=!0),!(Oa&134217727)&&!(Xa&134217727)||ye===null||va(ye,se,St,!1)}function Tc(e,t,a){var l=de;de|=2;var n=Xm(),i=Qm();(ye!==e||se!==t)&&(gi=null,Gl(e,t)),t=!1;var c=De;e:do try{if(oe!==0&&le!==null){var u=le,r=rt;switch(oe){case 8:Dr(),c=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var o=oe;if(oe=0,rt=null,wl(e,u,r,o),a&&Kl){c=0;break e}break;default:o=oe,oe=0,rt=null,wl(e,u,r,o)}}Zg(),c=De;break}catch(d){Gm(e,d)}while(!0);return t&&e.shellSuspendCounter++,$t=el=null,de=l,$.H=n,$.A=i,le===null&&(ye=null,se=0,Ui()),c}function Zg(){for(;le!==null;)Zm(le)}function Vg(e,t){var a=de;de|=2;var l=Xm(),n=Qm();ye!==e||se!==t?(gi=null,hi=Bt()+500,Gl(e,t)):Kl=Fn(e,t);e:do try{if(oe!==0&&le!==null){t=le;var i=rt;t:switch(oe){case 1:oe=0,rt=null,wl(e,t,i,1);break;case 2:case 9:if(So(i)){oe=0,rt=null,Ko(t);break}t=function(){oe!==2&&oe!==9||ye!==e||(oe=7),Ht(e)},i.then(t,t);break e;case 3:oe=7;break e;case 4:oe=5;break e;case 7:So(i)?(oe=0,rt=null,Ko(t)):(oe=0,rt=null,wl(e,t,i,7));break;case 5:var c=null;switch(le.tag){case 26:c=le.memoizedState;case 5:case 27:var u=le;if(!c||oh(c)){oe=0,rt=null;var r=u.sibling;if(r!==null)le=r;else{var o=u.return;o!==null?(le=o,Hi(o)):le=null}break t}}oe=0,rt=null,wl(e,t,i,5);break;case 6:oe=0,rt=null,wl(e,t,i,6);break;case 8:Dr(),De=6;break e;default:throw Error(O(462))}}Jg();break}catch(d){Gm(e,d)}while(!0);return $t=el=null,$.H=l,$.A=n,de=a,le!==null?0:(ye=null,se=0,Ui(),De)}function Jg(){for(;le!==null&&!g0();)Zm(le)}function Zm(e){var t=jm(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?Hi(e):le=t}function Ko(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yo(a,t,t.pendingProps,t.type,void 0,se);break;case 11:t=Yo(a,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:vr(t);default:Nm(a,t),t=le=Nf(t,la),t=jm(a,t,la)}e.memoizedProps=e.pendingProps,t===null?Hi(e):le=t}function wl(e,t,a,l){$t=el=null,vr(t),Ml=null,kn=0;var n=t.return;try{if(kg(e,n,t,a,se)){De=1,di(e,wt(a,e.current)),le=null;return}}catch(i){if(n!==null)throw le=n,i;De=1,di(e,wt(a,e.current)),le=null;return}t.flags&32768?(ce||l===1?e=!0:Kl||se&536870912?e=!1:(xa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Et.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vm(t,e)):Hi(t)}function Hi(e){var t=e;do{if(t.flags&32768){Vm(t,xa);return}e=t.return;var a=qg(t.alternate,t,la);if(a!==null){le=a;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);De===0&&(De=5)}function Vm(e,t){do{var a=Lg(e.alternate,e);if(a!==null){a.flags&=32767,le=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){le=e;return}le=e=a}while(e!==null);De=6,le=null}function $o(e,t,a,l,n,i,c,u,r){e.cancelPendingCommit=null;do Yi();while(Ve!==0);if(de&6)throw Error(O(327));if(t!==null){if(t===e.current)throw Error(O(177));if(i=t.lanes|t.childLanes,i|=nr,E0(e,a,i,c,u,r),e===ye&&(le=ye=null,se=0),Yl=t,Na=e,Dl=a,wu=i,Su=n,Lm=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Fg(Ps,function(){return Fm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=$.T,$.T=null,n=ue.p,ue.p=2,c=de,de|=4;try{Hg(e,t,a)}finally{de=c,ue.p=n,$.T=l}}Ve=1,Jm(),Km(),$m()}}function Jm(){if(Ve===1){Ve=0;var e=Na,t=Yl,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var n=de;de|=4;try{zm(t,e);var i=Mu,c=hf(e.containerInfo),u=i.focusedElem,r=i.selectionRange;if(c!==u&&u&&u.ownerDocument&&mf(u.ownerDocument.documentElement,u)){if(r!==null&&lr(u)){var o=r.start,d=r.end;if(d===void 0&&(d=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(d,u.value.length);else{var f=u.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),w=u.textContent.length,S=Math.min(r.start,w),D=r.end===void 0?S:Math.min(r.end,w);!h.extend&&S>D&&(c=D,D=S,S=c);var v=xo(u,S),g=xo(u,D);if(v&&g&&(h.rangeCount!==1||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var y=f.createRange();y.setStart(v.node,v.offset),h.removeAllRanges(),S>D?(h.addRange(y),h.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),h.addRange(y))}}}}for(f=[],h=u;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<f.length;u++){var p=f[u];p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}wi=!!Ou,Mu=Ou=null}finally{de=n,ue.p=l,$.T=a}}e.current=t,Ve=2}}function Km(){if(Ve===2){Ve=0;var e=Na,t=Yl,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=$.T,$.T=null;var l=ue.p;ue.p=2;var n=de;de|=4;try{Tm(e,t.alternate,t)}finally{de=n,ue.p=l,$.T=a}}Ve=3}}function $m(){if(Ve===4||Ve===3){Ve=0,x0();var e=Na,t=Yl,a=Dl,l=Lm;t.subtreeFlags&10256||t.flags&10256?Ve=5:(Ve=0,Yl=Na=null,Wm(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ja=null),Wu(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Wn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=$.T,n=ue.p,ue.p=2,$.T=null;try{for(var i=e.onRecoverableError,c=0;c<l.length;c++){var u=l[c];i(u.value,{componentStack:u.stack})}}finally{$.T=t,ue.p=n}}Dl&3&&Yi(),Ht(e),n=e.pendingLanes,a&4194090&&n&42?e===Eu?Cn++:(Cn=0,Eu=e):Cn=0,us(0)}}function Wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ls(t)))}function Yi(e){return Jm(),Km(),$m(),Fm()}function Fm(){if(Ve!==5)return!1;var e=Na,t=wu;wu=0;var a=Wu(Dl),l=$.T,n=ue.p;try{ue.p=32>a?32:a,$.T=null,a=Su,Su=null;var i=Na,c=Dl;if(Ve=0,Yl=Na=null,Dl=0,de&6)throw Error(O(331));var u=de;if(de|=4,Bm(i.current),Rm(i,i.current,c,a),de=u,us(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Wn,i)}catch{}return!0}finally{ue.p=n,$.T=l,Wm(e,t)}}function Wo(e,t,a){t=wt(a,t),t=yu(e.stateNode,t,2),e=ba(e,t,2),e!==null&&(Pn(e,2),Ht(e))}function xe(e,t,a){if(e.tag===3)Wo(e,e,a);else for(;t!==null;){if(t.tag===3){Wo(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ja===null||!ja.has(l))){e=wt(a,e),a=hm(2),l=ba(t,a,2),l!==null&&(gm(a,l,t,e),Pn(l,2),Ht(l));break}}t=t.return}}function Oc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Xg;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Tr=!0,n.add(a),e=Kg.bind(null,e,t,a),t.then(e,e))}function Kg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ye===e&&(se&a)===a&&(De===4||De===3&&(se&62914560)===se&&300>Bt()-Mr?!(de&2)&&Gl(e,0):Or|=a,Hl===se&&(Hl=0)),Ht(e)}function Pm(e,t){t===0&&(t=Vd()),e=Jl(e,t),e!==null&&(Pn(e,t),Ht(e))}function $g(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Pm(e,a)}function Wg(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(O(314))}l!==null&&l.delete(t),Pm(e,a)}function Fg(e,t){return Ku(e,t)}var xi=null,ol=null,Au=!1,vi=!1,Mc=!1,Qa=0;function Ht(e){e!==ol&&e.next===null&&(ol===null?xi=ol=e:ol=ol.next=e),vi=!0,Au||(Au=!0,Ig())}function us(e,t){if(!Mc&&vi){Mc=!0;do for(var a=!1,l=xi;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var c=l.suspendedLanes,u=l.pingedLanes;i=(1<<31-mt(42|e)+1)-1,i&=n&~(c&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Fo(l,i))}else i=se,i=Oi(l,l===ye?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(i&3)||Fn(l,i)||(a=!0,Fo(l,i));l=l.next}while(a);Mc=!1}}function Pg(){Im()}function Im(){vi=Au=!1;var e=0;Qa!==0&&(cx()&&(e=Qa),Qa=0);for(var t=Bt(),a=null,l=xi;l!==null;){var n=l.next,i=eh(l,t);i===0?(l.next=null,a===null?xi=n:a.next=n,n===null&&(ol=a)):(a=l,(e!==0||i&3)&&(vi=!0)),l=n}us(e)}function eh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-mt(i),u=1<<c,r=n[c];r===-1?(!(u&a)||u&l)&&(n[c]=S0(u,t)):r<=t&&(e.expiredLanes|=u),i&=~u}if(t=ye,a=se,a=Oi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ac(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Fn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ac(l),Wu(a)){case 2:case 8:a=Xd;break;case 32:a=Ps;break;case 268435456:a=Qd;break;default:a=Ps}return l=th.bind(null,e),a=Ku(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ac(l),e.callbackPriority=2,e.callbackNode=null,2}function th(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yi()&&e.callbackNode!==a)return null;var l=se;return l=Oi(e,e===ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ym(e,l,t),eh(e,Bt()),e.callbackNode!=null&&e.callbackNode===a?th.bind(null,e):null)}function Fo(e,t){if(Yi())return null;Ym(e,t,!0)}function Ig(){rx(function(){de&6?Ku(Gd,Pg):Im()})}function zr(){return Qa===0&&(Qa=Zd()),Qa}function Po(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Us(""+e)}function Io(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ex(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Po((n[nt]||null).action),c=l.submitter;c&&(t=(t=c[nt]||null)?Po(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var u=new Mi("action","action",null,l,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var r=c?Io(n,c):new FormData(n);xu(a,{pending:!0,data:r,method:n.method,action:i},null,r)}}else typeof i=="function"&&(u.preventDefault(),r=c?Io(n,c):new FormData(n),xu(a,{pending:!0,data:r,method:n.method,action:i},i,r))},currentTarget:n}]})}}for(var Dc=0;Dc<nu.length;Dc++){var zc=nu[Dc],tx=zc.toLowerCase(),ax=zc[0].toUpperCase()+zc.slice(1);Mt(tx,"on"+ax)}Mt(xf,"onAnimationEnd");Mt(vf,"onAnimationIteration");Mt(yf,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(pg,"onTransitionRun");Mt(bg,"onTransitionStart");Mt(jg,"onTransitionCancel");Mt(pf,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bn));function ah(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var c=l.length-1;0<=c;c--){var u=l[c],r=u.instance,o=u.currentTarget;if(u=u.listener,r!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=o;try{i(n)}catch(d){oi(d)}n.currentTarget=null,i=r}else for(c=0;c<l.length;c++){if(u=l[c],r=u.instance,o=u.currentTarget,u=u.listener,r!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=o;try{i(n)}catch(d){oi(d)}n.currentTarget=null,i=r}}}}function ae(e,t){var a=t[Fc];a===void 0&&(a=t[Fc]=new Set);var l=e+"__bubble";a.has(l)||(lh(t,e,2,!1),a.add(l))}function Uc(e,t,a){var l=0;t&&(l|=4),lh(a,e,l,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[ws]){e[ws]=!0,Wd.forEach(function(a){a!=="selectionchange"&&(lx.has(a)||Uc(a,!1,e),Uc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Uc("selectionchange",!1,t))}}function lh(e,t,a,l){switch(gh(t)){case 2:var n=Mx;break;case 8:n=Dx;break;default:n=Br}a=n.bind(null,t,a,e),n=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Rc(e,t,a,l,n){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var c=l.tag;if(c===3||c===4){var u=l.stateNode.containerInfo;if(u===n)break;if(c===4)for(c=l.return;c!==null;){var r=c.tag;if((r===3||r===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;u!==null;){if(c=hl(u),c===null)return;if(r=c.tag,r===5||r===6||r===26||r===27){l=i=c;continue e}u=u.parentNode}}l=l.return}nf(function(){var o=i,d=Iu(a),f=[];e:{var m=bf.get(e);if(m!==void 0){var h=Mi,w=e;switch(e){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":h=F0;break;case"focusin":w="focus",h=oc;break;case"focusout":w="blur",h=oc;break;case"beforeblur":case"afterblur":h=oc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=eg;break;case xf:case vf:case yf:h=G0;break;case pf:h=ag;break;case"scroll":case"scrollend":h=B0;break;case"wheel":h=ng;break;case"copy":case"cut":case"paste":h=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=co;break;case"toggle":case"beforetoggle":h=ig}var S=(t&4)!==0,D=!S&&(e==="scroll"||e==="scrollend"),v=S?m!==null?m+"Capture":null:m;S=[];for(var g=o,y;g!==null;){var p=g;if(y=p.stateNode,p=p.tag,p!==5&&p!==26&&p!==27||y===null||v===null||(p=Dn(g,v),p!=null&&S.push(qn(g,p,y))),D)break;g=g.return}0<S.length&&(m=new h(m,w,null,a,d),f.push({event:m,listeners:S}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&a!==eu&&(w=a.relatedTarget||a.fromElement)&&(hl(w)||w[Zl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(w=a.relatedTarget||a.toElement,h=o,w=w?hl(w):null,w!==null&&(D=$n(w),S=w.tag,w!==D||S!==5&&S!==27&&S!==6)&&(w=null)):(h=null,w=o),h!==w)){if(S=so,p="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(S=co,p="onPointerLeave",v="onPointerEnter",g="pointer"),D=h==null?m:fn(h),y=w==null?m:fn(w),m=new S(p,g+"leave",h,a,d),m.target=D,m.relatedTarget=y,p=null,hl(d)===o&&(S=new S(v,g+"enter",w,a,d),S.target=y,S.relatedTarget=D,p=S),D=p,h&&w)t:{for(S=h,v=w,g=0,y=S;y;y=nl(y))g++;for(y=0,p=v;p;p=nl(p))y++;for(;0<g-y;)S=nl(S),g--;for(;0<y-g;)v=nl(v),y--;for(;g--;){if(S===v||v!==null&&S===v.alternate)break t;S=nl(S),v=nl(v)}S=null}else S=null;h!==null&&ed(f,m,h,S,!1),w!==null&&D!==null&&ed(f,D,w,S,!0)}}e:{if(m=o?fn(o):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=fo;else if(oo(m))if(df)N=xg;else{N=hg;var U=mg}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?o&&Pu(o.elementType)&&(N=fo):N=gg;if(N&&(N=N(e,o))){of(f,N,a,d);break e}U&&U(e,m,o),e==="focusout"&&o&&m.type==="number"&&o.memoizedProps.value!=null&&Ic(m,"number",m.value)}switch(U=o?fn(o):window,e){case"focusin":(oo(U)||U.contentEditable==="true")&&(vl=U,au=o,xn=null);break;case"focusout":xn=au=vl=null;break;case"mousedown":lu=!0;break;case"contextmenu":case"mouseup":case"dragend":lu=!1,vo(f,a,d);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":vo(f,a,d)}var b;if(ar)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xl?uf(e,a)&&(j="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(j="onCompositionStart");j&&(cf&&a.locale!=="ko"&&(xl||j!=="onCompositionStart"?j==="onCompositionEnd"&&xl&&(b=sf()):(ga=d,er="value"in ga?ga.value:ga.textContent,xl=!0)),U=yi(o,j),0<U.length&&(j=new io(j,e,null,a,d),f.push({event:j,listeners:U}),b?j.data=b:(b=rf(a),b!==null&&(j.data=b)))),(b=ug?rg(e,a):og(e,a))&&(j=yi(o,"onBeforeInput"),0<j.length&&(U=new io("onBeforeInput","beforeinput",null,a,d),f.push({event:U,listeners:j}),U.data=b)),ex(f,e,o,a,d)}ah(f,t)})}function qn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yi(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Dn(e,a),n!=null&&l.unshift(qn(e,n,i)),n=Dn(e,t),n!=null&&l.push(qn(e,n,i))),e.tag===3)return l;e=e.return}return[]}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ed(e,t,a,l,n){for(var i=t._reactName,c=[];a!==null&&a!==l;){var u=a,r=u.alternate,o=u.stateNode;if(u=u.tag,r!==null&&r===l)break;u!==5&&u!==26&&u!==27||o===null||(r=o,n?(o=Dn(a,i),o!=null&&c.unshift(qn(a,o,r))):n||(o=Dn(a,i),o!=null&&c.push(qn(a,o,r)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var nx=/\r\n?/g,sx=/\u0000|\uFFFD/g;function td(e){return(typeof e=="string"?e:""+e).replace(nx,`
`).replace(sx,"")}function nh(e,t){return t=td(t),td(e)===t}function Gi(){}function me(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||_l(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&_l(e,""+l);break;case"className":xs(e,"class",l);break;case"tabIndex":xs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(e,a,l);break;case"style":lf(e,l,i);break;case"data":if(t!=="object"){xs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Us(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&me(e,t,"name",n.name,n,null),me(e,t,"formEncType",n.formEncType,n,null),me(e,t,"formMethod",n.formMethod,n,null),me(e,t,"formTarget",n.formTarget,n,null)):(me(e,t,"encType",n.encType,n,null),me(e,t,"method",n.method,n,null),me(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Us(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Gi);break;case"onScroll":l!=null&&ae("scroll",e);break;case"onScrollEnd":l!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(O(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(O(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Us(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ae("beforetoggle",e),ae("toggle",e),zs(e,"popover",l);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_0.get(a)||a,zs(e,a,l))}}function Tu(e,t,a,l,n,i){switch(a){case"style":lf(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(O(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(O(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_l(e,l):(typeof l=="number"||typeof l=="bigint")&&_l(e,""+l);break;case"onScroll":l!=null&&ae("scroll",e);break;case"onScrollEnd":l!=null&&ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[nt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):zs(e,a,l)}}}function Je(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:me(e,t,i,c,a,null)}}n&&me(e,t,"srcSet",a.srcSet,a,null),l&&me(e,t,"src",a.src,a,null);return;case"input":ae("invalid",e);var u=i=c=n=null,r=null,o=null;for(l in a)if(a.hasOwnProperty(l)){var d=a[l];if(d!=null)switch(l){case"name":n=d;break;case"type":c=d;break;case"checked":r=d;break;case"defaultChecked":o=d;break;case"value":i=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(O(137,t));break;default:me(e,t,l,d,a,null)}}ef(e,i,u,r,o,c,n,!1),Is(e);return;case"select":ae("invalid",e),l=c=i=null;for(n in a)if(a.hasOwnProperty(n)&&(u=a[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":c=u;break;case"multiple":l=u;default:me(e,t,n,u,a,null)}t=i,a=c,e.multiple=!!l,t!=null?El(e,!!l,t,!1):a!=null&&El(e,!!l,a,!0);return;case"textarea":ae("invalid",e),i=n=l=null;for(c in a)if(a.hasOwnProperty(c)&&(u=a[c],u!=null))switch(c){case"value":l=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(O(91));break;default:me(e,t,c,u,a,null)}af(e,l,n,i),Is(e);return;case"option":for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:me(e,t,r,l,a,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(l=0;l<Bn.length;l++)ae(Bn[l],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in a)if(a.hasOwnProperty(o)&&(l=a[o],l!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:me(e,t,o,l,a,null)}return;default:if(Pu(t)){for(d in a)a.hasOwnProperty(d)&&(l=a[d],l!==void 0&&Tu(e,t,d,l,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(l=a[u],l!=null&&me(e,t,u,l,a,null))}function ix(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,u=null,r=null,o=null,d=null;for(h in a){var f=a[h];if(a.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":r=f;default:l.hasOwnProperty(h)||me(e,t,h,null,l,f)}}for(var m in l){var h=l[m];if(f=a[m],l.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":i=h;break;case"name":n=h;break;case"checked":o=h;break;case"defaultChecked":d=h;break;case"value":c=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(O(137,t));break;default:h!==f&&me(e,t,m,h,l,f)}}Pc(e,c,u,r,o,d,i,n);return;case"select":h=c=u=m=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null)switch(i){case"value":break;case"multiple":h=r;default:l.hasOwnProperty(i)||me(e,t,i,null,l,r)}for(n in l)if(i=l[n],r=a[n],l.hasOwnProperty(n)&&(i!=null||r!=null))switch(n){case"value":m=i;break;case"defaultValue":u=i;break;case"multiple":c=i;default:i!==r&&me(e,t,n,i,l,r)}t=u,a=c,l=h,m!=null?El(e,!!a,m,!1):!!l!=!!a&&(t!=null?El(e,!!a,t,!0):El(e,!!a,a?[]:"",!1));return;case"textarea":h=m=null;for(u in a)if(n=a[u],a.hasOwnProperty(u)&&n!=null&&!l.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:me(e,t,u,null,l,n)}for(c in l)if(n=l[c],i=a[c],l.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":m=n;break;case"defaultValue":h=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(O(91));break;default:n!==i&&me(e,t,c,n,l,i)}tf(e,m,h);return;case"option":for(var w in a)if(m=a[w],a.hasOwnProperty(w)&&m!=null&&!l.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:me(e,t,w,null,l,m)}for(r in l)if(m=l[r],h=a[r],l.hasOwnProperty(r)&&m!==h&&(m!=null||h!=null))switch(r){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:me(e,t,r,m,l,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in a)m=a[S],a.hasOwnProperty(S)&&m!=null&&!l.hasOwnProperty(S)&&me(e,t,S,null,l,m);for(o in l)if(m=l[o],h=a[o],l.hasOwnProperty(o)&&m!==h&&(m!=null||h!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(O(137,t));break;default:me(e,t,o,m,l,h)}return;default:if(Pu(t)){for(var D in a)m=a[D],a.hasOwnProperty(D)&&m!==void 0&&!l.hasOwnProperty(D)&&Tu(e,t,D,void 0,l,m);for(d in l)m=l[d],h=a[d],!l.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Tu(e,t,d,m,l,h);return}}for(var v in a)m=a[v],a.hasOwnProperty(v)&&m!=null&&!l.hasOwnProperty(v)&&me(e,t,v,null,l,m);for(f in l)m=l[f],h=a[f],!l.hasOwnProperty(f)||m===h||m==null&&h==null||me(e,t,f,m,l,h)}var Ou=null,Mu=null;function pi(e){return e.nodeType===9?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=null;function cx(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var ih=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(ox)}:ih;function ox(e){setTimeout(function(){throw e})}function za(e){return e==="head"}function nd(e,t){var a=t,l=0,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(0<l&&8>l){a=l;var c=e.ownerDocument;if(a&1&&An(c.documentElement),a&2&&An(c.body),a&4)for(a=c.head,An(a),c=a.firstChild;c;){var u=c.nextSibling,r=c.nodeName;c[In]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=u}}if(n===0){e.removeChild(i),Xn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=i}while(a);Xn(t)}function zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zu(a),Fu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dx(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[In])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Tt(e.nextSibling),e===null)break}return null}function fx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Tt(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function mx(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ru=null;function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function ch(e,t,a){switch(t=pi(a),e){case"html":if(e=t.documentElement,!e)throw Error(O(452));return e;case"head":if(e=t.head,!e)throw Error(O(453));return e;case"body":if(e=t.body,!e)throw Error(O(454));return e;default:throw Error(O(451))}}function An(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fu(e)}var Ct=new Map,id=new Set;function bi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var na=ue.d;ue.d={f:hx,r:gx,D:xx,C:vx,L:yx,m:px,X:jx,S:bx,M:Nx};function hx(){var e=na.f(),t=Li();return e||t}function gx(e){var t=Vl(e);t!==null&&t.tag===5&&t.type==="form"?em(t):na.r(e)}var $l=typeof document>"u"?null:document;function uh(e,t,a){var l=$l;if(l&&typeof t=="string"&&t){var n=Nt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),id.has(n)||(id.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Je(t,"link",e),Ge(t),l.head.appendChild(t)))}}function xx(e){na.D(e),uh("dns-prefetch",e,null)}function vx(e,t){na.C(e,t),uh("preconnect",e,t)}function yx(e,t,a){na.L(e,t,a);var l=$l;if(l&&e&&t){var n='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Nt(a.imageSizes)+'"]')):n+='[href="'+Nt(e)+'"]';var i=n;switch(t){case"style":i=Xl(e);break;case"script":i=Wl(e)}Ct.has(i)||(e=be({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ct.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(rs(i))||t==="script"&&l.querySelector(os(i))||(t=l.createElement("link"),Je(t,"link",e),Ge(t),l.head.appendChild(t)))}}function px(e,t){na.m(e,t);var a=$l;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Wl(e)}if(!Ct.has(i)&&(e=be({rel:"modulepreload",href:e},t),Ct.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(os(i)))return}l=a.createElement("link"),Je(l,"link",e),Ge(l),a.head.appendChild(l)}}}function bx(e,t,a){na.S(e,t,a);var l=$l;if(l&&e){var n=Sl(l).hoistableStyles,i=Xl(e);t=t||"default";var c=n.get(i);if(!c){var u={loading:0,preload:null};if(c=l.querySelector(rs(i)))u.loading=5;else{e=be({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ct.get(i))&&Rr(e,a);var r=c=l.createElement("link");Ge(r),Je(r,"link",e),r._p=new Promise(function(o,d){r.onload=o,r.onerror=d}),r.addEventListener("load",function(){u.loading|=1}),r.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Gs(c,t,l)}c={type:"stylesheet",instance:c,count:1,state:u},n.set(i,c)}}}function jx(e,t){na.X(e,t);var a=$l;if(a&&e){var l=Sl(a).hoistableScripts,n=Wl(e),i=l.get(n);i||(i=a.querySelector(os(n)),i||(e=be({src:e,async:!0},t),(t=Ct.get(n))&&_r(e,t),i=a.createElement("script"),Ge(i),Je(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Nx(e,t){na.M(e,t);var a=$l;if(a&&e){var l=Sl(a).hoistableScripts,n=Wl(e),i=l.get(n);i||(i=a.querySelector(os(n)),i||(e=be({src:e,async:!0,type:"module"},t),(t=Ct.get(n))&&_r(e,t),i=a.createElement("script"),Ge(i),Je(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function cd(e,t,a,l){var n=(n=ya.current)?bi(n):null;if(!n)throw Error(O(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xl(a.href),a=Sl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xl(a.href);var i=Sl(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(rs(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Ct.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ct.set(e,a),i||wx(n,e,a,c.state))),t&&l===null)throw Error(O(528,""));return c}if(t&&l!==null)throw Error(O(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wl(a),a=Sl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,e))}}function Xl(e){return'href="'+Nt(e)+'"'}function rs(e){return'link[rel="stylesheet"]['+e+"]"}function rh(e){return be({},e,{"data-precedence":e.precedence,precedence:null})}function wx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Je(t,"link",a),Ge(t),e.head.appendChild(t))}function Wl(e){return'[src="'+Nt(e)+'"]'}function os(e){return"script[async]"+e}function ud(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return t.instance=l,Ge(l),l;var n=be({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ge(l),Je(l,"style",n),Gs(l,a.precedence,e),t.instance=l;case"stylesheet":n=Xl(a.href);var i=e.querySelector(rs(n));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;l=rh(a),(n=Ct.get(n))&&Rr(l,n),i=(e.ownerDocument||e).createElement("link"),Ge(i);var c=i;return c._p=new Promise(function(u,r){c.onload=u,c.onerror=r}),Je(i,"link",l),t.state.loading|=4,Gs(i,a.precedence,e),t.instance=i;case"script":return i=Wl(a.src),(n=e.querySelector(os(i)))?(t.instance=n,Ge(n),n):(l=a,(n=Ct.get(i))&&(l=be({},a),_r(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ge(n),Je(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(O(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Gs(l,a.precedence,e));return t.instance}function Gs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,c=0;c<l.length;c++){var u=l[c];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Rr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _r(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xs=null;function rd(e,t,a){if(Xs===null){var l=new Map,n=Xs=new Map;n.set(a,l)}else n=Xs,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[In]||i[$e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var u=l.get(c);u?u.push(i):l.set(c,[i])}}return l}function od(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Sx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function oh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ln=null;function Ex(){}function Cx(e,t,a){if(Ln===null)throw Error(O(475));var l=Ln;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=Xl(a.href),i=e.querySelector(rs(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ji.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=i,Ge(i);return}i=e.ownerDocument||e,a=rh(a),(n=Ct.get(n))&&Rr(a,n),i=i.createElement("link"),Ge(i);var c=i;c._p=new Promise(function(u,r){c.onload=u,c.onerror=r}),Je(i,"link",a),t.instance=i}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(l.count++,t=ji.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ax(){if(Ln===null)throw Error(O(475));var e=Ln;return e.stylesheets&&e.count===0&&_u(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&_u(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ji(){if(this.count--,this.count===0){if(this.stylesheets)_u(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ni=null;function _u(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ni=new Map,t.forEach(Tx,e),Ni=null,ji.call(e))}function Tx(e,t){if(!(t.state.loading&4)){var a=Ni.get(e);if(a)var l=a.get(null);else{a=new Map,Ni.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),l=c)}l&&a.set(null,l)}n=t.instance,c=n.getAttribute("data-precedence"),i=a.get(c)||l,i===l&&a.set(null,n),a.set(c,n),this.count++,l=ji.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Hn={$$typeof:Vt,Provider:null,Consumer:null,_currentValue:qa,_currentValue2:qa,_threadCount:0};function Ox(e,t,a,l,n,i,c,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function dh(e,t,a,l,n,i,c,u,r,o,d,f){return e=new Ox(e,t,a,c,u,r,o,f),t=1,i===!0&&(t|=24),i=dt(3,null,null,t),e.current=i,i.stateNode=e,t=rr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},dr(i),e}function fh(e){return e?(e=bl,e):bl}function mh(e,t,a,l,n,i){n=fh(n),l.context===null?l.context=n:l.pendingContext=n,l=pa(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=ba(e,l,t),a!==null&&(gt(a,e,t),pn(a,e,t))}function dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function kr(e,t){dd(e,t),(e=e.alternate)&&dd(e,t)}function hh(e){if(e.tag===13){var t=Jl(e,67108864);t!==null&&gt(t,e,67108864),kr(e,67108864)}}var wi=!0;function Mx(e,t,a,l){var n=$.T;$.T=null;var i=ue.p;try{ue.p=2,Br(e,t,a,l)}finally{ue.p=i,$.T=n}}function Dx(e,t,a,l){var n=$.T;$.T=null;var i=ue.p;try{ue.p=8,Br(e,t,a,l)}finally{ue.p=i,$.T=n}}function Br(e,t,a,l){if(wi){var n=ku(l);if(n===null)Rc(e,t,l,Si,a),fd(e,l);else if(Ux(n,e,t,a,l))l.stopPropagation();else if(fd(e,l),t&4&&-1<zx.indexOf(e)){for(;n!==null;){var i=Vl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=_a(i.pendingLanes);if(c!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var r=1<<31-mt(c);u.entanglements[1]|=r,c&=~r}Ht(i),!(de&6)&&(hi=Bt()+500,us(0))}}break;case 13:u=Jl(i,2),u!==null&&gt(u,i,2),Li(),kr(i,2)}if(i=ku(l),i===null&&Rc(e,t,l,Si,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Rc(e,t,l,null,a)}}function ku(e){return e=Iu(e),qr(e)}var Si=null;function qr(e){if(Si=null,e=hl(e),e!==null){var t=$n(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=qd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Si=e,null}function gh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v0()){case Gd:return 2;case Xd:return 8;case Ps:case y0:return 32;case Qd:return 268435456;default:return 32}default:return 32}}var Bu=!1,wa=null,Sa=null,Ea=null,Yn=new Map,Gn=new Map,ma=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fd(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Yn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(t.pointerId)}}function cn(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Vl(t),t!==null&&hh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Ux(e,t,a,l,n){switch(t){case"focusin":return wa=cn(wa,e,t,a,l,n),!0;case"dragenter":return Sa=cn(Sa,e,t,a,l,n),!0;case"mouseover":return Ea=cn(Ea,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Yn.set(i,cn(Yn.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Gn.set(i,cn(Gn.get(i)||null,e,t,a,l,n)),!0}return!1}function xh(e){var t=hl(e.target);if(t!==null){var a=$n(t);if(a!==null){if(t=a.tag,t===13){if(t=qd(a),t!==null){e.blockedOn=t,C0(e.priority,function(){if(a.tag===13){var l=ht();l=$u(l);var n=Jl(a,l);n!==null&&gt(n,a,l),kr(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);eu=l,a.target.dispatchEvent(l),eu=null}else return t=Vl(a),t!==null&&hh(t),e.blockedOn=a,!1;t.shift()}return!0}function md(e,t,a){Qs(e)&&a.delete(t)}function Rx(){Bu=!1,wa!==null&&Qs(wa)&&(wa=null),Sa!==null&&Qs(Sa)&&(Sa=null),Ea!==null&&Qs(Ea)&&(Ea=null),Yn.forEach(md),Gn.forEach(md)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Bu||(Bu=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Rx)))}var Es=null;function hd(e){Es!==e&&(Es=e,He.unstable_scheduleCallback(He.unstable_NormalPriority,function(){Es===e&&(Es=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(qr(l||a)===null)continue;break}var i=Vl(a);i!==null&&(e.splice(t,3),t-=3,xu(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Xn(e){function t(r){return Ss(r,e)}wa!==null&&Ss(wa,e),Sa!==null&&Ss(Sa,e),Ea!==null&&Ss(Ea,e),Yn.forEach(t),Gn.forEach(t);for(var a=0;a<ma.length;a++){var l=ma[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ma.length&&(a=ma[0],a.blockedOn===null);)xh(a),a.blockedOn===null&&ma.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],c=n[nt]||null;if(typeof i=="function")c||hd(a);else if(c){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[nt]||null)u=c.formAction;else if(qr(n)!==null)continue}else u=c.action;typeof u=="function"?a[l+1]=u:(a.splice(l,3),l-=3),hd(a)}}}function Lr(e){this._internalRoot=e}Xi.prototype.render=Lr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));var a=t.current,l=ht();mh(a,l,e,t,null,null)};Xi.prototype.unmount=Lr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),Li(),t[Zl]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=$d();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ma.length&&t!==0&&t<ma[a].priority;a++);ma.splice(a,0,e),a===0&&xh(e)}};var gd=kd.version;if(gd!=="19.1.0")throw Error(O(527,gd,"19.1.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=o0(t),e=e!==null?Ld(e):null,e=e===null?null:e.stateNode,e};var _x={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{Wn=Cs.inject(_x),ft=Cs}catch{}}Ti.createRoot=function(e,t){if(!Bd(e))throw Error(O(299));var a=!1,l="",n=dm,i=fm,c=mm,u=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(u=t.unstable_transitionCallbacks)),t=dh(e,1,!1,null,null,a,l,n,i,c,u,null),e[Zl]=t.current,Ur(e),new Lr(t)};Ti.hydrateRoot=function(e,t,a){if(!Bd(e))throw Error(O(299));var l=!1,n="",i=dm,c=fm,u=mm,r=null,o=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(r=a.unstable_transitionCallbacks),a.formState!==void 0&&(o=a.formState)),t=dh(e,1,!0,t,a??null,l,n,i,c,u,r,o),t.context=fh(null),a=t.current,l=ht(),l=$u(l),n=pa(l),n.callback=null,ba(a,n,l),a=l,t.current.lanes=a,Pn(t,a),Ht(t),e[Zl]=t.current,Ur(e),new Xi(t)};Ti.version="19.1.0";function vh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vh)}catch(e){console.error(e)}}vh(),Ud.exports=Ti;var kx=Ud.exports;const Bx=Gu(kx);var qx=Object.defineProperty,Lx=(e,t,a)=>t in e?qx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,sl=(e,t,a)=>Lx(e,typeof t!="symbol"?t+"":t,a);class Ce extends Error{constructor(t,a){super(a),sl(this,"status"),sl(this,"code"),sl(this,"title"),sl(this,"details"),sl(this,"params"),sl(this,"raw"),this.status=t,this.name="ApiError"}}const Hx={};var Yx=Object.defineProperty,Gx=(e,t,a)=>t in e?Yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,qu=(e,t,a)=>Gx(e,typeof t!="symbol"?t+"":t,a);const yh=class dl{constructor(t){qu(this,"baseUrl"),qu(this,"onUnauthorized");const a=Hx?.VITE_API_URL,l=(t??a??"http://localhost:8080").replace(/\/+$/,"");this.baseUrl=`${l}/api`}static setAuthToken(t){dl.accessToken=t;try{t?localStorage.setItem("access_token",t):localStorage.removeItem("access_token")}catch{}}static bootstrapTokenFromStorage(){try{const t=localStorage.getItem("access_token");dl.accessToken=t}catch{}}async request(t,a={}){const n=/^https?:\/\//i.test(t)?t:`${this.baseUrl}${t.startsWith("/")?"":"/"}${t}`,i={...a.headers};!(typeof FormData<"u"&&a.body instanceof FormData)&&!i["Content-Type"]&&(i["Content-Type"]="application/json"),dl.accessToken&&(i.Authorization=`Bearer ${dl.accessToken}`);const u=await fetch(n,{...a,headers:i});if(u.status===401&&(dl.setAuthToken(null),this.onUnauthorized?.()),!u.ok){const r=await u.text();let o=null;try{o=r?JSON.parse(r):null}catch{o=r}const d=o&&(o.message||o.error||o.title||o.details)||u.statusText,f=new Ce(u.status,d);throw o&&typeof o=="object"&&(f.code=o.errorCode||o.code,f.title=o.title,f.details=o.details||o.detail,f.params=o.messageParameters||o.params,f.raw=o),f}if(u.status!==204)return u.json()}};qu(yh,"accessToken",null);let Hr=yh;const Lu=new Hr,Zs=Hr.setAuthToken;Hr.bootstrapTokenFromStorage();var Xx=Object.defineProperty,Qx=(e,t,a)=>t in e?Xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Zx=(e,t,a)=>Qx(e,t+"",a);class Fl{constructor(t=Lu){Zx(this,"api"),this.api=t}buildPayload(...t){return t.reduce((a,l)=>typeof l=="object"&&l!==null?{...a,...l}:a,{})}}var Ne=(e=>(e.NONE="NONE",e.COMPUTER_SCIENCE="COMPUTER_SCIENCE",e.MATHEMATICS="MATHEMATICS",e.PHYSICS="PHYSICS",e.ENGINEERING="ENGINEERING",e.BUSINESS="BUSINESS",e.LAW="LAW",e.MEDICINE="MEDICINE",e.ARCHITECTURE="ARCHITECTURE",e.CIVIL_ENGINEERING="CIVIL_ENGINEERING",e.ELECTRICAL_ENGINEERING="ELECTRICAL_ENGINEERING",e.MECHANICAL_ENGINEERING="MECHANICAL_ENGINEERING",e.MEDIA_DESIGN="MEDIA_DESIGN",e.SOCIAL_WORK="SOCIAL_WORK",e.BUSINESS_ADMINISTRATION="BUSINESS_ADMINISTRATION",e.INDUSTRIAL_ENGINEERING="INDUSTRIAL_ENGINEERING",e))(Ne||{}),Oe=(e=>(e.NONE="NONE",e.PROGRAMMING="PROGRAMMING",e.PHOTOGRAPHY="PHOTOGRAPHY",e.DEBATE="DEBATE",e.VOLUNTEERING="VOLUNTEERING",e.MUSIC="MUSIC",e.ART="ART",e.SPORTS="SPORTS",e.GAMING="GAMING",e.COOKING="COOKING",e.READING="READING",e.TRAVEL="TRAVEL",e.DANCE="DANCE",e))(Oe||{});function As(e){return{id:String(e.id),role:e.role??"student",name:e.username??e.name??"",email:e.email??"",avatar:e.avatar??"",description:e.description??"",subject:e.subject??Ne.NONE,preferences:e.preferences??[],clubsJoined:e.clubsJoined??0,eventsAttended:e.eventsAttended??0,memberships:e.memberships?.map(t=>({id:t.id,clubId:t.clubId,name:t.name,role:t.role,avatar:t.avatar??"",joinedAt:t.joinedAt??""}))??[],settings:e.settings??{notifications:{},privacy:{},preferences:{}}}}function Vx(e){const t={};return e.name!==void 0&&(t.username=e.name),e.description!==void 0&&(t.description=e.description),e.subject!==void 0&&(t.subject=e.subject),e.preferences!==void 0&&(t.preferences=e.preferences),t}class Jx extends Fl{async getCurrent(){const t=await this.api.request("/users/me");return As(t)}async getById(t){const a=await this.api.request(`/users/${t}`);return As(a)}async updateCurrent(t,a){const l=await this.api.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(Vx(a))});return As(l)}async updateAvatar(t,a){const l=await this.api.request(`/users/${t}/avatar`,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a});return As(l)}}const Vs=new Jx;class Kx extends Fl{async login(t,a){const l=this.buildPayload({email:t,password:a}),n=await this.api.request("/auth/login",{method:"POST",body:JSON.stringify(l)});return Zs(n.token),n}async register(t,a,l){const n=this.buildPayload({email:a,username:t,password:l});return await this.api.request("/auth/register",{method:"POST",body:JSON.stringify(n)})}async refresh(t){const a=await this.api.request("/auth/refresh",{method:"POST",body:JSON.stringify({token:t})});return Zs(a.token),a}async logout(t){await this.api.request("/auth/logout",{method:"POST",body:JSON.stringify({token:t})}),Zs(null)}}const Ts=new Kx,ph=x.createContext(void 0),$x=({children:e})=>{const[t,a]=x.useState(()=>{try{return localStorage.getItem("access_token")}catch{return null}});x.useEffect(()=>{Zs(t)},[t]),x.useEffect(()=>(Lu.onUnauthorized=()=>{a(null),window.location.pathname!=="/login"&&(window.location.href="/login")},()=>{Lu.onUnauthorized=void 0}),[]),x.useEffect(()=>{if(!t)return;const c=setInterval(async()=>{try{const u=await Ts.refresh(t);a(u.token)}catch{a(null)}},13*60*1e3);return()=>clearInterval(c)},[t]);const l=async(c,u)=>{const r=await Ts.login(c,u);a(r.token)},n=async(c,u,r)=>{await Ts.register(c,u,r)},i=async()=>{if(t)try{await Ts.logout(t)}catch{}a(null)};return s.jsx(ph.Provider,{value:{token:t,login:l,register:n,logout:i},children:e})};function Pl(){const e=x.useContext(ph);if(!e)throw new Error("useAuth must be used inside AuthProvider");return e}const bh=x.createContext(void 0),Wx=({children:e})=>{const[t,a]=x.useState(null),{token:l}=Pl(),n=async()=>{const u=await Vs.getCurrent();a(u)};x.useEffect(()=>{if(!l){a(null);return}let u=!0;return n().catch(()=>{u&&a(null)}),()=>{u=!1}},[l]);const i=async u=>{const r=await Vs.updateCurrent(u.id,u);a(r)},c=async u=>{if(!t)return;const r=await Vs.updateAvatar(t.id,u);a(r)};return s.jsx(bh.Provider,{value:{user:t,updateUser:i,updateAvatar:c,refresh:n},children:e})};function et(){const e=x.useContext(bh);if(!e)throw new Error("useProfile must be used inside ProfileProvider");return e}function Ie({avatar:e,size:t=32}){const a={width:t,height:t},l=u=>u?/^(data:|https?:|blob:|\/)/i.test(u)?u:`data:image/png;base64,${u}`:"",[n,i]=Ci.useState(!1),c=l(e);return s.jsx("div",{style:a,className:"rounded-full overflow-hidden flex items-center justify-center bg-orange-100",children:c&&!n?s.jsx("img",{src:c,alt:"avatar",className:"w-full h-full object-cover",loading:"lazy",onError:()=>i(!0)}):s.jsx("span",{className:"text-lg",children:""})})}function Fx({children:e}){const t=Ot(),a=Wa(),{user:l}=et(),{logout:n}=Pl(),[i,c]=x.useState(!1),u=x.useRef(null);if(x.useEffect(()=>{const f=m=>{i&&u.current&&!u.current.contains(m.target)&&c(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]),x.useEffect(()=>{i?document.body.style.overflow="hidden":document.body.style.overflow=""},[i]),["/login","/register"].includes(a.pathname))return s.jsx(s.Fragment,{children:e});if(["/login","/register"].includes(a.pathname))return s.jsx(s.Fragment,{children:e});const r=[{path:"/explore",label:"Explore",icon:Xh},{path:"/feed",label:"Feed",icon:Qh},{path:"/bookmarks",label:"Bookmarks",icon:Tn},{path:"/my-clubs",label:"My Clubs",icon:Ma},{path:"/notifications",label:"Notifications",icon:Zh},{path:"/settings",label:"Settings",icon:Vh},{path:"/support",label:"Support & Feedback",icon:Jh},...l&&(l.role==="admin"||l.role==="moderator")?[{path:"/admin",label:"Admin",icon:Sd}]:[]],o=f=>a.pathname===f,d=async()=>{await n(),t("/login")};return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsxs("div",{className:"hidden md:flex w-64 bg-white shadow-sm border-r border-gray-200 flex-col",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"CampusConnect"}),s.jsx("p",{className:"text-sm text-gray-600",children:"University Clubs Platform"})]}),s.jsx("nav",{className:"flex-1 px-4 space-y-2",children:r.map(f=>{const m=f.icon;return s.jsxs("button",{onClick:()=>t(f.path),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left font-medium transition ${o(f.path)?"bg-orange-50 text-orange-600":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(m,{className:"w-5 h-5"}),f.label]},f.path)})}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-t border-gray-200 cursor-pointer",onClick:()=>t("/profile"),children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ie,{avatar:l.avatar,size:32}),s.jsxs("div",{className:"truncate",children:[s.jsx("p",{className:"font-medium text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Student"})]})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left font-medium text-red-600 hover:bg-red-50",children:[s.jsx(Kr,{className:"w-5 h-5"}),"Logout"]})})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[s.jsxs("div",{className:"md:hidden flex items-center justify-between bg-white px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{"aria-label":"Open menu",onClick:()=>c(!0),className:"p-2 rounded-md hover:bg-gray-100",children:s.jsx(Kh,{className:"w-6 h-6 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold",children:"CampusConnect"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Clubs Platform"})]})]}),l&&s.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("/profile"),children:s.jsx(Ie,{avatar:l.avatar,size:32})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:e})]}),i&&s.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[s.jsx("div",{className:"fixed inset-0 bg-black/25","aria-label":"Close menu",onClick:()=>c(!1)}),s.jsxs("div",{ref:u,className:"relative w-64 bg-white shadow-lg border-r border-gray-200 flex flex-col overflow-y-auto",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold",children:"CampusConnect"}),s.jsx("p",{className:"text-xs text-gray-500",children:"University Clubs"})]}),s.jsx("button",{"aria-label":"Close menu",onClick:()=>c(!1),className:"p-2 rounded-md hover:bg-gray-100",children:s.jsx(Qu,{className:"w-5 h-5 text-gray-700"})})]}),s.jsx("nav",{className:"px-4 space-y-2 flex-1",children:r.map(f=>{const m=f.icon;return s.jsxs("button",{onClick:()=>{t(f.path),c(!1)},className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left font-medium transition ${o(f.path)?"bg-orange-50 text-orange-600":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(m,{className:"w-5 h-5"}),f.label]},f.path)})}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-4 border-t border-gray-200 cursor-pointer",onClick:()=>{t("/profile"),c(!1)},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ie,{avatar:l.avatar,size:32}),s.jsxs("div",{className:"truncate",children:[s.jsx("p",{className:"font-medium text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-600",children:"Student"})]})]})}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:async()=>{await d(),c(!1)},className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left font-medium text-red-600 hover:bg-red-50",children:[s.jsx(Kr,{className:"w-5 h-5"}),"Logout"]})})]})]})]})]})}function un(e){const t=e.id??e.clubId??e._id,a=e.avatar??"";return{id:String(t),name:e.name,description:e.description??"",category:e.category??"General",subject:e.subject??Ne.NONE,interest:e.interest??Oe.NONE,avatar:a,members:e.membersCount??e.members??0,isJoined:!!e.isJoined,events:(e.events??[]).map(Js),members_list:(e.membersList??e.members_list??[]).map(Px),forum_threads:(e.forumThreads??e.forum_threads??[]).map(Ks).sort((l,n)=>{const i=new Date(l.lastActivity||"").getTime(),c=new Date(n.lastActivity||"").getTime();return(isNaN(c)?0:c)-(isNaN(i)?0:i)})}}function Px(e){return{id:e.id??e.membershipId??"",userId:e.userId??e.user_id??e.id??"",name:e.name??e.username??"",role:e.role??"MEMBER",avatar:e.avatar??""}}function Js(e){return{id:e.id,title:e.title,description:e.description,date:e.date,time:e.time,location:e.location,status:e.status??"SCHEDULED",joined:e.participantsCount??e.joined??e.attendeesCount??e.attendees?.length,participants:(e.participants??e.attendees??[]).map(t=>({id:t.id??t.userId??"",name:t.name??t.username??"",surname:t.surname??"",email:t.email??"",avatar:t.avatar??""}))}}function il(e){return{id:e.id,author:e.author?.username??e.author??e.username??"Unknown",avatar:e.author?.avatar??e.avatar??"",content:e.content??"",likes:e.likes??0,comments:e.comments??0,time:e.time??e.createdAt??"",commentsList:Array.isArray(e.commentsList)?e.commentsList.map(yt):[],picture:e.picture??e.photo,poll:e.poll,liked:e.liked??e.likedByUser??e.likedByMe??!1}}function yt(e){const t=e.author??{},a={id:t.id??e.authorId??e.userId??"",username:t.username??e.author??e.username??"Unknown",avatar:t.avatar??e.avatar??""};return{id:e.id,author:a,content:e.content??"",time:e.time??e.createdAt??"",likes:e.likes??0,liked:e.liked??e.likedByUser??e.likedByMe??!1,upvotes:e.upvotes??0,downvotes:e.downvotes??0,upvoted:e.upvoted??!1,downvoted:e.downvoted??!1}}function Ks(e){const t=e.author??{},a=t.username??e.author??e.username??"Unknown",l=t.avatar??e.avatar??"",n=Array.isArray(e.replies)?e.replies.map(yt):Array.isArray(e.posts)?e.posts.map(yt):Array.isArray(e.commentsList)?e.commentsList.map(yt):[];return{id:String(e.id??e.threadId??e._id??""),title:e.title??"",author:a,avatar:l,replies:e.replyCount??e.replies??e.comments??e.commentCount??n.length??0,lastActivity:e.lastActivity??e.updatedAt??e.time??e.createdAt??"",content:e.content??"",posts:n,upvotes:e.upvotes??0,downvotes:e.downvotes??0,upvoted:e.upvoted??!1,downvoted:e.downvoted??!1}}class Ix extends Fl{async getAll(t={}){const a=new URLSearchParams;t.page!==void 0&&a.set("page",String(t.page)),t.size!==void 0&&a.set("size",String(t.size)),t.name&&a.set("name",t.name),t.category&&a.set("category",t.category),t.interest&&t.interest!==Oe.NONE&&a.set("interest",t.interest),t.minMembers!==void 0&&a.set("minMembers",String(t.minMembers)),t.maxMembers!==void 0&&a.set("maxMembers",String(t.maxMembers));const l=a.toString(),n=await this.api.request(`/clubs${l?`?${l}`:""}`);let i=[],c=1;if(Array.isArray(n))i=n,c=1;else if(n&&Array.isArray(n.content))i=n.content,c=typeof n.totalPages=="number"?n.totalPages:1;else if(n&&Array.isArray(n.clubs)){i=n.clubs;const u=typeof n.totalCount=="number"?n.totalCount:void 0;typeof u=="number"&&typeof t.size=="number"&&t.size>0?c=Math.ceil(u/t.size):typeof u=="number"&&u===0?c=0:c=1}return{clubs:i.map(un),totalPages:c}}async getById(t){const a=await this.api.request(`/clubs/${t}`);return un(a)}async listThreadsPage(t,a=0,l=10){const n=new URLSearchParams;n.set("offset",String(a)),n.set("limit",String(l));const i=n.toString();return(await this.api.request(`/clubs/${t}/threads${i?`?${i}`:""}`)).map(Ks)}async createThread(t,a,l){const n=await this.api.request(`/clubs/${t}/threads`,{method:"POST",body:JSON.stringify({title:a,content:l})});return Ks(n)}async getThread(t){const a=await this.api.request(`/threads/${t}`);return Ks(a)}async upvoteThread(t){await this.api.request(`/threads/${t}/upvote`,{method:"POST"})}async removeUpvoteThread(t){await this.api.request(`/threads/${t}/upvote`,{method:"DELETE"})}async downvoteThread(t){await this.api.request(`/threads/${t}/downvote`,{method:"POST"})}async removeDownvoteThread(t){await this.api.request(`/threads/${t}/downvote`,{method:"DELETE"})}async listThreadComments(t,a=0,l=10){const n=new URLSearchParams;typeof a=="number"&&n.set("offset",String(a)),typeof l=="number"&&n.set("limit",String(l));const i=n.toString();return(await this.api.request(`/threads/${t}/replies${i?`?${i}`:""}`)).map(yt)}async addThreadComment(t,a){const l=await this.api.request(`/threads/${t}/replies`,{method:"POST",body:JSON.stringify({content:a})});return yt(l)}async createClub(t){const a=this.buildPayload({name:t.name,description:t.description,category:t.category,subject:t.subject??Ne.NONE,interest:t.interest??Oe.NONE}),l=await this.api.request("/clubs",{method:"POST",body:JSON.stringify(a)});return un(l)}async updateClub(t,a){const l={};a.name!==void 0&&(l.name=a.name),a.description!==void 0&&(l.description=a.description),a.category!==void 0&&(l.category=a.category),a.subject!==void 0&&(l.subject=a.subject),a.interest!==void 0&&(l.interest=a.interest);const n=await this.api.request(`/clubs/${t}`,{method:"PUT",body:JSON.stringify(l)});return un(n)}async deleteClub(t){await this.api.request(`/clubs/${t}`,{method:"DELETE"})}async joinClub(t){await this.api.request(`/clubs/${t}/join`,{method:"POST"})}async leaveClub(t){await this.api.request(`/clubs/${t}/leave`,{method:"POST"})}async updateAvatar(t,a){const l=await this.api.request(`/clubs/${t}/avatar`,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a});return un(l)}async listPosts(t){return(await this.api.request(`/clubs/${t}/posts`)).map(il).sort((l,n)=>new Date(n.time).getTime()-new Date(l.time).getTime())}async listPostsPage(t,a=0,l=10){const n=new URLSearchParams;typeof a=="number"&&n.set("offset",String(a)),typeof l=="number"&&n.set("limit",String(l));const i=n.toString();return(await this.api.request(`/clubs/${t}/posts${i?`?${i}`:""}`)).map(il)}async createPost(t,a,l){let n;if(l){const i=new FormData;i.append("content",a),i.append("picture",l),n=await this.api.request(`/clubs/${t}/posts`,{method:"POST",body:i,headers:{}})}else n=await this.api.request(`/clubs/${t}/posts`,{method:"POST",body:JSON.stringify({content:a})});return il(n)}async getPost(t){const a=await this.api.request(`/posts/${t}`);return il(a)}async updatePost(t,a,l){const n=await this.api.request(`/clubs/${t}/posts/${a}`,{method:"PUT",body:JSON.stringify({content:l})});return il(n)}async deletePost(t,a){await this.api.request(`/clubs/${t}/posts/${a}`,{method:"DELETE"})}async updatePostPicture(t,a){const l=await this.api.request(`/posts/${t}/picture`,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:a});return il(l)}async likePost(t){await this.api.request(`/posts/${t}/like`,{method:"POST"})}async unlikePost(t){await this.api.request(`/posts/${t}/like`,{method:"DELETE"})}async listEvents(t){return(await this.api.request(`/clubs/${t}/events`)).map(Js)}async createEvent(t,a){const l={};a.title!==void 0&&(l.title=a.title),a.description!==void 0&&(l.description=a.description),a.date!==void 0&&(l.date=a.date),a.time!==void 0&&(l.time=a.time),a.location!==void 0&&(l.location=a.location),a.status!==void 0&&(l.status=a.status);const n=await this.api.request(`/clubs/${t}/events`,{method:"POST",body:JSON.stringify(l)});return Js(n)}async updateEvent(t,a,l){const n={};l.title!==void 0&&(n.title=l.title),l.description!==void 0&&(n.description=l.description),l.date!==void 0&&(n.date=l.date),l.time!==void 0&&(n.time=l.time),l.location!==void 0&&(n.location=l.location),l.status!==void 0&&(n.status=l.status);const i=await this.api.request(`/clubs/${t}/events/${a}`,{method:"PUT",body:JSON.stringify(n)});return Js(i)}async deleteEvent(t,a){await this.api.request(`/clubs/${t}/events/${a}`,{method:"DELETE"})}async joinEvent(t,a){await this.api.request(`/clubs/${t}/events/${a}/join`,{method:"POST"})}async updateMemberRole(t,a,l){await this.api.request(`/clubs/${t}/members/${a}/role`,{method:"PUT",body:JSON.stringify({role:l})})}async listCommentsPage(t,a=0,l=10){const n=new URLSearchParams;typeof a=="number"&&n.set("offset",String(a)),typeof l=="number"&&n.set("limit",String(l));const i=n.toString();return(await this.api.request(`/posts/${t}/comments${i?`?${i}`:""}`)).map(yt)}async listComments(t){return this.listCommentsPage(t,0,10)}async addComment(t,a){const l=await this.api.request(`/posts/${t}/comments`,{method:"POST",body:JSON.stringify({content:a})});return yt(l)}async likeComment(t){await this.api.request(`/comments/${t}/like`,{method:"POST"})}async unlikeComment(t){await this.api.request(`/comments/${t}/like`,{method:"DELETE"})}async upvoteReply(t){const a=await this.api.request(`/replies/${t}/upvote`,{method:"POST"});return yt(a)}async removeUpvoteReply(t){const a=await this.api.request(`/replies/${t}/upvote`,{method:"DELETE"});return yt(a)}async downvoteReply(t){const a=await this.api.request(`/replies/${t}/downvote`,{method:"POST"});return yt(a)}async removeDownvoteReply(t){const a=await this.api.request(`/replies/${t}/downvote`,{method:"DELETE"});return yt(a)}async upvoteComment(t){return this.upvoteReply(t)}async removeUpvoteComment(t){return this.removeUpvoteReply(t)}async downvoteComment(t){return this.downvoteReply(t)}async removeDownvoteComment(t){return this.removeDownvoteReply(t)}async deleteComment(t){await this.api.request(`/comments/${t}`,{method:"DELETE"})}}const Y=new Ix;function ev(e={}){const{user:t,refresh:a}=et(),[l,n]=x.useState([]),[i,c]=x.useState(0),[u,r]=x.useState(!0),[o,d]=x.useState(null),{page:f,size:m,name:h,category:w,interest:S,minMembers:D,maxMembers:v}=e;return x.useEffect(()=>{r(!0),d(null),Y.getAll({page:f,size:m,name:h,category:w,interest:S,minMembers:D,maxMembers:v}).then(N=>{n(N.clubs.map(U=>({...U,isJoined:U.isJoined||!!t?.memberships.some(b=>b.clubId===U.id)}))),c(N.totalPages)}).catch(N=>d(N.message??"Failed to load clubs")).finally(()=>r(!1))},[t,f,m,h,w,S,D,v]),{clubs:l,addClub:N=>{n(U=>[...U,N])},joinClub:N=>{d(null),n(U=>U.map(b=>b.id===N?{...b,isJoined:!0,members:b.members+1}:b)),Y.joinClub(N).then(()=>a()).catch(U=>{n(b=>b.map(j=>j.id===N?{...j,isJoined:!1,members:Math.max(0,j.members-1)}:j)),d(U.message??"Failed to join club")})},leaveClub:N=>{d(null),n(U=>U.map(b=>b.id===N?{...b,isJoined:!1,members:Math.max(0,b.members-1)}:b)),Y.leaveClub(N).catch(U=>{n(b=>b.map(j=>j.id===N?{...j,isJoined:!0,members:j.members+1}:j)),d(U.message??"Failed to leave club")})},loading:u,error:o,totalPages:i}}function F({variant:e="primary",size:t="md",className:a,...l}){const n="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:opacity-50 disabled:pointer-events-none",i={sm:"px-3 py-1 text-sm",md:"px-4 py-2",lg:"px-5 py-3 text-base"},c={primary:"bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-300",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-300",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-300",neutral:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-300",blue:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-300",purple:"bg-purple-500 text-white hover:bg-purple-600 focus:ring-purple-300",yellow:"bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-300",outline:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-gray-300"};return s.jsx("button",{...l,className:`${n} ${i[t]} ${c[e]} ${a??""}`})}function tv({club:e,onClick:t,onJoin:a}){const l=n=>n.toLowerCase().replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase());return s.jsxs("div",{onClick:t,className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.avatar?s.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.category})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(Ma,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:e.members})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.subject!==Ne.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:l(e.subject)}),e.interest!==Oe.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:l(e.interest)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${e.isJoined?"bg-orange-100 text-orange-600":"bg-gray-100 text-gray-600"}`,children:e.isJoined?"Joined":"Not Joined"}),s.jsx(F,{className:"text-sm",onClick:n=>{n.stopPropagation(),e.isJoined||a()},disabled:e.isJoined,children:e.isJoined?"Joined":"Join"})]})]})}function av({clubs:e,onSelect:t,onJoin:a}){return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(l=>s.jsx(tv,{club:l,onClick:()=>t(l),onJoin:()=>a(l)},l.id))})}function lv({clubs:e,onSelect:t,onJoin:a}){const l=n=>n.toLowerCase().replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase());return s.jsx("div",{className:"space-y-4",children:e.map(n=>s.jsxs("div",{onClick:()=>t(n),className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer p-4 flex items-center gap-4",children:[n.avatar?s.jsx("img",{src:n.avatar,alt:n.name,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:n.name}),s.jsx("p",{className:"text-sm text-gray-600",children:n.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ma,{className:"w-4 h-4"})," ",n.members," members"]}),s.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100",children:n.category})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.subject!==Ne.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:l(n.subject)}),n.interest!==Oe.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs",children:l(n.interest)})]})]}),s.jsx(F,{className:"text-sm",onClick:i=>{i.stopPropagation(),n.isJoined||a(n)},disabled:n.isJoined,children:n.isJoined?"Joined":"Join"})]},n.id))})}function Ft(e){return s.jsx("input",{...e,className:`border border-gray-300 rounded p-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent ${e.className??""}`})}const nv=["All","Academic","Creative","Sports","Cultural","Technical"],sv=["All",...Object.values(Oe).filter(e=>e!==Oe.NONE)],iv=e=>e.toLowerCase().replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase());function cv(){const[e,t]=x.useState(0),a=10,[l,n]=x.useState(""),[i,c]=x.useState("All"),[u,r]=x.useState("All"),[o,d]=x.useState(""),[f,m]=x.useState(""),[h,w]=x.useState("members_desc"),{clubs:S,joinClub:D,leaveClub:v,loading:g,error:y,totalPages:p}=ev({page:e,size:a,name:l||void 0,category:i==="All"?void 0:i,interest:u==="All"?void 0:u,minMembers:o?Number(o):void 0,maxMembers:f?Number(f):void 0}),N=Ot(),[U,b]=x.useState("grid"),[j,z]=x.useState(!1),_=()=>{n(""),c("All"),r("All"),d(""),m(""),w("members_desc"),t(0)};x.useEffect(()=>{t(0)},[l,i,u,o,f]);const Q=x.useMemo(()=>{let E=[...S];switch(h){case"members_desc":E=[...E].sort((k,G)=>G.members-k.members);break;case"members_asc":E=[...E].sort((k,G)=>k.members-G.members);break;case"name_asc":E=[...E].sort((k,G)=>k.name.localeCompare(G.name));break;case"name_desc":E=[...E].sort((k,G)=>G.name.localeCompare(k.name));break}return E},[S,h]),M=E=>{E.isJoined?v(E.id):D(E.id)};return g?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})}):y?s.jsx("div",{className:"text-center text-red-500 py-8",children:y}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Explore"}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-md w-full",children:[s.jsx($h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(Ft,{className:"pl-10 pr-4 py-2 w-full",placeholder:"Search clubs...",value:l,onChange:E=>n(E.target.value)})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"flex items-center gap-1 px-3 py-2 rounded-lg border border-gray-300 bg-white text-gray-700 hover:shadow-sm",onClick:()=>z(E=>!E),"aria-label":"Toggle filters",children:[s.jsx(Wh,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Filters"}),j?s.jsx(Ed,{className:"w-4 h-4"}):s.jsx(Cd,{className:"w-4 h-4"})]}),j&&s.jsxs("div",{className:"absolute top-full left-1/2 mt-2 -translate-x-1/2 bg-white border border-gray-200 rounded-lg shadow-lg z-10 p-4 w-[760px] max-w-[calc(100vw-2rem)]",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex-1 min-w-[140px]",children:[s.jsx("div",{className:"mb-1",children:s.jsx("h3",{className:"font-medium text-sm",children:"Category"})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:nv.map(E=>s.jsx("button",{onClick:()=>c(E),className:`px-3 py-1 rounded-full text-sm font-medium transition ${i===E?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-200"}`,children:E},E))})]}),s.jsxs("div",{className:"flex-1 min-w-[140px]",children:[s.jsx("div",{className:"mb-1",children:s.jsx("h3",{className:"font-medium text-sm",children:"Interest"})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:sv.map(E=>s.jsx("button",{onClick:()=>r(E),className:`px-3 py-1 rounded-full text-sm font-medium transition ${u===E?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-200"}`,children:E==="All"?"All":iv(E)},E))})]}),s.jsxs("div",{className:"flex-1 min-w-[140px]",children:[s.jsx("div",{className:"mb-1",children:s.jsx("h3",{className:"font-medium text-sm",children:"Members"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ft,{type:"number",value:o,onChange:E=>d(E.target.value),placeholder:"Min",className:"w-24 px-3 py-2 text-sm border rounded-lg"}),s.jsx(Ft,{type:"number",value:f,onChange:E=>m(E.target.value),placeholder:"Max",className:"w-24 px-3 py-2 text-sm border rounded-lg"})]}),s.jsx("div",{className:"mb-1 mt-1",children:s.jsx("h3",{className:"font-medium text-sm",children:"Sort By"})}),s.jsxs("select",{value:h,onChange:E=>w(E.target.value),className:"w-full border rounded-lg px-3 py-2 text-sm",children:[s.jsx("option",{value:"members_desc",children:"Members (high  low)"}),s.jsx("option",{value:"members_asc",children:"Members (low  high)"}),s.jsx("option",{value:"name_asc",children:"Name (A  Z)"}),s.jsx("option",{value:"name_desc",children:"Name (Z  A)"})]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(F,{onClick:_,variant:"primary",children:"Clear All"})})]})]}),s.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[s.jsx("button",{onClick:()=>b("grid"),className:`p-2 ${U==="grid"?"bg-orange-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,"aria-label":"Grid view",children:s.jsx(Ad,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>b("list"),className:`p-2 ${U==="list"?"bg-orange-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,"aria-label":"List view",children:s.jsx(Td,{className:"w-5 h-5"})})]})]})]})]})}),s.jsxs("div",{children:[U==="grid"?s.jsx(av,{clubs:Q,onSelect:E=>N(`/clubs/${E.id}`),onJoin:M}):s.jsx(lv,{clubs:Q,onSelect:E=>N(`/clubs/${E.id}`),onJoin:M}),s.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[s.jsx(F,{onClick:()=>t(E=>Math.max(0,E-1)),disabled:e===0,children:"Previous"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",p===0?0:e+1," of ",p]}),s.jsx(F,{onClick:()=>t(E=>E+1),disabled:e+1>=p,children:"Next"})]})]})]})}function Ql({message:e,onClose:t}){return x.useEffect(()=>{const a=setTimeout(t,3e3);return()=>clearTimeout(a)},[t]),s.jsx("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded shadow",children:e})}const Os=e=>e.toLowerCase().replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase());function uv({club:e,onUpdate:t,currentUserRole:a}){const[l,n]=x.useState(!1),[i,c]=x.useState(null),u=a==="ADMIN",[r,o]=x.useState({name:e.name,description:e.description,category:e.category,subject:e.subject,interest:e.interest,avatar:e.avatar}),d=h=>{const{name:w,value:S}=h.target;o(D=>({...D,[w]:S}))},f=h=>{const w=h.target.files?.[0];if(!w)return;c(w);const S=new FileReader;S.onloadend=()=>{o(D=>({...D,avatar:S.result}))},S.readAsDataURL(w)},m=async()=>{const h=await Y.updateClub(e.id,{name:r.name,description:r.description,category:r.category,subject:r.subject,interest:r.interest});let w=r.avatar;i&&(w=(await Y.updateAvatar(e.id,i)).avatar,c(null)),t({...h,avatar:w}),n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[r.avatar?s.jsx("img",{src:r.avatar,alt:e.name,className:"w-20 h-20 rounded-full object-cover"}):s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-4xl",children:""}),l&&s.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),l?s.jsx("input",{name:"name",value:r.name,onChange:d,className:"text-2xl font-bold border-b border-gray-300 focus:outline-none"}):s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name})]}),u&&(l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:m,className:"bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600",children:"Save"}),s.jsx(F,{onClick:()=>n(!1),children:"Cancel"})]}):s.jsxs(F,{onClick:()=>n(!0),className:"flex items-center gap-1",children:[s.jsx(Fh,{className:"w-4 h-4"})," Edit"]}))]}),l?s.jsx("select",{name:"category",value:r.category,onChange:d,className:"border border-gray-300 rounded-lg px-3 py-1 mb-4",children:["Academic","Creative","Sports","Cultural","Technical"].map(h=>s.jsx("option",{value:h,children:h},h))}):s.jsx("p",{className:"text-gray-600 mb-4",children:e.category}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{children:[e.members," members"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zu,{className:"w-5 h-5 text-orange-500"}),s.jsxs("span",{children:[e.events.length," upcoming events"]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"About This Club"}),l?s.jsx("textarea",{name:"description",value:r.description,onChange:d,rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 resize-none",placeholder:"Short description"}):s.jsx("p",{className:"text-gray-700",children:e.description||s.jsx("span",{className:"italic text-gray-400",children:"No description yet."})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Subject & Interest"}),l?s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx("select",{name:"subject",value:r.subject,onChange:d,className:"border border-gray-300 rounded-lg px-3 py-1",children:Object.values(Ne).map(h=>s.jsx("option",{value:h,children:Os(h)},h))}),s.jsx("select",{name:"interest",value:r.interest,onChange:d,className:"border border-gray-300 rounded-lg px-3 py-1",children:Object.values(Oe).map(h=>s.jsx("option",{value:h,children:Os(h)},h))})]}):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.subject!==Ne.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-sm",children:Os(e.subject)}),e.interest!==Oe.NONE&&s.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-sm",children:Os(e.interest)})]})]})]})]})}function Yr({message:e="Processing..."}){return s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 flex items-center gap-3",children:[s.jsx(Pe,{className:"w-5 h-5 animate-spin text-gray-600"}),s.jsx("span",{className:"text-gray-800",children:e})]})})}const kc=[{value:"SCHEDULED",label:"Scheduled",bg:"bg-orange-100",text:"text-orange-600"},{value:"COMPLETED",label:"Completed",bg:"bg-gray-100",text:"text-gray-600"},{value:"CANCELLED",label:"Cancelled",bg:"bg-red-100",text:"text-red-600"}];function rv({club:e,onClubUpdate:t,userRole:a}){const{user:l}=et(),n=new Date,[i,c]=x.useState(n.getFullYear()),[u,r]=x.useState(n.getMonth()),[o,d]=x.useState(null),[f,m]=x.useState(!1),[h,w]=x.useState(null),[S,D]=x.useState(""),[v,g]=x.useState(""),[y,p]=x.useState(""),[N,U]=x.useState(""),[b,j]=x.useState(""),[z,_]=x.useState("SCHEDULED"),[Q,M]=x.useState(null),[E,k]=x.useState(!1);x.useEffect(()=>{f||w(null)},[f]),x.useEffect(()=>{let T=!0;return(async()=>{try{const X=await Y.listEvents(e.id);T&&t({...e,events:X})}catch{}})(),()=>{T=!1}},[e.id]);const G=()=>{const T=u===0?11:u-1,X=u===0?i-1:i;r(T),c(X),d(null)},A=()=>{const T=u===11?0:u+1,X=u===11?i+1:i;r(T),c(X),d(null)},L=T=>{if(T){w(T.id),D(T.title),g(T.date),p(T.time),U(T.location||""),j(T.description||"");const X=T.status?.toUpperCase?.()||"SCHEDULED";_(X)}else w(null),D(""),g(""),p(""),U(""),j(""),_("SCHEDULED");M(null),m(!0)},H=async()=>{if(M(null),!S.trim()||!v||!y){M("Title, date & time are required.");return}const T={title:S,date:v,time:y,description:b,status:z,...N.trim()?{location:N}:{}};try{k(!0);let X;if(h!=null){const ie=await Y.updateEvent(e.id,h,T);X=e.events.map(re=>re.id===h?ie:re)}else X=[await Y.createEvent(e.id,T),...e.events];t({...e,events:X}),m(!1)}catch{M("Failed to save event")}finally{k(!1)}},P=async T=>{try{await Y.deleteEvent(e.id,T);const X=e.events.filter(ie=>ie.id!==T);t({...e,events:X})}catch(X){console.error(X)}},R=async T=>{if(!l)return;const X=e.events.map(re=>{if(re.id!==T.id)return re;const q=re.participants?[...re.participants]:[];if(q.find(I=>String(I.id)===String(l.id))){const I=q.filter(Ae=>String(Ae.id)!==String(l.id));return{...re,participants:I}}else{const I={id:l.id,name:l.name,surname:l.surname||"",email:l.email,avatar:l.avatar};return{...re,participants:[...q,I]}}});if(t({...e,events:X}),!T.participants?.find(re=>String(re.id)===String(l.id)))try{await Y.joinEvent(e.id,T.id)}catch{}},ne=T=>{const X=T.participants||[];let ie=`Name,Email
`;X.forEach(I=>{ie+=`${I.name},${I.email}
`});const re=new Blob([ie],{type:"text/csv;charset=utf-8;"}),q=URL.createObjectURL(re),K=document.createElement("a");K.href=q,K.download=`${T.title}_participants.csv`,K.click()},fe=x.useMemo(()=>e.events.filter(T=>{if(o==null)return!0;const X=new Date(T.date);return X.getFullYear()===i&&X.getMonth()===u&&X.getDate()===o}),[e.events,i,u,o]),V=new Date(i,u,1).getDay(),ee=new Date(i,u+1,0).getDate(),J=new Set(e.events.map(T=>new Date(T.date)).filter(T=>T.getFullYear()===i&&T.getMonth()===u).map(T=>T.getDate())),B=[];for(let T=0;T<V;T++)B.push(null);for(let T=1;T<=ee;T++)B.push(T);for(;B.length<42;)B.push(null);return s.jsxs(s.Fragment,{children:[E&&s.jsx(Yr,{message:h!=null?"Updating event...":"Creating event..."}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:space-x-6",children:[s.jsxs("div",{className:"flex-1 space-y-4 overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Upcoming Events"}),(a==="ADMIN"||a==="MODERATOR"||l?.role==="ADMIN")&&s.jsx(F,{onClick:()=>f?m(!1):L(),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:f?"Cancel":"Create Event"})]}),f&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 space-y-3",children:[Q&&s.jsx("p",{className:"text-red-600 text-sm",children:Q}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Title",className:"border border-gray-300 rounded-lg px-3 py-2",value:S,onChange:T=>D(T.target.value)}),s.jsx("input",{type:"text",placeholder:"Location",className:"border border-gray-300 rounded-lg px-3 py-2",value:N,onChange:T=>U(T.target.value)}),s.jsx("input",{type:"date",className:"border border-gray-300 rounded-lg px-3 py-2",value:v,onChange:T=>g(T.target.value)}),s.jsx("input",{type:"time",className:"border border-gray-300 rounded-lg px-3 py-2",value:y,onChange:T=>p(T.target.value)})]}),s.jsx("textarea",{placeholder:"Description",className:"w-full border border-gray-300 rounded-lg px-3 py-2 resize-none",rows:3,value:b,onChange:T=>j(T.target.value)}),s.jsx("div",{className:"flex flex-wrap gap-3",children:s.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-2",value:z,onChange:T=>_(T.target.value),children:kc.map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{onClick:()=>m(!1),children:"Cancel"}),s.jsx(F,{onClick:H,variant:"primary",children:h!=null?"Save":"Add"})]})]}),fe.length>0?fe.map(T=>{const X=T.status?.toUpperCase?.()||"SCHEDULED",ie=kc.find(q=>q.value===X)??kc[0],re=l?!!T.participants?.some(q=>String(q.id)===String(l.id)):!1;return s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:T.title}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${ie.bg} ${ie.text} rounded-full`,children:ie.label})]}),(a==="ADMIN"||a==="MODERATOR"||l?.role==="ADMIN")&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>L(T),className:"bg-blue-500 text-white px-3 py-1 text-sm rounded-lg hover:bg-blue-600",children:"Edit"}),s.jsx(F,{onClick:()=>P(T.id),className:"bg-red-500 text-white px-3 py-1 text-sm rounded-lg hover:bg-red-600",children:"Delete"})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[T.date," at ",T.time,"  ",T.location]}),T.description&&s.jsx("p",{className:"text-gray-700 mb-2",children:T.description}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-3",children:[s.jsx(Ma,{className:"w-4 h-4"}),s.jsxs("span",{children:[T.participants?.length??0," joined"]})]}),T.participants&&T.participants.length>0&&s.jsxs("div",{className:"flex -space-x-2 mb-3",children:[T.participants.slice(0,5).map(q=>s.jsx(Ie,{avatar:q.avatar,size:24},q.id)),T.participants.length>5&&s.jsxs("span",{className:"text-xs text-gray-500 self-end pl-2",children:["+",T.participants.length-5]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>R(T),disabled:re,className:`flex-1 py-2 rounded-lg text-center ${re?"bg-gray-300 text-gray-700 cursor-default":"bg-orange-500 text-white hover:bg-orange-600"}`,children:re?"Joined":"Join Event"}),(a==="ADMIN"||a==="MODERATOR"||l?.role==="ADMIN")&&s.jsx(F,{onClick:()=>ne(T),className:"bg-green-500 text-white py-2 px-3 rounded-lg hover:bg-green-600",children:"Download CSV"})]})]},T.id)}):s.jsx("p",{className:"text-gray-600",children:"No events on this date."})]}),s.jsxs("div",{className:"mt-6 lg:mt-0 w-full lg:w-80 flex-none",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 max-h-[400px] overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("button",{onClick:G,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(Ph,{className:"w-5 h-5 text-gray-600"})}),s.jsx("span",{className:"font-semibold text-gray-900",children:new Date(i,u).toLocaleString("default",{month:"long",year:"numeric"})}),s.jsx("button",{onClick:A,className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(Ih,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("div",{className:"grid grid-cols-7 text-xs text-gray-500 mb-1",children:["S","M","T","W","T","F","S"].map((T,X)=>s.jsx("div",{className:"text-center",children:T},X))}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:B.map((T,X)=>{if(T==null)return s.jsx("div",{className:"h-10"},X);const ie=T===n.getDate()&&u===n.getMonth()&&i===n.getFullYear(),re=J.has(T),q=T===o;return s.jsxs("div",{onClick:()=>d(T),className:`
                    relative h-10 w-10 flex items-center justify-center
                    cursor-pointer rounded-full
                    ${ie?"bg-orange-100":""}
                    ${q?"ring-2 ring-orange-300":""}
                    hover:bg-gray-100
                  `,children:[s.jsx("span",{className:"text-sm text-gray-800",children:T}),re&&s.jsx("span",{className:"absolute bottom-1 w-1.5 h-1.5 bg-orange-500 rounded-full"})]},X)})})]}),s.jsx("button",{onClick:()=>d(null),className:"mt-4 bg-orange-500 w-full text-white py-2 rounded-lg hover:bg-orange-600",children:"Show All Events"})]})]})]})}function ov({club:e,onClubUpdate:t,onSelectThread:a}){const[l,n]=x.useState(""),[i,c]=x.useState(""),[u,r]=x.useState(null),[o,d]=x.useState(!1),[f,m]=x.useState(!1),[h,w]=x.useState(!0),[S,D]=x.useState(e.forum_threads.length||0),v=x.useRef(e);x.useEffect(()=>{v.current=e},[e]),x.useEffect(()=>{d(!0),w(!0),Y.listThreadsPage(e.id,0,10).then(j=>{t({...v.current,forum_threads:j}),D(j.length),j.length<10&&w(!1)}).catch(j=>r(j?.message??"Failed to load threads")).finally(()=>d(!1))},[]);const g=async()=>{if(r(null),!l.trim()||!i.trim()){r("Both title and content are required.");return}try{const j=await Y.createThread(e.id,l.trim(),i.trim());t({...e,forum_threads:[j,...e.forum_threads]}),n(""),c("")}catch(j){const z=j;z instanceof Ce&&z.status===403?r("Only club members can create threads."):r("Failed to create thread")}},y=async()=>{if(!(f||!h)){m(!0);try{const z=await Y.listThreadsPage(e.id,S,10),_=new Set((v.current.forum_threads??[]).map(M=>M.id)),Q=z.filter(M=>_.has(M.id)?!1:(_.add(M.id),!0));Q.length>0&&t({...v.current,forum_threads:[...v.current.forum_threads,...Q]}),D(M=>M+10),z.length<10&&w(!1)}catch{r("Failed to load more threads")}finally{m(!1)}}},p=[...e.forum_threads??[]].sort((j,z)=>{const _=(j.upvotes??0)-(j.downvotes??0),Q=(z.upvotes??0)-(z.downvotes??0);if(Q!==_)return Q-_;const M=new Date(j.lastActivity||"").getTime(),E=new Date(z.lastActivity||"").getTime();return(isNaN(E)?0:E)-(isNaN(M)?0:M)}),N=(j,z)=>{const _=(e.forum_threads??[]).map(Q=>String(Q.id)===String(j)?z(Q):Q);t({...e,forum_threads:_})},U=async(j,z)=>{j.stopPropagation();const _=(e.forum_threads??[]).find(E=>String(E.id)===String(z));if(!_)return;const Q=!!_.upvoted,M=!!_.downvoted;N(z,E=>({...E,upvoted:!Q,downvoted:Q?E.downvoted:!1,upvotes:(E.upvotes??0)+(Q?-1:1),downvotes:Q?E.downvotes??0:Math.max(0,(E.downvotes??0)-(E.downvoted?1:0))}));try{Q?await Y.removeUpvoteThread(z):(M&&await Y.removeDownvoteThread(z),await Y.upvoteThread(z))}catch{N(z,k=>({...k,upvoted:Q,downvoted:k.downvoted,upvotes:(k.upvotes??0)+(Q?1:-1),downvotes:k.downvotes}))}},b=async(j,z)=>{j.stopPropagation();const _=(e.forum_threads??[]).find(E=>String(E.id)===String(z));if(!_)return;const Q=!!_.downvoted,M=!!_.upvoted;N(z,E=>({...E,downvoted:!Q,upvoted:Q?E.upvoted:!1,downvotes:(E.downvotes??0)+(Q?-1:1),upvotes:Q?E.upvotes??0:Math.max(0,(E.upvotes??0)-(E.upvoted?1:0))}));try{Q?await Y.removeDownvoteThread(z):(M&&await Y.removeUpvoteThread(z),await Y.downvoteThread(z))}catch{N(z,k=>({...k,downvoted:Q,upvoted:k.upvoted,downvotes:(k.downvotes??0)+(Q?1:-1),upvotes:k.upvotes}))}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[u&&s.jsx("p",{className:"text-sm text-red-600 mb-2",children:u}),s.jsx("input",{type:"text",placeholder:"Thread title",className:"w-full border border-gray-300 rounded-lg px-3 py-1 mb-2",value:l,onChange:j=>n(j.target.value)}),s.jsx("textarea",{placeholder:"Thread content",className:"w-full border border-gray-300 rounded-lg px-3 py-2 mb-2 resize-none",rows:3,value:i,onChange:j=>c(j.target.value)}),s.jsx(F,{onClick:g,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Create Thread"})]}),o&&s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(Pe,{className:"w-6 h-6 animate-spin text-gray-500"})}),p.map(j=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md cursor-pointer",onClick:()=>a(j),children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:j.title}),s.jsxs("p",{className:"text-xs text-gray-500",children:["By ",j.author,"  ",j.replies," replies"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${j.upvoted?"text-orange-600":""}`,onClick:z=>U(z,j.id),"aria-label":"Upvote thread",children:s.jsx(qc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:j.upvotes??0}),s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${j.downvoted?"text-blue-600":""}`,onClick:z=>b(z,j.id),"aria-label":"Downvote thread",children:s.jsx(Lc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:j.downvotes??0}),s.jsxs("span",{className:"text-xs text-gray-400",children:[" score: ",(j.upvotes??0)-(j.downvotes??0)]})]})]})},j.id)),h&&!o&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(F,{onClick:y,disabled:f,className:"px-4 py-2",children:f?s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 animate-spin"})," Loading"]}):"Load more"})})]})}const dv=function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),fv=function(e){return"/"+e},xd={},mv=function(t,a,l){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");n=Promise.allSettled(a.map(r=>{if(r=fv(r),r in xd)return;xd[r]=!0;const o=r.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${d}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":dv,o||(f.as="script"),f.crossOrigin="",f.href=r,u&&f.setAttribute("nonce",u),document.head.appendChild(f),o)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};var jh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function a(){for(var i="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(i=n(i,l(u)))}return i}function l(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return a.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var c="";for(var u in i)t.call(i,u)&&i[u]&&(c=n(c,u));return c}function n(i,c){return c?i?i+" "+c:i+c:i}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(jh);var hv=jh.exports;const Nh=Gu(hv);var Hu={exports:{}},Yu={exports:{}},Qn=1e3,Zn=Qn*60,Vn=Zn*60,Jn=Vn*24,gv=Jn*365.25,xv=function(e,t){t=t||{};var a=typeof e;if(a==="string"&&e.length>0)return vv(e);if(a==="number"&&isNaN(e)===!1)return t.long?pv(e):yv(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function vv(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),l=(t[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return a*gv;case"days":case"day":case"d":return a*Jn;case"hours":case"hour":case"hrs":case"hr":case"h":return a*Vn;case"minutes":case"minute":case"mins":case"min":case"m":return a*Zn;case"seconds":case"second":case"secs":case"sec":case"s":return a*Qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function yv(e){return e>=Jn?Math.round(e/Jn)+"d":e>=Vn?Math.round(e/Vn)+"h":e>=Zn?Math.round(e/Zn)+"m":e>=Qn?Math.round(e/Qn)+"s":e+"ms"}function pv(e){return Ms(e,Jn,"day")||Ms(e,Vn,"hour")||Ms(e,Zn,"minute")||Ms(e,Qn,"second")||e+" ms"}function Ms(e,t,a){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+a:Math.ceil(e/t)+" "+a+"s"}(function(e,t){t=e.exports=n.debug=n.default=n,t.coerce=r,t.disable=c,t.enable=i,t.enabled=u,t.humanize=xv,t.names=[],t.skips=[],t.formatters={};var a;function l(o){var d=0,f;for(f in o)d=(d<<5)-d+o.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}function n(o){function d(){if(d.enabled){var f=d,m=+new Date,h=m-(a||m);f.diff=h,f.prev=a,f.curr=m,a=m;for(var w=new Array(arguments.length),S=0;S<w.length;S++)w[S]=arguments[S];w[0]=t.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var D=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(g,y){if(g==="%%")return g;D++;var p=t.formatters[y];if(typeof p=="function"){var N=w[D];g=p.call(f,N),w.splice(D,1),D--}return g}),t.formatArgs.call(f,w);var v=d.log||t.log||console.log.bind(console);v.apply(f,w)}}return d.namespace=o,d.enabled=t.enabled(o),d.useColors=t.useColors(),d.color=l(o),typeof t.init=="function"&&t.init(d),d}function i(o){t.save(o),t.names=[],t.skips=[];for(var d=(typeof o=="string"?o:"").split(/[\s,]+/),f=d.length,m=0;m<f;m++)d[m]&&(o=d[m].replace(/\*/g,".*?"),o[0]==="-"?t.skips.push(new RegExp("^"+o.substr(1)+"$")):t.names.push(new RegExp("^"+o+"$")))}function c(){t.enable("")}function u(o){var d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(o))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(o))return!0;return!1}function r(o){return o instanceof Error?o.stack||o.message:o}})(Yu,Yu.exports);var bv=Yu.exports;(function(e,t){var a={};t=e.exports=bv,t.log=i,t.formatArgs=n,t.save=c,t.load=u,t.useColors=l,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:r(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function l(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(o){try{return JSON.stringify(o)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function n(o){var d=this.useColors;if(o[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+o[0]+(d?"%c ":" ")+"+"+t.humanize(this.diff),!!d){var f="color: "+this.color;o.splice(1,0,f,"color: inherit");var m=0,h=0;o[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(m++,w==="%c"&&(h=m))}),o.splice(h,0,f)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function c(o){try{o==null?t.storage.removeItem("debug"):t.storage.debug=o}catch{}}function u(){var o;try{o=t.storage.debug}catch{}return!o&&typeof process<"u"&&"env"in process&&(o=a.DEBUG),o}t.enable(u());function r(){try{return window.localStorage}catch{}}})(Hu,Hu.exports);var jv=Hu.exports,vd=jv("jsonp"),Nv=Ev,wv=0;function Sv(){}function Ev(e,t,a){typeof t=="function"&&(a=t,t={}),t||(t={});var l=t.prefix||"__jp",n=t.name||l+wv++,i=t.param||"callback",c=t.timeout!=null?t.timeout:6e4,u=encodeURIComponent,r=document.getElementsByTagName("script")[0]||document.head,o,d;c&&(d=setTimeout(function(){f(),a&&a(new Error("Timeout"))},c));function f(){o.parentNode&&o.parentNode.removeChild(o),window[n]=Sv,d&&clearTimeout(d)}function m(){window[n]&&f()}return window[n]=function(h){vd("jsonp got",h),f(),a&&a(null,h)},e+=(~e.indexOf("?")?"&":"?")+i+"="+u(n),e=e.replace("?&","?"),vd('jsonp req "%s"',e),o=document.createElement("script"),o.src=e,r.parentNode.insertBefore(o,r),m}const tl=Gu(Nv);var Cv=Object.defineProperty,Av=Object.defineProperties,Tv=Object.getOwnPropertyDescriptors,Ei=Object.getOwnPropertySymbols,wh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,yd=(e,t,a)=>t in e?Cv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ot=(e,t)=>{for(var a in t||(t={}))wh.call(t,a)&&yd(e,a,t[a]);if(Ei)for(var a of Ei(t))Sh.call(t,a)&&yd(e,a,t[a]);return e},Qi=(e,t)=>Av(e,Tv(t)),Zi=(e,t)=>{var a={};for(var l in e)wh.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&Ei)for(var l of Ei(e))t.indexOf(l)<0&&Sh.call(e,l)&&(a[l]=e[l]);return a};function Gr(e){return a=>{var l=a,{bgStyle:n={},borderRadius:i=0,iconFillColor:c="white",round:u=!1,size:r=64}=l,o=Zi(l,["bgStyle","borderRadius","iconFillColor","round","size"]);return s.jsxs("svg",Qi(ot({viewBox:"0 0 64 64",width:r,height:r},o),{children:[u?s.jsx("circle",{cx:"32",cy:"32",r:"32",fill:e.color,style:n}):s.jsx("rect",{width:"64",height:"64",rx:i,ry:i,fill:e.color,style:n}),s.jsx("path",{d:e.path,fill:c})]}))}}class Ov extends Error{constructor(t){super(t),this.name="AssertionError"}}function pe(e,t){if(!e)throw new Ov(t)}function ge(e){const t=Object.entries(e).filter(([,a])=>a!=null).map(([a,l])=>`${encodeURIComponent(a)}=${encodeURIComponent(String(l))}`);return t.length>0?`?${t.join("&")}`:""}const Mv=e=>!!e&&(typeof e=="object"||typeof e=="function")&&"then"in e&&typeof e.then=="function",Dv=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),zv=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2});function Uv(e,t,a){var l=t,{height:n,width:i}=l,c=Zi(l,["height","width"]);const u=ot({height:n,width:i,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},c),r=window.open(e,"",Object.keys(u).map(o=>`${o}=${u[o]}`).join(", "));if(a){const o=window.setInterval(()=>{try{(r===null||r.closed)&&(window.clearInterval(o),a(r))}catch(d){console.error(d)}},1e3)}return r}function Rv(e){var t=e,{beforeOnClick:a,children:l,className:n,disabled:i,disabledStyle:c={opacity:.6},forwardedRef:u,htmlTitle:r,networkLink:o,networkName:d,onClick:f,onShareWindowClose:m,openShareDialogOnClick:h=!0,opts:w,resetButtonStyle:S=!0,style:D,title:v,url:g,windowHeight:y=400,windowPosition:p="windowCenter",windowWidth:N=550}=t,U=Zi(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const b=async _=>{const Q=o(g,w);if(!i){if(_.preventDefault(),a){const M=a();Mv(M)&&await M}if(h){const M=ot({height:y,width:N},p==="windowCenter"?Dv(N,y):zv(N,y));Uv(Q,M,m)}f&&f(_,Q)}},j=Nh("react-share__ShareButton",{"react-share__ShareButton--disabled":!!i,disabled:!!i},n),z=ot(ot(S?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},D),i&&c);return s.jsx("button",Qi(ot({},U),{className:j,onClick:b,ref:u,style:z,title:r,children:l}))}function Se(e,t,a,l){const n=(i,c)=>{const u=a(i),r=ot({},i);return Object.keys(u).forEach(d=>{delete r[d]}),s.jsx(Rv,Qi(ot(ot({},l),r),{forwardedRef:c,networkName:e,networkLink:t,opts:u}))};return n.displayName=`ShareButton-${e}`,x.forwardRef(n)}function _v(e,{title:t,separator:a}){return pe(e,"bluesky.url"),"https://bsky.app/intent/compose"+ge({text:t?t+a+e:e})}Se("bluesky",_v,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function kv(e,{subject:t,body:a,separator:l}){return"mailto:"+ge({subject:t,body:a?a+l+e:e})}Se("email",kv,e=>({subject:e.subject,body:e.body,separator:e.separator||" "}),{openShareDialogOnClick:!1,onClick:(e,t)=>{window.location.href=t}});const Bv=Gr({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function qv(e,{appId:t,redirectUri:a,to:l}){return"https://www.facebook.com/dialog/send"+ge({link:e,redirect_uri:a||e,app_id:t,to:l})}Se("facebookmessenger",qv,e=>({appId:e.appId,redirectUri:e.redirectUri,to:e.to}),{windowWidth:1e3,windowHeight:820});function Lv(e,{hashtag:t}){return pe(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+ge({u:e,hashtag:t})}const Hv=Se("facebook",Lv,e=>({hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function Yv(){const e=x.useRef(!1);return x.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),x.useCallback(()=>e.current,[])}function Gv(e){var t=e,{children:a=m=>m,className:l,getCount:n,url:i}=t,c=Zi(t,["children","className","getCount","url"]);const u=Yv(),[r,o]=x.useState(void 0),[d,f]=x.useState(!1);return x.useEffect(()=>{f(!0),n(i,m=>{u()&&(o(m),f(!1))})},[i]),s.jsx("span",Qi(ot({className:Nh("react-share__ShareCount",l)},c),{children:!d&&r!==void 0&&a(r)}))}function al(e){const t=a=>s.jsx(Gv,ot({getCount:e},a));return t.displayName=`ShareCount(${e.name})`,t}function Xv(e,t){const a=`https://graph.facebook.com/?id=${e}&fields=og_object{engagement}`;tl(a,(l,n)=>{t(!l&&n&&n.og_object&&n.og_object.engagement?n.og_object.engagement.count:void 0)})}al(Xv);function Qv(e,{title:t}){return pe(e,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${e}&title=${t}`}Se("hatena",Qv,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Zv(e,t){tl("https://bookmark.hatenaapis.com/count/entry"+ge({url:e}),(l,n)=>{t(n??void 0)})}al(Zv);function Vv(e,{title:t,description:a}){return pe(e,"instapaper.url"),"http://www.instapaper.com/hello2"+ge({url:e,title:t,description:a})}Se("instapaper",Vv,e=>({title:e.title,description:e.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function Jv(e,{title:t}){return pe(e,"line.url"),"https://social-plugins.line.me/lineit/share"+ge({url:e,text:t})}Se("line",Jv,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function Kv(e,{title:t,summary:a,source:l}){return pe(e,"linkedin.url"),"https://linkedin.com/shareArticle"+ge({url:e,mini:"true",title:t,summary:a,source:l})}Se("linkedin",Kv,({title:e,summary:t,source:a})=>({title:e,summary:t,source:a}),{windowWidth:750,windowHeight:600});function $v(e,{title:t,description:a}){return pe(e,"livejournal.url"),"https://www.livejournal.com/update.bml"+ge({subject:t,event:a})}Se("livejournal",$v,e=>({title:e.title,description:e.description}),{windowWidth:660,windowHeight:460});function Wv(e,{title:t,description:a,imageUrl:l}){return pe(e,"mailru.url"),"https://connect.mail.ru/share"+ge({url:e,title:t,description:a,image_url:l})}Se("mailru",Wv,e=>({title:e.title,description:e.description,imageUrl:e.imageUrl}),{windowWidth:660,windowHeight:460});function Fv(e,{title:t,description:a,image:l}){return pe(e,"ok.url"),"https://connect.ok.ru/offer"+ge({url:e,title:t,description:a,imageUrl:l})}Se("ok",Fv,e=>({title:e.title,description:e.description,image:e.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function Pv(e,t){window.OK||(window.OK={Share:{count:function(i,c){var u,r;(r=(u=window.OK.callbacks)[i])==null||r.call(u,c)}},callbacks:[]});const a="https://connect.ok.ru/dk",l=window.OK.callbacks.length;return window.ODKL={updateCount(n,i){var c,u;const r=n===""?0:parseInt(n.replace("react-share-",""),10);(u=(c=window.OK.callbacks)[r])==null||u.call(c,i===""?void 0:parseInt(i,10))}},window.OK.callbacks.push(t),tl(a+ge({"st.cmd":"extLike",uid:`react-share-${l}`,ref:e}))}al(Pv);function Iv(e,{media:t,description:a,pinId:l}){return l?`https://pinterest.com/pin/${l}/repin/x/`:(pe(e,"pinterest.url"),pe(t,"pinterest.media"),"https://pinterest.com/pin/create/button/"+ge({url:e,media:t,description:a}))}Se("pinterest",Iv,e=>({media:e.media,description:e.description,pinId:e.pinId}),{windowWidth:1e3,windowHeight:730});function ey(e,t){tl("https://api.pinterest.com/v1/urls/count.json"+ge({url:e}),(l,n)=>{t(n?n.count:void 0)})}al(ey);function ty(e,{title:t}){return pe(e,"pocket.url"),"https://getpocket.com/save"+ge({url:e,title:t})}Se("pocket",ty,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function ay(e,{title:t}){return pe(e,"reddit.url"),"https://www.reddit.com/web/submit"+ge({url:e,title:t})}Se("reddit",ay,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function ly(e,{title:t}){return pe(e,"gab.url"),"https://gab.com/compose"+ge({url:e,text:t})}Se("gab",ly,e=>({title:e.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function ny(e,t){const a=`https://www.reddit.com/api/info.json?limit=1&url=${e}`;tl(a,{param:"jsonp"},(l,n)=>{t(!l&&n&&n.data&&n.data.children.length>0&&n.data.children[0].data.score?n.data.children[0].data.score:void 0)})}al(ny);function sy(e,{title:t}){return pe(e,"telegram.url"),"https://telegram.me/share/url"+ge({url:e,text:t})}Se("telegram",sy,e=>({title:e.title}),{windowWidth:550,windowHeight:400});function iy(e,{title:t}){return pe(e,"threads.url"),"https://threads.net/intent/post"+ge({url:e,text:t})}Se("threads",iy,e=>({title:e.title}),{windowWidth:550,windowHeight:600});function cy(e,{title:t,caption:a,tags:l,posttype:n}){return pe(e,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+ge({canonicalUrl:e,title:t,caption:a,tags:l,posttype:n})}Se("tumblr",cy,e=>({title:e.title,tags:(e.tags||[]).join(","),caption:e.caption,posttype:e.posttype||"link"}),{windowWidth:660,windowHeight:460});function uy(e,t){return tl("https://api.tumblr.com/v2/share/stats"+ge({url:e}),(l,n)=>{t(!l&&n&&n.response?n.response.note_count:void 0)})}al(uy);const ry=Gr({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function oy(e,{title:t,via:a,hashtags:l=[],related:n=[]}){return pe(e,"twitter.url"),pe(Array.isArray(l),"twitter.hashtags is not an array"),pe(Array.isArray(n),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+ge({url:e,text:t,via:a,hashtags:l.length>0?l.join(","):void 0,related:n.length>0?n.join(","):void 0})}const dy=Se("twitter",oy,e=>({hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}),{windowWidth:550,windowHeight:400});function fy(e,{title:t,separator:a}){return pe(e,"viber.url"),"viber://forward"+ge({text:t?t+a+e:e})}Se("viber",fy,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460});function my(e,{title:t,image:a,noParse:l,noVkLinks:n}){return pe(e,"vk.url"),"https://vk.com/share.php"+ge({url:e,title:t,image:a,noparse:l?1:0,no_vk_links:n?1:0})}Se("vk",my,e=>({title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}),{windowWidth:660,windowHeight:460});function hy(e,t){window.VK||(window.VK={}),window.VK.Share={count:(n,i)=>{var c,u;return(u=(c=window.VK.callbacks)==null?void 0:c[n])==null?void 0:u.call(c,i)}},window.VK.callbacks=[];const a="https://vk.com/share.php",l=window.VK.callbacks.length;return window.VK.callbacks.push(t),tl(a+ge({act:"count",index:l,url:e}))}al(hy);function gy(e,{title:t,image:a}){return pe(e,"weibo.url"),"http://service.weibo.com/share/share.php"+ge({url:e,title:t,pic:a})}Se("weibo",gy,e=>({title:e.title,image:e.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const xy=Gr({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function vy(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function yy(e,{title:t,separator:a}){return pe(e,"whatsapp.url"),"https://"+(vy()?"api":"web")+".whatsapp.com/send"+ge({text:t?t+a+e:e})}const py=Se("whatsapp",yy,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:550,windowHeight:400});function by(e,{quote:t,hashtag:a}){return pe(e,"workplace.url"),"https://work.facebook.com/sharer.php"+ge({u:e,quote:t,hashtag:a})}Se("workplace",by,e=>({quote:e.quote,hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function Vi({url:e,onClose:t}){const a=()=>{navigator.clipboard.writeText(e),t()};return s.jsxs("div",{className:"absolute left-0 z-20 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-2 flex items-center space-x-2",children:[s.jsx(Hv,{url:e,children:s.jsx(Bv,{size:32,round:!0})}),s.jsx(dy,{url:e,children:s.jsx(ry,{size:32,round:!0})}),s.jsx(py,{url:e,children:s.jsx(xy,{size:32,round:!0})}),s.jsx("button",{onClick:a,className:"text-sm text-gray-600 hover:text-orange-500 px-2",children:"Copy Link"})]})}function jy(e){return{id:String(e.id),author:e.author?.username??e.author??e.username??"Unknown",authorAvatar:e.author?.avatar??"",content:e.content??"",time:e.time??e.createdAt??"",likes:e.likes??0,comments:e.comments??0,clubId:e.clubId??e.club?.id,clubName:e.clubName??e.club?.name,clubImage:e.clubImage??e.club?.image,picture:e.picture??e.photo,liked:e.liked??e.likedByUser??e.likedByMe??!1}}class Ny extends Fl{async getAll(){return(await this.api.request(`${this.api.baseUrl}/posts/bookmarks`)).map(jy)}async add(t){await this.api.request(`${this.api.baseUrl}/posts/${t}/bookmark`,{method:"POST"})}async remove(t){await this.api.request(`${this.api.baseUrl}/posts/${t}/bookmark`,{method:"DELETE"})}}const Ca=new Ny;function $a(e){const t=new Date(e);if(isNaN(t.getTime()))return e;try{return t.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}function Ji({src:e,alt:t,onClose:a}){const[l,n]=x.useState(1);x.useEffect(()=>{const c=u=>{u.key==="Escape"&&a(),(u.key==="+"||u.key==="=")&&n(r=>Math.min(3,r+.1)),(u.key==="-"||u.key==="_")&&n(r=>Math.max(.5,r-.1))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a]);const i=c=>{const u=c.deltaY>0?-.1:.1;n(r=>Math.min(3,Math.max(.5,r+u)))};return x.useEffect(()=>{const c=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=c}},[]),s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center overscroll-contain touch-none",onClick:a,"aria-modal":!0,role:"dialog",children:[s.jsx("button",{"aria-label":"Close image",onClick:a,className:"absolute top-4 right-4 z-20 p-2 rounded text-white/90 hover:text-white hover:bg-white/10",children:s.jsx(Qu,{className:"w-6 h-6"})}),s.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-20 flex gap-2 text-white/90",children:[s.jsx("button",{"aria-label":"Zoom out",className:"p-2 rounded bg-white/10 hover:bg-white/20",onClick:c=>{c.stopPropagation(),n(u=>Math.max(.5,u-.1))},children:s.jsx(e0,{className:"w-5 h-5"})}),s.jsx("button",{"aria-label":"Zoom in",className:"p-2 rounded bg-white/10 hover:bg-white/20",onClick:c=>{c.stopPropagation(),n(u=>Math.min(3,u+.1))},children:s.jsx(Hc,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative z-0 max-w-[90vw] max-h-[90vh]",onClick:c=>c.stopPropagation(),onWheel:i,children:s.jsx("img",{src:e,alt:t,className:"block max-w-full max-h-[90vh] object-contain select-none",style:{transform:`scale(${l})`,transition:"transform 120ms ease"},draggable:!1})})]})}const wy=Ci.lazy(()=>mv(()=>import("./emoji-l3YbTf4s.js"),__vite__mapDeps([0,1])));function Sy({club:e,onClubUpdate:t,onSelectPost:a}){const[l,n]=x.useState([]),[i,c]=x.useState(""),u=x.useRef(null),[r,o]=x.useState(null),[d,f]=x.useState(null),[m,h]=x.useState(!1),[w,S]=x.useState(""),[D,v]=x.useState(["",""]),[g,y]=x.useState(null),[p,N]=x.useState([]),[U,b]=x.useState([]),[j,z]=x.useState(null),[_,Q]=x.useState(!1),[M,E]=x.useState(!1),[k,G]=x.useState(null),[A,L]=x.useState(null),[H,P]=x.useState(null),[R,ne]=x.useState(0),[fe,Ke]=x.useState(!0),[V,ee]=x.useState(!1),J=x.useRef(!1),B=x.useRef(!0),T=x.useRef(R),X=x.useRef(null);x.useEffect(()=>{B.current=fe},[fe]),x.useEffect(()=>{T.current=R},[R]);const ie=x.useRef(e);x.useEffect(()=>{ie.current=e},[e]);const re=x.useRef(l);x.useEffect(()=>{re.current=l},[l]);const q=x.useCallback(async()=>{if(!(J.current||!B.current)){J.current=!0,ee(!0);try{const Z=await Y.listPostsPage(ie.current.id,T.current,10);if(Z&&Z.length>0){const W=new Set(re.current.map(_e=>_e.id)),ve=Z.filter(_e=>W.has(_e.id)?!1:(W.add(_e.id),!0));ve.length>0&&n(_e=>[..._e,...ve]),ne(_e=>_e+10)}(!Z||Z.length<10)&&Ke(!1)}catch{}finally{ee(!1),J.current=!1}}},[t]);x.useEffect(()=>{q()},[q]);const K=x.useRef(null),I=x.useCallback(C=>{X.current=C,C&&(K.current||(K.current=new IntersectionObserver(Z=>{Z[0].isIntersecting&&!J.current&&B.current&&(X.current&&K.current?.unobserve(X.current),q())})),K.current.observe(C))},[q]);x.useEffect(()=>{!V&&B.current&&X.current&&K.current?.observe(X.current)},[V,fe]);const[Ae,ze]=x.useState(null),[it,Ua]=x.useState(""),[Xr,Ki]=x.useState(null),[sa,$i]=x.useState(null),[Wi,Qr]=x.useState(!1),{user:ds}=et(),Fi=ds?.memberships?.find(C=>String(C.clubId)===String(e.id)),Zr=Fi?.role==="ADMIN"||Fi?.role==="MODERATOR",Vr=C=>!!ds?.name&&String(C.author)===String(ds?.name),Pi=C=>Vr(C),Ii=C=>Vr(C)||Fi?.role==="ADMIN"||ds?.role==="ADMIN";x.useEffect(()=>{b(l.filter(C=>C.liked).map(C=>C.id))},[l]),x.useEffect(()=>{Ca.getAll().then(C=>N(C.map(Z=>Z.id))).catch(()=>{})},[]);const Ch=async C=>{const Z=p.includes(C.id);N(Z?W=>W.filter(ve=>ve!==C.id):W=>[...W,C.id]);try{Z?await Ca.remove(C.id):await Ca.add(C.id)}catch(W){N(_e=>Z?[..._e,C.id]:_e.filter(Dt=>Dt!==C.id));const ve=W;ve instanceof Ce&&ve.status===403?G("You do not have permission to modify bookmarks."):G("Failed to update bookmark")}},Jr=100*1024*1024,Ah=C=>{const Z=C.target.files?.[0];if(!Z)return;if(!Z.type.startsWith("image/")){y("Only image files are allowed."),C.currentTarget.value="";return}if(Z.size>Jr){y("Image must be 100MB or smaller."),C.currentTarget.value="";return}y(null),o(Z);const W=URL.createObjectURL(Z);f(W)},Th=C=>{const Z=C.target.files?.[0];if(!Z)return;if(!Z.type.startsWith("image/")){G("Only image files are allowed."),C.currentTarget.value="";return}if(Z.size>Jr){G("Image must be 100MB or smaller."),C.currentTarget.value="";return}Ki(Z);const W=URL.createObjectURL(Z);sa&&URL.revokeObjectURL(sa),$i(W)},Oh=()=>v(C=>[...C,""]),Mh=(C,Z)=>v(W=>W.map((ve,_e)=>_e===C?Z:ve)),Dh=async()=>{if(y(null),!i.trim()){y("Add some text to your post.");return}if(!Zr){y("Only moderators and admins can post in this club.");return}try{Q(!0);const C=await Y.createPost(e.id,i,r??void 0);n(Z=>[C,...Z]),c(""),o(null),d&&(URL.revokeObjectURL(d),f(null)),h(!1),S(""),v(["",""]),a(C)}catch(C){const Z=C;Z instanceof Ce&&Z.status===403?y("You do not have permission to create posts in this club."):y("Failed to create post")}finally{Q(!1)}},zh=C=>{const Z=u.current;if(!Z){c(fs=>fs+C),E(!1);return}const W=Z.selectionStart??i.length,ve=Z.selectionEnd??i.length,_e=i.slice(0,W),Dt=i.slice(ve),Bh=_e+C+Dt;c(Bh),E(!1),requestAnimationFrame(()=>{Z.focus();const fs=W+C.length;Z.setSelectionRange(fs,fs)})},Uh=async C=>{const Z=U.includes(C.id);n(W=>W.map(ve=>ve.id===C.id?{...ve,liked:!Z,likes:ve.likes+(Z?-1:1)}:ve)),b(W=>Z?W.filter(ve=>ve!==C.id):[...W,C.id]);try{Z?await Y.unlikePost(C.id):await Y.likePost(C.id)}catch(W){const ve=W;ve instanceof Ce&&ve.status===403&&G("You do not have permission to like posts."),n(_e=>_e.map(Dt=>Dt.id===C.id?{...Dt,liked:Z,likes:Dt.likes+(Z?1:-1)}:Dt)),b(_e=>Z?[..._e,C.id]:_e.filter(Dt=>Dt!==C.id))}},Rh=C=>{ze(C.id),Ua(C.content),Ki(null),sa&&(URL.revokeObjectURL(sa),$i(null)),P(null)},ec=()=>{ze(null),Ua(""),sa&&(URL.revokeObjectURL(sa),$i(null)),Ki(null)},_h=async C=>{if(!Pi(C)){G("Only the author can edit this post.");return}Qr(!0);try{let Z=null;if(it.trim()!==C.content.trim()&&(Z=await Y.updatePost(e.id,C.id,it.trim())),Xr&&(Z=await Y.updatePostPicture(C.id,Xr)),!Z){ec();return}n(W=>W.map(ve=>ve.id===C.id?Z:ve)),ec()}catch(Z){const W=Z;W instanceof Ce&&W.status===403?G("You do not have permission to edit posts in this club."):G("Failed to update post")}finally{Qr(!1)}},kh=async C=>{if(!Ii(C)){G("You do not have permission to delete this post.");return}P(null);try{await Y.deletePost(e.id,C.id),n(Z=>Z.filter(W=>W.id!==C.id))}catch(Z){const W=Z;W instanceof Ce&&W.status===403?G("You do not have permission to delete posts in this club."):G("Failed to delete post")}};return s.jsxs(s.Fragment,{children:[_&&s.jsx(Yr,{message:"Creating post..."}),k&&s.jsx(Ql,{message:k,onClose:()=>G(null)}),s.jsxs("div",{className:"space-y-4",children:[Zr&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[g&&s.jsx("p",{className:"text-sm text-red-600 mb-2",children:g}),s.jsx("textarea",{placeholder:"What's on your mind?",className:"w-full border border-gray-300 rounded-lg px-3 py-2 resize-none",rows:3,value:i,onChange:C=>c(C.target.value),ref:u}),m&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("input",{type:"text",placeholder:"Poll question",className:"w-full border border-gray-300 rounded-lg px-3 py-1",value:w,onChange:C=>S(C.target.value)}),D.map((C,Z)=>s.jsx("input",{type:"text",placeholder:`Option ${Z+1}`,className:"w-full border border-gray-300 rounded-lg px-3 py-1",value:C,onChange:W=>Mh(Z,W.target.value)},Z)),s.jsx("button",{type:"button",onClick:Oh,className:"text-blue-500 text-sm",children:"+ Add option"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 relative",children:[s.jsxs("label",{className:"p-2 cursor-pointer hover:bg-gray-100 rounded-full",children:[s.jsx(Yc,{className:"w-5 h-5 text-gray-500"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ah})]}),s.jsx("button",{type:"button",onClick:()=>h(C=>!C),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(t0,{className:"w-5 h-5 text-gray-500"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>E(C=>!C),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(a0,{className:"w-5 h-5 text-gray-500"})}),M&&s.jsx("div",{className:"absolute z-10 mt-2",children:s.jsx(Ci.Suspense,{fallback:s.jsx("div",{className:"p-2 text-sm text-gray-500",children:"Loading emojis"}),children:s.jsx(wy,{width:300,height:300,skinTonesDisabled:!0,previewConfig:{showPreview:!1},onEmojiClick:C=>zh(C.emoji)})})})]}),s.jsx(F,{onClick:Dh,className:"ml-auto bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Post"})]})]}),d&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Image preview"}),s.jsx("img",{src:d,alt:"preview",className:"rounded-lg max-h-72 object-cover w-full"})]})]}),l.map(C=>{const Z=p.includes(C.id);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ie,{avatar:C.avatar,size:32}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-gray-900",children:C.author}),s.jsxs("span",{className:"text-xs text-gray-500",children:[" ",e.name]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[" ",$a(C.time)]})]}),(Pi(C)||Ii(C))&&s.jsxs("div",{className:"ml-auto relative",children:[s.jsx("button",{className:"p-1 rounded hover:bg-gray-100",onClick:()=>P(W=>W===C.id?null:C.id),"aria-label":"Post actions",children:s.jsx(Od,{className:"w-5 h-5 text-gray-600"})}),H===C.id&&s.jsxs("div",{className:"absolute right-0 mt-2 w-36 bg-white border border-gray-200 rounded shadow z-10",children:[Pi(C)&&s.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",onClick:()=>Rh(C),children:[s.jsx(Md,{className:"w-4 h-4 text-gray-600"})," Edit"]}),Ii(C)&&s.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:()=>kh(C),children:[s.jsx(Gc,{className:"w-4 h-4"})," Delete"]})]})]})]}),Ae===C.id?s.jsxs("div",{className:"mb-2",children:[s.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 resize-none mb-2",rows:3,value:it,onChange:W=>Ua(W.target.value),disabled:Wi}),s.jsx("div",{className:"flex items-center gap-3 mb-2",children:s.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1 border rounded cursor-pointer hover:bg-gray-50",children:[s.jsx(Yc,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Change photo"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Th})]})}),(sa||C.picture)&&s.jsx("div",{className:"w-full rounded-lg bg-gray-100 mb-2 flex items-center justify-center h-64 md:h-80 lg:h-96 overflow-hidden",children:s.jsx("img",{src:sa??C.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{onClick:()=>_h(C),disabled:Wi,className:"bg-orange-500 text-white px-3 py-1.5",children:"Save"}),s.jsx("button",{className:"px-3 py-1.5 rounded border text-sm",onClick:ec,disabled:Wi,children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 mb-2",children:C.content}),C.picture&&s.jsx("button",{className:"w-full rounded-lg bg-gray-100 mb-2 flex items-center justify-center h-64 md:h-80 lg:h-96 overflow-hidden",onClick:()=>L(C.picture),"aria-label":"Open image",children:s.jsx("img",{src:C.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})})]}),C.poll&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"font-medium",children:C.poll.question}),s.jsx("ul",{className:"list-disc list-inside",children:C.poll.options.map((W,ve)=>s.jsxs("li",{className:"text-gray-700 text-sm",children:[W.text,"  ",W.votes," votes"]},ve))})]}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-500",children:[s.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>Uh(C),children:[s.jsx(On,{className:`w-4 h-4 ${U.includes(C.id)?"text-orange-500":""}`}),s.jsx("span",{className:"text-sm",children:C.likes})]}),s.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>a(C),children:[s.jsx(Kn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:C.comments})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>z(W=>W===C.id?null:C.id),children:s.jsx(zl,{className:"w-4 h-4"})}),j===C.id&&s.jsx(Vi,{url:`${window.location.origin}/posts/${C.id}`,onClose:()=>z(null)})]}),s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>Ch(C),children:s.jsx(Tn,{className:`w-4 h-4 ${Z?"text-orange-500":"text-gray-500"}`})})]})]},C.id)}),s.jsx("div",{ref:I}),V&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Pe,{className:"w-6 h-6 animate-spin text-gray-500"})}),!V&&!fe&&s.jsx("div",{className:"text-center text-gray-500 py-4",children:"No more posts"})]}),A&&s.jsx(Ji,{src:A,onClose:()=>L(null)})]})}const cl=[{value:"MEMBER",label:"Member",description:"Regular member; can post, join events, and comment."},{value:"MODERATOR",label:"Moderator",description:"Can create and manage events, and moderate content."},{value:"ADMIN",label:"Admin",description:"Can change roles of other members and manage everything."}],Ds={ADMIN:"bg-red-100 text-red-800",MODERATOR:"bg-blue-100 text-blue-800",MEMBER:"bg-green-100 text-green-800"};function Ey({club:e,onUpdate:t,currentUserRole:a}){const l=Ot(),[n,i]=x.useState(e.members_list),[c,u]=x.useState("grid"),[r,o]=x.useState(""),{user:d}=et();x.useEffect(()=>{i(e.members_list)},[e.members_list]);const f=x.useMemo(()=>{const h=r.toLowerCase();return n.filter(w=>w.name.toLowerCase().includes(h)||w.role.toLowerCase().includes(h))},[n,r]),m=async(h,w)=>{const S=n.find(v=>v.id===h);if(!S||String(S.userId)===String(d?.id))return;const D=n.filter(v=>v.role==="ADMIN");if(!(S.role==="ADMIN"&&w!=="ADMIN"&&D.length<=1))try{await Y.updateMemberRole(e.id,h,w);const v=n.map(g=>g.id===h?{...g,role:w}:g);i(v),t?.(v)}catch(v){console.error(v)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("input",{type:"text",placeholder:"Search members...",value:r,onChange:h=>o(h.target.value),className:"flex-1 max-w-sm border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u("grid"),className:`p-2 rounded-lg ${c==="grid"?"bg-orange-100 text-orange-600":"hover:bg-gray-100"}`,children:s.jsx(Ad,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>u("list"),className:`p-2 rounded-lg ${c==="list"?"bg-orange-100 text-orange-600":"hover:bg-gray-100"}`,children:s.jsx(Td,{className:"w-5 h-5"})})]})]}),c==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:f.map(h=>{const w=String(h.userId)===String(d?.id);return s.jsxs("div",{onClick:()=>l(`/users/${h.userId}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex flex-col items-center text-center gap-3 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"text-3xl",children:s.jsx(Ie,{avatar:h.avatar,size:48})}),s.jsx("p",{className:"font-medium text-gray-900",children:h.name}),a==="ADMIN"&&!w?s.jsx("select",{value:h.role,onChange:S=>m(h.id,S.target.value),onClick:S=>S.stopPropagation(),title:cl.find(S=>S.value===h.role)?.description,className:`border px-2 py-1 rounded ${Ds[h.role]} border-gray-300 hover:border-gray-400`,children:cl.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))}):s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ds[h.role]}`,children:cl.find(S=>S.value===h.role)?.label??h.role})]},h.id)})}):s.jsx("div",{className:"space-y-2",children:f.map(h=>{const w=String(h.userId)===String(d?.id);return s.jsxs("div",{onClick:()=>l(`/users/${h.userId}`),className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx("div",{className:"text-3xl",children:s.jsx(Ie,{avatar:h.avatar,size:32})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium text-gray-900",children:h.name})}),a==="ADMIN"&&!w?s.jsx("select",{value:h.role,onChange:S=>m(h.id,S.target.value),onClick:S=>S.stopPropagation(),title:cl.find(S=>S.value===h.role)?.description,className:`mr-4 border px-2 py-1 rounded ${Ds[h.role]} border-gray-300 hover:border-gray-400`,children:cl.map(S=>s.jsx("option",{value:S.value,children:S.label},S.value))}):s.jsx("span",{className:`mr-4 px-2 py-0.5 rounded-full text-xs font-medium ${Ds[h.role]}`,children:cl.find(S=>S.value===h.role)?.label??h.role})]},h.id)})})]})}function Cy({thread:e,onBack:t}){const[a,l]=x.useState(!1),[n,i]=x.useState(e),[c,u]=x.useState(e.posts??[]),[r,o]=x.useState(null),[d,f]=x.useState(""),[m,h]=x.useState(!1),[w,S]=x.useState(0),[D,v]=x.useState(!0),[g,y]=x.useState(!1),p=x.useRef(!1),N=M=>[...M].sort((E,k)=>(k.upvotes??0)-(k.downvotes??0)-((E.upvotes??0)-(E.downvotes??0)));x.useEffect(()=>{i(e),u([]),S(0),v(!0),p.current=!1,(async()=>{try{p.current=!0,y(!0);const E=10,k=await Y.listThreadComments(e.id,0,E);u(N(k)),S(k.length),k.length<E&&v(!1)}catch{}finally{p.current=!1,y(!1)}})()},[e.id]);const U=x.useCallback(async()=>{if(!(p.current||!D)){p.current=!0,y(!0);try{const E=await Y.listThreadComments(n.id,w,10);E.length>0&&u(k=>N([...k,...E])),S(k=>k+E.length),E.length<10&&v(!1)}catch{}finally{y(!1),p.current=!1}}},[n.id,w,D]),b=x.useMemo(()=>(n.upvotes??0)-(n.downvotes??0),[n.upvotes,n.downvotes]),j=async()=>{const M=!!n.upvoted,E=!!n.downvoted;i(k=>({...k,upvoted:!M,downvoted:M?k.downvoted:!1,upvotes:(k.upvotes??0)+(M?-1:1),downvotes:M?k.downvotes??0:Math.max(0,(k.downvotes??0)-(k.downvoted?1:0))}));try{M?await Y.removeUpvoteThread(n.id):(E&&await Y.removeDownvoteThread(n.id),await Y.upvoteThread(n.id))}catch(k){i(A=>({...A,upvoted:M,downvoted:A.downvoted,upvotes:(A.upvotes??0)+(M?1:-1),downvotes:A.downvotes}));const G=k;G instanceof Ce&&G.status===403&&o("You must be a member to vote.")}},z=async()=>{const M=!!n.downvoted,E=!!n.upvoted;i(k=>({...k,downvoted:!M,upvoted:M?k.upvoted:!1,downvotes:(k.downvotes??0)+(M?-1:1),upvotes:M?k.upvotes??0:Math.max(0,(k.upvotes??0)-(k.upvoted?1:0))}));try{M?await Y.removeDownvoteThread(n.id):(E&&await Y.removeUpvoteThread(n.id),await Y.downvoteThread(n.id))}catch(k){i(A=>({...A,downvoted:M,upvoted:A.upvoted,downvotes:(A.downvotes??0)+(M?1:-1),upvotes:A.upvotes}));const G=k;G instanceof Ce&&G.status===403&&o("You must be a member to vote.")}},_=async M=>{let E=!1,k=!1;u(G=>N(G.map(A=>{if(A.id!==M)return A;E=!!A.upvoted,k=!!A.downvoted;const L=!E,H=L?!1:k,P=(A.upvotes??0)+(L?1:-1),R=(A.downvotes??0)-(k&&L?1:0);return{...A,upvoted:L,downvoted:H,upvotes:Math.max(0,P),downvotes:Math.max(0,R)}})));try{let G;E?G=await Y.removeUpvoteComment(M):(k&&await Y.removeDownvoteComment(M),G=await Y.upvoteComment(M)),G&&u(A=>N(A.map(L=>L.id===M?{...L,...G}:L)))}catch(G){u(L=>N(L.map(H=>{if(H.id!==M)return H;const P=(H.upvotes??0)+(E?1:-1),R=(H.downvotes??0)+(k?1:0);return{...H,upvoted:E,downvoted:k,upvotes:Math.max(0,P),downvotes:Math.max(0,R)}})));const A=G;A instanceof Ce&&A.status===403&&o("You must be a member to vote.")}},Q=async M=>{let E=!1,k=!1;u(G=>N(G.map(A=>{if(A.id!==M)return A;E=!!A.upvoted,k=!!A.downvoted;const L=!k,H=L?!1:E,P=(A.downvotes??0)+(L?1:-1),R=(A.upvotes??0)-(E&&L?1:0);return{...A,downvoted:L,upvoted:H,downvotes:Math.max(0,P),upvotes:Math.max(0,R)}})));try{let G;k?G=await Y.removeDownvoteComment(M):(E&&await Y.removeUpvoteComment(M),G=await Y.downvoteComment(M)),G&&u(A=>N(A.map(L=>L.id===M?{...L,...G}:L)))}catch(G){u(L=>N(L.map(H=>{if(H.id!==M)return H;const P=(H.downvotes??0)+(k?1:-1),R=(H.upvotes??0)+(E?1:0);return{...H,upvoted:E,downvoted:k,downvotes:Math.max(0,P),upvotes:Math.max(0,R)}})));const A=G;A instanceof Ce&&A.status===403&&o("You must be a member to vote.")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:" Back to Forum"}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ie,{avatar:n.avatar,size:40}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:n.author}),s.jsx("p",{className:"text-sm text-gray-500",children:"Original Post"})]})]}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n.title}),n.content&&s.jsx("p",{className:"text-gray-700 mb-4",children:n.content}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[n.replies," replies"]}),s.jsx("span",{children:$a(n.lastActivity)}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${n.upvoted?"text-orange-600":""}`,onClick:j,"aria-label":"Upvote thread",children:s.jsx(qc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:n.upvotes??0}),s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${n.downvoted?"text-blue-600":""}`,onClick:z,"aria-label":"Downvote thread",children:s.jsx(Lc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:n.downvotes??0}),s.jsxs("span",{className:"text-xs text-gray-400",children:[" score: ",b]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>l(M=>!M),children:s.jsx(zl,{className:"w-4 h-4"})}),a&&s.jsx(Vi,{url:window.location.href,onClose:()=>l(!1)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Replies"}),r&&s.jsx("p",{className:"text-sm text-red-600",children:r}),c.map(M=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Ie,{avatar:M.author?.avatar,size:32}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:M.author?.username}),s.jsx("p",{className:"text-sm text-gray-500",children:$a(M.time)})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:M.content}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${M.upvoted?"text-orange-600":""}`,onClick:()=>_(M.id),"aria-label":"Upvote reply",children:s.jsx(qc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:M.upvotes??0}),s.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${M.downvoted?"text-blue-600":""}`,onClick:()=>Q(M.id),"aria-label":"Downvote reply",children:s.jsx(Lc,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm",children:M.downvotes??0}),s.jsxs("span",{className:"text-xs text-gray-400",children:[" score: ",(M.upvotes??0)-(M.downvotes??0)]})]})]},M.id))]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Add a Reply"}),s.jsx("textarea",{placeholder:"Write your reply...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:3,value:d,onChange:M=>f(M.target.value)}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsx(F,{variant:"primary",disabled:m||!d.trim(),onClick:async()=>{if(d.trim()){h(!0),o(null);try{const M=await Y.addThreadComment(n.id,d.trim());u(E=>N([M,...E])),f("")}catch(M){const E=M;E instanceof Ce&&E.status===403?o("You must be a member to comment."):o("Failed to post reply")}finally{h(!1)}}},children:m?s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 animate-spin"})," Posting"]}):"Post Reply"})})]}),D&&s.jsx("div",{className:"flex justify-center",children:s.jsx(F,{onClick:U,disabled:g,className:"px-4 py-2",children:g?s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 animate-spin"})," Loading"]}):"Load more replies"})})]})}function Eh({post:e,clubId:t,currentUserRole:a,onBack:l,onPostUpdate:n,onPostDelete:i,backLabel:c}){const[u,r]=x.useState(!1),[o,d]=x.useState(e),[f,m]=x.useState(""),[h,w]=x.useState(null),[S,D]=x.useState(null),[v,g]=x.useState(!1),[y,p]=x.useState(!1),[N,U]=x.useState(e.content),[b,j]=x.useState(null),[z,_]=x.useState(null),[Q,M]=x.useState(!1),{user:E}=et(),[k,G]=x.useState(0),[A,L]=x.useState(!0),[H,P]=x.useState(!1);x.useEffect(()=>{(async()=>{P(!0);try{const I=await Y.listCommentsPage(e.id,0,10);d(Ae=>({...Ae,comments:I.length,commentsList:I})),G(I.length),L(I.length>=10),n?.({...e,comments:I.length,commentsList:I})}catch{}finally{P(!1)}})()},[e.id]);const R=async()=>{if(!(H||!A)){P(!0);try{const K=await Y.listCommentsPage(e.id,k,10);d(I=>{const Ae=[...I.commentsList??[],...K],ze={...I,commentsList:Ae,comments:Ae.length};return n?.(ze),ze}),G(I=>I+K.length),K.length<10&&L(!1)}catch{}finally{P(!1)}}},ne=!!E?.name&&String(o.author)===String(E?.name),fe=ne,Ke=ne||a==="ADMIN"||E?.role==="ADMIN",V=async()=>{const q=o.liked??!1;d(K=>{const I={...K,liked:!q,likes:K.likes+(q?-1:1)};return n?.(I),I});try{q?await Y.unlikePost(o.id):await Y.likePost(o.id)}catch(K){const I=K;I instanceof Ce&&I.status===403&&w("You do not have permission to like posts."),d(Ae=>{const ze={...Ae,liked:q,likes:Ae.likes+(q?1:-1)};return n?.(ze),ze})}},ee=q=>{const K=q.target.files?.[0];if(!K)return;if(!K.type.startsWith("image/")){w("Only image files are allowed."),q.currentTarget.value="";return}j(K);const I=URL.createObjectURL(K);z&&URL.revokeObjectURL(z),_(I)},J=async()=>{if(!fe){w("Only the author can edit this post.");return}if(!t){w("Cannot edit this post: missing club context.");return}M(!0);try{let q=null;N.trim()!==o.content.trim()&&(q=await Y.updatePost(t,o.id,N.trim())),b&&(q=await Y.updatePostPicture(o.id,b)),q&&(d(q),n?.(q)),p(!1),g(!1),z&&URL.revokeObjectURL(z),_(null),j(null)}catch(q){const K=q;K instanceof Ce&&K.status===403?w("You do not have permission to edit this post."):w("Failed to update post")}finally{M(!1)}},B=async()=>{if(!Ke){w("You do not have permission to delete this post.");return}if(!t){w("Cannot delete this post: missing club context.");return}try{await Y.deletePost(t,o.id),i?.(o.id),l()}catch(q){const K=q;K instanceof Ce&&K.status===403?w("You do not have permission to delete this post."):w("Failed to delete post")}},T=async q=>{let K=!1;d(I=>{const Ae={...I,commentsList:(I.commentsList??[]).map(ze=>{if(ze.id!==q)return ze;K=!!ze.liked;const it=!K,Ua=(ze.likes??0)+(it?1:-1);return{...ze,liked:it,likes:Math.max(0,Ua)}})};return n?.(Ae),Ae});try{K?await Y.unlikeComment(q):await Y.likeComment(q)}catch(I){const Ae=I;Ae instanceof Ce&&Ae.status===403&&w("You do not have permission to like comments."),d(ze=>({...ze,commentsList:(ze.commentsList??[]).map(it=>{if(it.id!==q)return it;const Ua=(it.likes??0)+(it.liked?-1:1);return{...it,liked:!it.liked,likes:Math.max(0,Ua)}})}))}},X=async()=>{if(f.trim()){try{await Y.addComment(o.id,f)}catch(q){const K=q;K instanceof Ce&&K.status===403&&w("You do not have permission to comment.")}try{const q=await Y.listCommentsPage(o.id,0,Math.max(10,o.commentsList?.length??0));d(K=>{const I={...K,comments:q.length,commentsList:q};return n?.(I),I}),m("")}catch{}}},ie=q=>{const K=String(q.author?.id??"")===String(E?.id??""),I=a==="ADMIN",Ae=a==="MODERATOR",ze=E?.role==="ADMIN";return K||I||Ae||ze},re=async q=>{if(!ie(q)){w("You do not have permission to delete this comment.");return}d(K=>({...K,comments:Math.max(0,K.comments-1),commentsList:(K.commentsList??[]).filter(I=>I.id!==q.id)}));try{await Y.deleteComment(q.id)}catch(K){const I=K;I instanceof Ce&&I.status===403?w("You do not have permission to delete comments."):w("Failed to delete comment");try{const Ae=await Y.listComments(o.id);d(ze=>({...ze,comments:Ae.length,commentsList:Ae}))}catch{}}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[h&&s.jsx(Ql,{message:h,onClose:()=>w(null)}),s.jsxs("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:[" ",c??"Back"]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ie,{avatar:o.avatar,size:40}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:o.author}),s.jsx("p",{className:"text-sm text-gray-500",children:$a(o.time)})]}),(fe||Ke)&&s.jsxs("div",{className:"ml-auto relative",children:[s.jsx("button",{className:"p-1 rounded hover:bg-gray-100",onClick:()=>g(q=>!q),"aria-label":"Post actions",children:s.jsx(Od,{className:"w-5 h-5 text-gray-600"})}),v&&s.jsxs("div",{className:"absolute right-0 mt-2 w-36 bg-white border border-gray-200 rounded shadow z-10",children:[fe&&s.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center gap-2",onClick:()=>{p(!0),g(!1),U(o.content)},children:[s.jsx(Md,{className:"w-4 h-4 text-gray-600"})," Edit"]}),Ke&&s.jsxs("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:B,children:[s.jsx(Gc,{className:"w-4 h-4"})," Delete"]})]})]})]}),y?s.jsxs("div",{className:"mb-4",children:[s.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 resize-none mb-2",rows:4,value:N,onChange:q=>U(q.target.value),disabled:Q}),s.jsx("div",{className:"flex items-center gap-3 mb-2",children:s.jsxs("label",{className:"inline-flex items-center gap-2 px-3 py-1 border rounded cursor-pointer hover:bg-gray-50",children:[s.jsx(Yc,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm",children:"Change photo"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ee})]})}),(z||o.picture)&&s.jsx("div",{className:"w-full rounded-lg bg-gray-100 mb-2 flex items-center justify-center h-72 md:h-96 lg:h-[32rem] overflow-hidden",children:s.jsx("img",{src:z??o.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{onClick:J,disabled:Q,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Save"}),s.jsx("button",{className:"px-4 py-2 rounded border text-sm",onClick:()=>{p(!1),g(!1),z&&URL.revokeObjectURL(z),_(null),j(null)},disabled:Q,children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:o.content}),o.picture&&s.jsx("button",{className:"w-full rounded-lg bg-gray-100 mb-4 flex items-center justify-center h-72 md:h-96 lg:h-[32rem] overflow-hidden",onClick:()=>D(o.picture),"aria-label":"Open image",children:s.jsx("img",{src:o.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})})]}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-500",children:[s.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:V,children:[s.jsx(On,{className:`w-4 h-4 ${o.liked?"text-orange-500":""}`}),s.jsx("span",{className:"text-sm",children:o.likes})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kn,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:[o.comments," comments"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>r(q=>!q),children:s.jsx(zl,{className:"w-4 h-4"})}),u&&s.jsx(Vi,{url:window.location.href,onClose:()=>r(!1)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comments"}),(o.commentsList??[]).map(q=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Ie,{avatar:q.author?.avatar,size:32}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:q.author?.username}),s.jsx("p",{className:"text-sm text-gray-500",children:$a(q.time)})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:q.content}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{className:"flex items-center gap-1 text-gray-500 hover:text-orange-500",onClick:()=>T(q.id),children:[s.jsx(On,{className:`w-4 h-4 ${q.liked?"text-orange-500":""}`}),s.jsx("span",{className:"text-sm",children:q.likes??0})]}),ie(q)&&s.jsxs("button",{className:"flex items-center gap-1 text-red-600 hover:text-red-700",onClick:()=>re(q),children:[s.jsx(Gc,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Delete"})]})]})]},q.id))]}),A&&s.jsx("div",{className:"flex justify-center py-2",children:s.jsx(F,{onClick:R,disabled:H,className:"px-4 py-2",children:H?s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 animate-spin"})," Loading"]}):"Load more comments"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Add a Comment"}),s.jsx("textarea",{placeholder:"Write your comment...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:3,value:f,onChange:q=>m(q.target.value)}),s.jsx("div",{className:"flex justify-end mt-3",children:s.jsx(F,{onClick:X,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Post Comment"})})]})]}),S&&s.jsx(Ji,{src:S,onClose:()=>D(null)})]})}const Ay={ADMIN:"bg-red-100 text-red-800",MODERATOR:"bg-blue-100 text-blue-800",MEMBER:"bg-green-100 text-green-800"},Ty={ADMIN:"Admin",MODERATOR:"Moderator",MEMBER:"Member"},pd=e=>e.toLowerCase().replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase());function bd(){const{clubId:e,postId:t,threadId:a}=Xu(),l=Ot(),n=Wa(),[i,c]=Lh(),{user:u,refresh:r}=et(),[o,d]=x.useState(null),[f,m]=x.useState("about"),[h,w]=x.useState(!0),[S,D]=x.useState(null),[v,g]=x.useState(null),[y,p]=x.useState(null),[N,U]=x.useState(!1),[b,j]=x.useState(null),[z,_]=x.useState(null),[Q,M]=x.useState(!1),[E,k]=x.useState(null);if(x.useEffect(()=>{t||e&&(w(!0),D(null),Y.getById(e).then(R=>{if(!R)return d(null);const ne=R.isJoined||!!u?.memberships.some(fe=>fe.clubId===R.id)||R.members_list.some(fe=>String(fe.userId)===String(u?.id));d({...R,isJoined:ne})}).catch(R=>D(R?.message??"Failed to load club")).finally(()=>w(!1)))},[e,u,t]),x.useEffect(()=>{const R=i.get("tab");R&&m(R)},[i]),x.useEffect(()=>{if(!a){p(null);return}U(!0),j(null),Y.getThread(a).then(R=>p(R)).catch(R=>j(R?.message??"Failed to load thread")).finally(()=>U(!1))},[a]),x.useEffect(()=>{if(!t){_(null);return}M(!0),k(null);const R=n.state?.post;if(R&&String(R.id)===String(t)){_(R),M(!1);return}Y.getPost(t).then(ne=>_(ne)).catch(ne=>k(ne?.message??"Failed to load post")).finally(()=>M(!1))},[t,n.state]),S)return s.jsx("div",{className:"text-center text-red-500 py-8",children:S});if(!t&&(h||!o))return s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})});if(a&&o){if(N)return s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})});if(b)return s.jsx("div",{className:"text-center text-red-500 py-8",children:b});if(y)return s.jsx(Cy,{thread:y,onBack:()=>l(`/clubs/${e}?tab=forum`)})}const G=o?u?.memberships.find(R=>R.clubId===o.id)?.role:u?.memberships.find(R=>String(R.clubId)===String(e))?.role;if(t){if(Q)return s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})});if(E)return s.jsx("div",{className:"text-center text-red-500 py-8",children:E});if(z)return s.jsx(Eh,{post:z,clubId:e??"",currentUserRole:G,onBack:()=>{const R=n.state?.from;l(R&&typeof R=="string"?R:e?`/clubs/${e}?tab=posts`:"/feed")},backLabel:(()=>{const R=n.state?.from;return R?R.includes("/feed")?"Back to Feed":R.includes("/bookmarks")?"Back to Bookmarks":"Back":e?"Back to Posts":"Back to Feed"})(),onPostUpdate:R=>_(R),onPostDelete:()=>{l(e?`/clubs/${e}?tab=posts`:"/feed")}})}const L=!!o?.isJoined?[{id:"about",label:"About",icon:tc},{id:"events",label:"Events",icon:Zu},{id:"forum",label:"Forum",icon:l0},{id:"posts",label:"Posts",icon:Kn},{id:"members",label:"Members",icon:Ma}]:[{id:"about",label:"About",icon:tc}],H=R=>d(R),P=async()=>{if(!o)return;D(null);const R=o;if(o.isJoined)try{await Y.leaveClub(o.id),await r(),l("/explore");return}catch(ne){const fe=ne&&ne.title?String(ne.title):"Cannot leave club",Ke=ne&&ne.details?String(ne.details):ne?.message??"Failed to leave club";g(`${fe}
${Ke}`);return}else{d({...o,isJoined:!0,members:o.members+1});try{await Y.joinClub(o.id),await r();const ne=await Y.getById(o.id);if(ne){const fe=ne.isJoined||ne.members_list.some(Ke=>String(Ke.userId)===String(u?.id));d({...ne,isJoined:fe})}}catch(ne){d(R),D(ne?.message??"Failed to join club")}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("button",{onClick:()=>l("/explore"),className:"text-gray-500 hover:text-gray-700",children:" Back to Explore"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[o?.avatar?s.jsx("img",{src:o.avatar,alt:o?.name??"Club",className:"w-16 h-16 rounded-full object-cover"}):s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center text-3xl",children:""}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o?.name??""}),s.jsxs("p",{className:"text-gray-600 flex flex-wrap items-center gap-1",children:[s.jsxs("span",{children:[o?.members??0," members"]}),o?.isJoined&&G&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:" Your role:"}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Ay[G]}`,children:Ty[G]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[o?.subject!==void 0&&o?.subject!==Ne.NONE&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-800 rounded-full text-xs",children:pd(String(o?.subject))}),o?.interest!==void 0&&o?.interest!==Oe.NONE&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-800 rounded-full text-xs",children:pd(String(o?.interest))})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto",children:[s.jsx(F,{onClick:P,className:"text-sm",children:o?.isJoined?"Leave Club":"Join Club"}),s.jsxs("button",{onClick:()=>{m("about"),c({tab:"about"})},className:`sm:hidden flex items-center gap-1 px-3 py-2 rounded border text-sm font-medium ${f==="about"?"border-orange-500 text-orange-600":"border-gray-300 text-gray-600"}`,children:[s.jsx(tc,{className:"w-4 h-4"}),"About"]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex w-full space-x-2 sm:space-x-8",children:L.map(R=>{const ne=f===R.id,fe=R.icon;return s.jsxs("button",{onClick:()=>{m(R.id),c({tab:R.id})},className:`flex items-center justify-center whitespace-nowrap gap-2 py-2 px-1 border-b-2 font-medium text-sm flex-1 sm:flex-none ${R.id==="about"?"hidden sm:flex":""} ${ne?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[s.jsx(fe,{className:"w-4 h-4"}),R.label]},R.id)})})}),f==="about"&&o&&s.jsx(uv,{club:o,onUpdate:H,currentUserRole:G}),f==="events"&&o&&s.jsx(rv,{club:o,onClubUpdate:H,userRole:G}),f==="forum"&&o&&s.jsx(ov,{club:o,onClubUpdate:H,onSelectThread:R=>l(`/clubs/${o.id}/threads/${R.id}`)}),f==="posts"&&o&&s.jsx(Sy,{club:o,onClubUpdate:H,onSelectPost:R=>l(`/posts/${R.id}`,{state:{post:R,from:`${n.pathname}${n.search}`}})}),f==="members"&&o&&s.jsx(Ey,{club:o,currentUserRole:G,onUpdate:R=>o&&H({...o,members_list:R})}),v&&s.jsx(Ql,{message:v,onClose:()=>g(null)})]})}function jd(){const{postId:e,clubId:t}=Xu(),a=Ot(),l=Wa(),{user:n}=et(),[i,c]=x.useState(null),[u,r]=x.useState(!0),[o,d]=x.useState(null);x.useEffect(()=>{if(!e)return;r(!0),d(null);const m=l.state?.post;if(m&&String(m.id)===String(e)){c(m),r(!1);return}Y.getPost(e).then(h=>c(h)).catch(h=>d(h?.message??"Failed to load post")).finally(()=>r(!1))},[e,l.state]);const f=t?n?.memberships.find(m=>String(m.clubId)===String(t))?.role:void 0;return u?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})}):o?s.jsx("div",{className:"text-center text-red-500 py-8",children:o}):i?s.jsx(Eh,{post:i,clubId:t,currentUserRole:f,onBack:()=>{const m=l.state?.from;a(m&&typeof m=="string"?m:t?`/clubs/${t}?tab=posts`:"/feed")},backLabel:(()=>{const m=l.state?.from;return m?m.includes("/feed")?"Back to Feed":m.includes("/bookmarks")?"Back to Bookmarks":"Back":t?"Back to Posts":"Back to Feed"})(),onPostUpdate:m=>c(m),onPostDelete:()=>{a(t?`/clubs/${t}?tab=posts`:"/feed")}}):null}class Oy extends Fl{async getPage(t=0,a=10){const l=await this.api.request(`/feed?offset=${t}&limit=${a}`);if(Array.isArray(l))return l;if(l&&Array.isArray(l.content))return l.content;const n=Array.isArray(l?.posts)?l.posts:[],i=Array.isArray(l?.events)?l.events:[],c=n.map(r=>({id:r.id,clubId:r.club?.id??r.clubId??"",clubName:r.club?.name??"",clubImage:r.club?.image??"",author:r.author?.username??r.author??"Unknown",authorAvatar:r.author?.avatar??"",content:r.content,likes:r.likes??0,liked:r.liked??r.likedByUser??r.likedByMe??!1,comments:r.comments??0,time:r.time,picture:r.picture??r.photo,commentsList:(r.commentsList??[]).map(o=>({id:o.id,author:{id:o.author?.id??o.authorId??o.userId??"",username:o.author?.username??o.author??"Unknown",avatar:o.author?.avatar??o.avatar??""},content:o.content??"",time:o.time??o.createdAt??"",likes:o.likes??0,liked:o.liked??o.likedByUser??o.likedByMe??!1}))})),u=i.map(r=>({type:"event",id:r.id,clubId:r.clubId??r.club?.id??"",clubName:r.club?.name??"",clubImage:r.club?.avatar??r.club?.image??"",isJoinedClub:r.club?.isJoined??!1,title:r.title,date:r.date,time:r.time,location:r.location,description:r.description,joinedCount:r.attendeesCount??r.attendees?.length??r.joinedCount??0,attendees:(r.attendees??[]).map(o=>({id:o.id??o.userId??"",name:o.name??o.username??"",surname:o.surname??"",email:o.email??"",avatar:o.avatar??""}))}));return[...c,...u]}async addPost(t){const a=this.buildPayload(t);return this.api.request("/feed",{method:"POST",body:JSON.stringify(a)})}async addComment(t,a){return this.api.request(`/feed/${t}/comments`,{method:"POST",body:JSON.stringify(a)})}}const My=new Oy,Ut=e=>e.type==="event";function Dy(){const e=Ot(),t=Wa(),{user:a}=et(),[l,n]=x.useState([]),[i,c]=x.useState(!0),[u,r]=x.useState(null),[o,d]=x.useState(0),[f,m]=x.useState(!0),[h,w]=x.useState(!1),S=x.useRef(!1),D=x.useRef(!0),v=x.useRef(0),g=x.useRef(null);x.useEffect(()=>{D.current=f},[f]),x.useEffect(()=>{v.current=o},[o]);const[y,p]=x.useState("posts"),N=x.useCallback(async()=>{if(!(S.current||!D.current)){S.current=!0,w(!0),r(null);try{const ee=v.current,J=await My.getPage(ee,10);n(B=>{const T=new Set(B.map(ie=>Ut(ie)?`event-${ie.id}`:ie.id)),X=J.filter(ie=>{const re=Ut(ie)?`event-${ie.id}`:ie.id;return T.has(re)?!1:(T.add(re),!0)});return[...B,...X]}),d(B=>B+10),J.length<10&&m(!1)}catch(V){const ee=V instanceof Error?V.message:"Failed to load feed";r(ee),m(!1)}finally{c(!1),w(!1),S.current=!1}}},[]);x.useEffect(()=>{N()},[]);const U=x.useRef(null),b=x.useCallback(V=>{g.current=V,V&&(U.current||(U.current=new IntersectionObserver(ee=>{ee[0].isIntersecting&&!S.current&&D.current&&(g.current&&U.current?.unobserve(g.current),N())})),U.current.observe(V))},[N]);x.useEffect(()=>{!h&&D.current&&g.current&&U.current?.observe(g.current)},[h,f]);const[j,z]=x.useState(new Set),[_,Q]=x.useState(null),[M,E]=x.useState(new Set),[k,G]=x.useState(null),[A,L]=x.useState(null),[H,P]=x.useState(null),R=l.filter(V=>y==="events"?Ut(V):!Ut(V));x.useEffect(()=>{!i&&R.length===0&&D.current&&!h&&!S.current&&N()},[y,R.length,f,h,N,i]),x.useEffect(()=>{(async()=>{try{const ee=await Ca.getAll();z(new Set(ee.map(J=>J.id)))}catch{}})()},[]),x.useEffect(()=>{if(!a)return;const V=new Set;l.forEach(ee=>{if(Ut(ee)){const J=`${ee.clubId}-${ee.id}`;((ee.attendees||[]).some(X=>X.email===a.email)||ee.joinedByUser||ee.isJoined)&&V.add(J)}}),E(V)},[l,a]);const ne=async V=>{const ee=new Set(j),J=ee.has(V.id);z(J?B=>{const T=new Set(B);return T.delete(V.id),T}:B=>{const T=new Set(B);return T.add(V.id),T});try{J?await Ca.remove(V.id):await Ca.add(V.id)}catch{z(ee),G("Failed to update bookmark")}},fe=async V=>{const ee=V.liked??!1;n(J=>J.map(B=>Ut(B)?B:B.id===V.id?{...B,liked:!ee,likes:B.likes+(ee?-1:1)}:B));try{ee?await Y.unlikePost(V.id):await Y.likePost(V.id)}catch(J){const B=J;B instanceof Ce&&B.status===403&&L("You do not have permission to like posts."),n(T=>T.map(X=>Ut(X)?X:X.id===V.id?{...X,liked:ee,likes:X.likes+(ee?1:-1)}:X))}},Ke=async V=>{if(!a)return;const ee=`${V.clubId}-${V.id}`;if(!M.has(ee)){E(J=>new Set(J).add(ee)),n(J=>J.map(B=>{if(Ut(B)&&B.clubId===V.clubId&&B.id===V.id){const T=B.attendees||[];return{...B,attendees:[...T,{id:a.id,name:a.name,surname:a.surname||"",email:a.email,avatar:a.avatar}],joinedCount:B.joinedCount+1}}return B}));try{await Y.joinEvent(V.clubId,V.id)}catch(J){const B=J;B instanceof Ce&&B.status===403&&L("You do not have permission to join events."),E(T=>{const X=new Set(T);return X.delete(ee),X}),n(T=>T.map(X=>{if(Ut(X)&&X.clubId===V.clubId&&X.id===V.id){const ie=(X.attendees||[]).filter(re=>re.email!==a.email);return{...X,attendees:ie,joinedCount:Math.max(0,X.joinedCount-1)}}return X}))}}};return i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})}):u?s.jsx("div",{className:"text-center text-red-500 py-8",children:u}):s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex space-x-4 border-b",children:[s.jsx("button",{onClick:()=>p("posts"),className:`px-4 py-2 -mb-px font-medium ${y==="posts"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600"}`,children:"Recent Posts"}),s.jsx("button",{onClick:()=>p("events"),className:`px-4 py-2 -mb-px font-medium ${y==="events"?"border-b-2 border-orange-500 text-orange-500":"text-gray-600"}`,children:"Events"})]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("main",{className:"flex-1 space-y-4",children:[R.length===0&&!h&&s.jsx("p",{className:"text-center text-gray-500",children:"No items to show."}),A&&s.jsx(Ql,{message:A,onClose:()=>L(null)}),s.jsx("div",{className:"space-y-4",children:R.map((V,ee)=>{if(Ut(V)){const B=V,T=`${B.clubId}-${B.id}`,X=M.has(T);return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ie,{avatar:B.clubImage,size:32}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:B.clubName}),s.jsx("p",{className:"text-sm text-gray-500",children:B.title})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 flex gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zu,{className:"w-4 h-4"}),s.jsx("span",{children:B.date})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(n0,{className:"w-4 h-4"}),s.jsx("span",{children:B.location||"TBA"})]})]})]}),B.description&&s.jsx("p",{className:"text-gray-700 mb-2",children:B.description}),B.attendees&&B.attendees.length>0&&s.jsxs("div",{className:"flex -space-x-2 mb-2",children:[B.attendees.slice(0,5).map(ie=>s.jsx(Ie,{avatar:ie.avatar,size:24},ie.id)),B.attendees.length>5&&s.jsxs("span",{className:"text-xs text-gray-500 self-end pl-2",children:["+",B.attendees.length-5]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("div",{className:"text-gray-500 flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zl,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm",children:[B.joinedCount," joined"]})]})}),s.jsx("div",{children:s.jsx(F,{onClick:()=>Ke(B),className:`px-4 py-2 rounded-lg text-sm ${X?"bg-gray-200 text-gray-700 cursor-default":"bg-orange-500 text-white hover:bg-orange-600"}`,children:X?"Joined":"Join"})})]})]},`event-${B.clubId??"unknown"}-${B.id}-${ee}`)}const J=V;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer",onClick:()=>e(`/posts/${J.id}`,{state:{from:t.pathname}}),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ie,{avatar:J.authorAvatar,size:32}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-gray-900",children:J.author}),J.clubName&&s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[J.clubImage&&s.jsx("span",{className:"mr-0.5",children:J.clubImage})," ",J.clubName]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[" ",$a(J.time)]})]})})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:J.content}),J.picture&&s.jsx("button",{className:"w-full rounded-lg bg-gray-100 mb-3 flex items-center justify-center h-64 md:h-80 lg:h-96 overflow-hidden",onClick:B=>{B.stopPropagation(),P(J.picture)},"aria-label":"Open image",children:s.jsx("img",{src:J.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-500 mb-2",children:[s.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:B=>{B.stopPropagation(),fe(J)},children:[s.jsx(On,{className:`w-4 h-4 ${J.liked?"text-orange-500":""}`}),s.jsx("span",{className:"text-sm",children:J.likes})]}),s.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:B=>{B.stopPropagation(),e(`/posts/${J.id}`,{state:{from:t.pathname}})},children:[s.jsx(Kn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:J.comments})]}),s.jsxs("div",{className:"relative",onClick:B=>B.stopPropagation(),children:[s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:()=>Q(B=>B===J.id?null:J.id),children:s.jsx(zl,{className:"w-4 h-4"})}),_===J.id&&s.jsx(Vi,{url:`${window.location.origin}/posts/${J.id}`,onClose:()=>Q(null)})]}),s.jsx("button",{onClick:B=>{B.stopPropagation(),ne(J)},className:"flex items-center gap-1 hover:text-orange-500",children:s.jsx(Tn,{className:`w-4 h-4 ${j.has(J.id)?"text-orange-500":""}`})})]})]},`${J.clubId??"unknown"}-${J.id}-${ee}`)})}),s.jsx("div",{ref:b}),h&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Pe,{className:"w-6 h-6 animate-spin text-gray-500"})}),!h&&!f&&s.jsx("div",{className:"text-center text-gray-500 py-4",children:"No more new feeds"})]}),k&&s.jsx(Ql,{message:k,onClose:()=>G(null)}),H&&s.jsx(Ji,{src:H,onClose:()=>P(null)})]})]})}function zy(){const{user:e,updateUser:t,updateAvatar:a}=et(),[l,n]=x.useState(!1),[i,c]=x.useState(!1),[u,r]=x.useState({name:"",description:"",subject:Ne.NONE,preferences:[],avatar:""}),[o,d]=x.useState(null),f=x.useRef(null);if(x.useEffect(()=>{e&&r({name:e.name,description:e.description,subject:e.subject??Ne.NONE,preferences:e.preferences||[],avatar:e.avatar??""})},[e,l]),x.useEffect(()=>{const p=N=>{f.current&&!f.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),!e)return s.jsx("div",{children:"Loading..."});const m=p=>p.toLowerCase().replace(/_/g," ").replace(/\b\w/g,N=>N.toUpperCase()),h=p=>{const{name:N,value:U}=p.target;r(b=>({...b,[N]:U}))},w=p=>{r(N=>({...N,subject:p.target.value}))},S=p=>{r(N=>{const U=N.preferences.includes(p);return{...N,preferences:U?N.preferences.filter(b=>b!==p):[...N.preferences,p]}})},D=p=>{const N=p.target.files?.[0];if(!N)return;d(N);const U=new FileReader;U.onloadend=()=>{r(b=>({...b,avatar:U.result}))},U.readAsDataURL(N)},v=async()=>{o&&(await a(o),d(null)),await t({...e,name:u.name.trim()||e.name,description:u.description,subject:u.subject,preferences:u.preferences}),n(!1)},g=Object.values(Ne).filter(p=>p!==Ne.NONE),y=Object.values(Oe).filter(p=>p!==Oe.NONE);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:`relative ${l?"cursor-pointer group":""}`,children:[u.avatar?s.jsx("img",{src:u.avatar,alt:"avatar",className:"w-20 h-20 rounded-full object-cover"}):s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl",children:""}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-black/40 flex items-center justify-center text-white text-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"Change"}),s.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]}),l&&s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Click avatar to change"})]}),s.jsxs("div",{className:"flex-1 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center sm:justify-between gap-4",children:[l?s.jsx("input",{name:"name",value:u.name,onChange:h,className:"text-2xl font-bold border-b border-gray-300 focus:outline-none"}):s.jsx("h2",{className:"text-2xl font-bold",children:e.name}),s.jsx("div",{className:"flex flex-wrap gap-2 sm:justify-end",children:l?s.jsxs(s.Fragment,{children:[s.jsx(F,{onClick:v,className:"bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600",children:"Save"}),s.jsx(F,{onClick:()=>n(!1),children:"Cancel"})]}):s.jsx(F,{onClick:()=>n(!0),children:"Edit Profile"})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Description"}),l?s.jsx("textarea",{name:"description",value:u.description,onChange:h,rows:3,className:"w-full border rounded px-3 py-2 resize-none"}):s.jsx("p",{className:"text-gray-700",children:e.description||s.jsx("span",{className:"italic text-gray-400",children:"No description."})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Subject"}),l?s.jsxs("select",{value:u.subject,onChange:w,className:"border rounded px-3 py-2 w-full",children:[s.jsx("option",{value:Ne.NONE,children:"Select subject"}),g.map(p=>s.jsx("option",{value:p,children:m(p)},p))]}):s.jsx("p",{className:"text-gray-700",children:e.subject!==Ne.NONE?m(e.subject):s.jsx("span",{className:"italic text-gray-400",children:"No subject selected."})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Preferences"}),l?s.jsxs("div",{className:"relative",ref:f,children:[s.jsxs("button",{type:"button",onClick:()=>c(p=>!p),className:"border rounded px-3 py-2 w-full text-left flex justify-between items-center",children:[s.jsx("span",{children:u.preferences.length?u.preferences.map(p=>m(p)).join(", "):"Select preferences"}),s.jsx("span",{className:"ml-2 text-gray-500",children:""})]}),i&&s.jsx("div",{className:"absolute z-10 mt-1 w-full border rounded bg-white shadow max-h-60 overflow-auto",children:y.map(p=>s.jsxs("label",{className:"flex items-center px-3 py-1 hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"mr-2",checked:u.preferences.includes(p),onChange:()=>S(p)}),m(p)]},p))})]}):s.jsx("div",{className:"flex flex-wrap gap-2",children:e.preferences.length>0?e.preferences.map(p=>s.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:m(p)},p)):s.jsx("span",{className:"italic text-gray-400",children:"No preferences selected."})})]}),s.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-6",children:[s.jsx(Nd,{label:"Clubs Joined",value:e.clubsJoined}),s.jsx(Nd,{label:"Events Attended",value:e.eventsAttended})]})]})]})})]})}function Nd({label:e,value:t}){return s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-orange-600",children:t}),s.jsx("div",{className:"text-sm text-gray-600",children:e})]})}function Uy(){const{userId:e}=Xu(),[t,a]=x.useState(null);if(x.useEffect(()=>{if(!e)return;let n=!0;return Vs.getById(e).then(i=>{n&&a(i)}).catch(()=>{}),()=>{n=!1}},[e]),!t)return s.jsx("div",{children:"Loading..."});const l=n=>n.toLowerCase().replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase());return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[s.jsx("div",{className:"flex flex-col items-center",children:t.avatar?s.jsx("img",{src:t.avatar,alt:"avatar",className:"w-20 h-20 rounded-full object-cover"}):s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl",children:""})}),s.jsxs("div",{className:"flex-1 w-full",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t.name}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Description"}),s.jsx("p",{className:"text-gray-700",children:t.description||s.jsx("span",{className:"italic text-gray-400",children:"No description."})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Subject"}),s.jsx("p",{className:"text-gray-700",children:t.subject?l(t.subject):"-"})]}),t.preferences&&t.preferences.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Preferences"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.preferences.map(n=>s.jsx("span",{className:"px-2 py-1 text-sm bg-gray-200 rounded",children:l(n)},n))})]})]})]})})]})}function Ry(){return s.jsx("div",{className:"flex items-center justify-center h-64 text-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"Coming soon"})]})})}function _y(){const[e,t]=x.useState(""),[a,l]=x.useState(""),[n,i]=x.useState(""),[c,u]=x.useState(null),r=[{question:"How do I join a club?",answer:"Browse clubs on the Explore page and click Join to become a member."},{question:"How do I create a new club?",answer:"Navigate to the Clubs section and use the Create Club form to start a new club."},{question:"Where can I report a bug or issue?",answer:"Use the form above to send feedback or contact support@example.com."}],o=f=>{f.preventDefault()},d=f=>{u(c===f?null:f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Support & Feedback"}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Subject"}),s.jsx("input",{type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"Subject",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Your Email"}),s.jsx("input",{type:"email",value:a,onChange:f=>l(f.target.value),placeholder:"you@university.edu",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-orange-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Message"}),s.jsx("textarea",{rows:4,value:n,onChange:f=>i(f.target.value),placeholder:"Describe your issue or feedback",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-orange-500 resize-none"})]}),s.jsx(F,{type:"submit",disabled:!0,variant:"neutral",children:"Available soon"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:r.map((f,m)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[s.jsxs("button",{type:"button",onClick:()=>d(m),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsx("span",{className:"font-medium text-gray-900",children:f.question}),c===m?s.jsx(Ed,{className:"w-5 h-5 text-gray-500"}):s.jsx(Cd,{className:"w-5 h-5 text-gray-500"})]}),c===m&&s.jsx("div",{className:"px-4 pb-4 text-gray-600",children:f.answer})]},m))})]})]})}function ky(e){const t={message:"Login failed. Please try again."};if(e instanceof Ce)return{message:e.message,status:e.status};const a=e;return typeof a?.message=="string"?{message:a.message,status:a.status}:typeof e=="string"?{message:e}:e instanceof Error?{message:e.message}:t}function By({message:e,onClose:t}){return s.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-red-800 relative",role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:"We couldnt sign you in"}),s.jsx("p",{className:"text-sm mt-1 whitespace-pre-line",children:e})]}),s.jsx("button",{type:"button",onClick:t,className:"ml-3 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":"Dismiss error",children:""})]})})}function qy({message:e,onClose:t}){return s.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 p-3 text-green-800 relative",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:"Success"}),s.jsx("p",{className:"text-sm mt-1",children:e})]}),s.jsx("button",{type:"button",onClick:t,className:"ml-3 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-300","aria-label":"Dismiss success",children:""})]})})}function Ly(){const{login:e}=Pl(),t=Ot(),a=Wa(),l=a.state??null,[n,i]=x.useState(""),[c,u]=x.useState(""),[r,o]=x.useState({}),[d,f]=x.useState(null),[m,h]=x.useState(null),[w,S]=x.useState(!1);x.useEffect(()=>{if(l?.flash?.type==="success"&&l.flash.message){h(l.flash.message),t(a.pathname,{replace:!0});return}const y=new URLSearchParams(window.location.search);if(y.get("registered")==="1"){h("Your account was created successfully. Please log in."),y.delete("registered");const p=window.location.pathname+(y.toString()?`?${y.toString()}`:"");window.history.replaceState(null,"",p)}},[l,a.pathname,t]);const D=y=>{const p={...r};return(!y||y==="email")&&(n.trim()?delete p.email:p.email="Email is required."),(!y||y==="password")&&(c?delete p.password:p.password="Password is required."),o(p),Object.keys(p).length===0},v=y=>D(y),g=async y=>{if(y.preventDefault(),f(null),!!D()){S(!0);try{await e(n.trim(),c),t("/explore")}catch(p){const{message:N}=ky(p);f(N)}finally{S(!1)}}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm space-y-4",children:[s.jsx("h1",{className:"text-xl font-bold text-center",children:"Log In"}),m&&s.jsx(qy,{message:m,onClose:()=>h(null)}),d&&s.jsx(By,{message:d,onClose:()=>f(null)}),s.jsxs("form",{onSubmit:g,className:"space-y-3",noValidate:!0,children:[s.jsxs("div",{children:[s.jsx(Ft,{type:"email",placeholder:"Email",value:n,onChange:y=>{i(y.target.value),D("email")},onBlur:()=>v("email"),required:!0,"aria-invalid":!!r.email,className:`w-full ${r.email?"ring-1 ring-red-400":""}`}),r.email&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.email})]}),s.jsxs("div",{children:[s.jsx(Ft,{type:"password",placeholder:"Password",value:c,onChange:y=>{u(y.target.value),D("password")},onBlur:()=>v("password"),required:!0,"aria-invalid":!!r.password,className:`w-full ${r.password?"ring-1 ring-red-400":""}`}),r.password&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.password})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:w,children:w?"Signing in":"Log In"})]}),s.jsxs("p",{className:"text-center text-sm",children:["Don't have an account?"," ",s.jsx(wd,{to:"/register",className:"text-orange-600 hover:underline",children:"Register"})]})]})})}function Hy(e){const t={message:"Something went wrong. Please try again.",fieldErrors:{}};if(e instanceof Ce)return{message:e.message,fieldErrors:{},status:e.status};const a=e;return typeof a?.message=="string"?{message:a.message,fieldErrors:{},status:a.status}:typeof e=="string"?{message:e,fieldErrors:{}}:e instanceof Error?{message:e.message,fieldErrors:{}}:t}function Yy({message:e,onClose:t}){return s.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 p-3 text-red-800 relative",role:"alert","aria-live":"assertive",children:s.jsxs("div",{className:"flex",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:"We couldnt complete your registration"}),s.jsx("p",{className:"text-sm mt-1 whitespace-pre-line",children:e})]}),s.jsx("button",{type:"button",onClick:t,className:"ml-3 inline-flex h-6 w-6 items-center justify-center rounded hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-300","aria-label":"Dismiss error",children:""})]})})}function Gy({open:e,title:t,message:a,onClose:l}){const n=x.useRef(null);return x.useEffect(()=>{e&&n.current?.focus()},[e]),e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:l,"aria-hidden":!0}),s.jsxs("div",{ref:n,tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:"relative w-full max-w-md rounded-lg bg-white p-6 shadow-xl",children:[s.jsx("h2",{id:"modal-title",className:"text-lg font-semibold mb-1",children:t}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line mb-4",children:a}),s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"button",onClick:l,children:"OK"})})]})]}):null}function Xy(){const{register:e}=Pl(),t=Ot(),[a,l]=x.useState(""),[n,i]=x.useState(""),[c,u]=x.useState(""),[r,o]=x.useState(""),[d,f]=x.useState({}),[m,h]=x.useState(null),[w,S]=x.useState(!1),[D,v]=x.useState(!1),[g,y]=x.useState(""),p=b=>{const j={...d};return(!b||b==="name")&&(a.trim()?delete j.name:j.name="Please enter your name."),(!b||b==="email")&&(n.trim()?n.endsWith("@study.thws.de")?delete j.email:j.email="Email must end with @study.thws.de":j.email="Email is required."),(!b||b==="password")&&(c.length<6?j.password="Password must be at least 6 characters.":delete j.password),(!b||b==="confirmPassword")&&(r!==c?j.confirmPassword="Passwords do not match.":delete j.confirmPassword),f(j),Object.keys(j).length===0},N=b=>p(b),U=async b=>{if(b.preventDefault(),h(null),v(!1),y(""),!!p()){S(!0);try{await e(a.trim(),n.trim(),c),t("/login",{state:{flash:{type:"success",message:"Your account was created successfully. Please log in."}}})}catch(j){const{message:z,fieldErrors:_,status:Q}=Hy(j);if(f(M=>({...M,..._})),h(z),Q===400){const M=Object.entries(_).map(([E,k])=>`${E}: ${k}`).join(`
`);y(M?`${z}

${M}`:z),v(!0)}}finally{S(!1)}}};return s.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm space-y-4",children:[s.jsx("h1",{className:"text-xl font-bold text-center",children:"Register"}),m&&s.jsx(Yy,{message:m,onClose:()=>h(null)}),s.jsxs("form",{onSubmit:U,className:"space-y-3",noValidate:!0,children:[s.jsxs("div",{children:[s.jsx(Ft,{placeholder:"Name",value:a,onChange:b=>{l(b.target.value),p("name")},onBlur:()=>N("name"),required:!0,"aria-invalid":!!d.name,className:`w-full ${d.name?"ring-1 ring-red-400":""}`}),d.name&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.name})]}),s.jsxs("div",{children:[s.jsx(Ft,{type:"email",placeholder:"Email",value:n,onChange:b=>{i(b.target.value),p("email")},onBlur:()=>N("email"),required:!0,"aria-invalid":!!d.email,className:`w-full ${d.email?"ring-1 ring-red-400":""}`}),d.email&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.email})]}),s.jsxs("div",{children:[s.jsx(Ft,{type:"password",placeholder:"Password",value:c,onChange:b=>{u(b.target.value),p("password"),p("confirmPassword")},onBlur:()=>N("password"),required:!0,"aria-invalid":!!d.password,className:`w-full ${d.password?"ring-1 ring-red-400":""}`}),d.password&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.password})]}),s.jsxs("div",{children:[s.jsx(Ft,{type:"password",placeholder:"Repeat Password",value:r,onChange:b=>{o(b.target.value),p("confirmPassword")},onBlur:()=>N("confirmPassword"),required:!0,"aria-invalid":!!d.confirmPassword,className:`w-full ${d.confirmPassword?"ring-1 ring-red-400":""}`}),d.confirmPassword&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:d.confirmPassword})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:w,children:w?"Registering":"Register"})]}),s.jsxs("p",{className:"text-center text-sm",children:["Already have an account?"," ",s.jsx(wd,{to:"/login",className:"text-orange-600 hover:underline",children:"Log In"})]})]}),s.jsx(Gy,{open:D,title:"Please fix the highlighted fields",message:g,onClose:()=>v(!1)})]})}const rn=["Academic","Creative","Sports","Cultural","Technical"],Bc=e=>e.toLowerCase().replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()),Qy={ADMIN:"bg-red-100 text-red-800",MODERATOR:"bg-blue-100 text-blue-800",MEMBER:"bg-green-100 text-green-800"};function Zy(){const e=Ot(),{user:t,refresh:a}=et(),[l,n]=x.useState([]),[i,c]=x.useState(!0),[u,r]=x.useState(null),[o,d]=x.useState(null),[f,m]=x.useState(!1);x.useEffect(()=>{if(!t)return;c(!0),r(null);const b=t.memberships.map(j=>j.clubId);Promise.all(b.map(j=>Y.getById(j))).then(j=>{const z=j.filter(_=>!!_);n(z.map(_=>({..._,isJoined:!0})))}).catch(j=>r(j?.message??"Failed to load clubs")).finally(()=>c(!1))},[t]);const h=async b=>{r(null);try{await Y.leaveClub(b),await a(),n(j=>j.filter(z=>z.id!==b))}catch(j){r(j?.message??"Failed to leave club")}},[w,S]=x.useState(!1),[D,v]=x.useState({name:"",description:"",category:rn[0],subject:Ne.NONE,interest:Oe.NONE,avatar:""}),[g,y]=x.useState(null),p=b=>{const{name:j,value:z}=b.target;v(_=>({..._,[j]:z}))},N=b=>{const j=b.target.files?.[0];if(!j)return;y(j);const z=new FileReader;z.onloadend=()=>{v(_=>({..._,avatar:z.result}))},z.readAsDataURL(j)},U=async b=>{if(b.preventDefault(),d(null),D.subject===Ne.NONE||D.interest===Oe.NONE){d("Please select both Subject and Interest.");return}m(!0);try{const j=await Y.createClub({name:D.name,description:D.description,category:D.category,subject:D.subject,interest:D.interest});let z=j.avatar;g&&(z=(await Y.updateAvatar(j.id,g)).avatar,y(null)),n(_=>[..._,{...j,avatar:z,isJoined:!0,members:j.members||1}]),await a(),S(!1),v({name:"",description:"",category:rn[0],subject:Ne.NONE,interest:Oe.NONE,avatar:""})}catch(j){d(j?.message??"Failed to create club")}finally{m(!1)}};return i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pe,{className:"w-8 h-8 animate-spin text-gray-500"})}):u?s.jsx("div",{className:"text-center text-red-500 py-8",children:u}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Clubs"}),s.jsxs(F,{onClick:()=>S(!0),className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[s.jsx(Hc,{className:"w-4 h-4"}),"Create Club"]})]}),l.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(b=>{const j=t?.memberships.find(z=>z.clubId===b.id)?.role;return s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e(`/clubs/${b.id}`),children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[b.avatar?s.jsx("img",{src:b.avatar,alt:b.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:b.name}),s.jsx("p",{className:"text-sm text-gray-600",children:b.category})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(Ma,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:b.members})]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:b.description}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-600",children:"Joined"}),j&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Qy[j]}`,children:Bc(j)})]}),s.jsx(F,{className:"text-sm",onClick:z=>{z.stopPropagation(),h(b.id)},children:"Leave"})]})]})},b.id)})}):s.jsx("div",{className:"text-center py-12 text-gray-600",children:"You havent joined any clubs yet."}),w&&s.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[s.jsx("button",{onClick:()=>{S(!1),y(null),v({name:"",description:"",category:rn[0],subject:Ne.NONE,interest:Oe.NONE,avatar:""})},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:s.jsx(Qu,{className:"w-5 h-5"})}),s.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Hc,{className:"w-5 h-5 text-orange-600"})," New Club"]}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Avatar"}),s.jsxs("div",{className:"flex items-center gap-2",children:[D.avatar&&s.jsx("img",{src:D.avatar,alt:"preview",className:"w-12 h-12 rounded-full object-cover"}),s.jsx("input",{type:"file",accept:"image/*",onChange:N})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Name"}),s.jsx("input",{name:"name",value:D.name,onChange:p,required:!0,className:"w-full border px-3 py-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Description"}),s.jsx("input",{name:"description",value:D.description,onChange:p,required:!0,className:"w-full border px-3 py-2 rounded"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Category"}),s.jsx("select",{name:"category",value:D.category,onChange:p,className:"w-full border px-3 py-2 rounded",children:rn.map(b=>s.jsx("option",{value:b,children:b},b))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Subject"}),s.jsxs("select",{name:"subject",value:D.subject,onChange:p,className:"w-full border px-3 py-2 rounded",children:[s.jsx("option",{value:Ne.NONE,children:"Select subject"}),Object.values(Ne).filter(b=>b!==Ne.NONE).map(b=>s.jsx("option",{value:b,children:Bc(b)},b))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 mb-1",children:"Interest"}),s.jsxs("select",{name:"interest",value:D.interest,onChange:p,className:"w-full border px-3 py-2 rounded",children:[s.jsx("option",{value:Oe.NONE,children:"Select interest"}),Object.values(Oe).filter(b=>b!==Oe.NONE).map(b=>s.jsx("option",{value:b,children:Bc(b)},b))]})]}),o&&s.jsx("p",{className:"text-sm text-red-500 text-center",children:o}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(F,{type:"button",onClick:()=>{S(!1),y(null),v({name:"",description:"",category:rn[0],subject:Ne.NONE,interest:Oe.NONE,avatar:""})},children:"Cancel"}),s.jsx(F,{type:"submit",disabled:f||D.subject===Ne.NONE||D.interest===Oe.NONE,className:"bg-orange-500 text-white hover:bg-orange-600 disabled:opacity-50",children:f?"Creating...":"Create"})]})]})]})}),f&&s.jsx(Yr,{message:"Creating club..."})]})}function Vy(){const e=Ot(),t=Wa(),[a,l]=x.useState([]),[n,i]=x.useState(null),[c,u]=x.useState(null);x.useEffect(()=>{(async()=>{try{const d=await Ca.getAll();l(d)}catch{i("Failed to load bookmarks")}})()},[]);const r=async o=>{const d=[...a];l(f=>f.filter(m=>m.id!==o));try{await Ca.remove(o)}catch(f){l(d);const m=f;m instanceof Ce&&m.status===403?i("You do not have permission to modify bookmarks."):i("Failed to remove bookmark")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookmarks"}),a.length>0?s.jsx("div",{className:"space-y-4",children:a.map(o=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer",onClick:()=>e(`/posts/${o.id}`,{state:{from:t.pathname}}),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ie,{avatar:o.authorAvatar,size:32}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-gray-900",children:o.author}),o.clubName&&s.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[o.clubImage&&s.jsx("span",{className:"mr-0.5",children:o.clubImage})," ",o.clubName]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[" ",$a(o.time)]})]})})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:o.content}),o.picture&&s.jsx("button",{className:"w-full rounded-lg bg-gray-100 mb-3 flex items-center justify-center h-64 md:h-80 lg:h-96 overflow-hidden",onClick:d=>{d.stopPropagation(),u(o.picture)},"aria-label":"Open image",children:s.jsx("img",{src:o.picture,alt:"attachment",className:"max-h-full max-w-full object-contain",loading:"lazy",decoding:"async"})}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(On,{className:`w-4 h-4 ${o.liked?"text-orange-500":""}`}),s.jsx("span",{className:"text-sm",children:o.likes})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:o.comments})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx(zl,{className:"w-4 h-4"})}),s.jsx("button",{className:"flex items-center gap-1 hover:text-orange-500",onClick:d=>{d.stopPropagation()},children:s.jsx(Tn,{className:"w-4 h-4 text-orange-500",onClick:()=>r(o.id)})})]})]},o.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookmarks yet"}),s.jsx("p",{className:"text-gray-600",children:"Bookmark posts to find them here later"})]}),n&&s.jsx(Ql,{message:n,onClose:()=>i(null)}),c&&s.jsx(Ji,{src:c,onClose:()=>u(null)})]})}class Jy extends Fl{async getAll(){return await this.api.request("/notifications"),[]}async markAsRead(t){const a=this.buildPayload({id:t});await this.api.request("/notifications/mark-read",{method:"POST",body:JSON.stringify(a)})}async markAllAsRead(){await this.api.request("/notifications/mark-all-read",{method:"POST"})}}new Jy;function Ky(){return s.jsx("div",{className:"flex items-center justify-center h-64 text-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notifications"}),s.jsx("p",{className:"text-gray-600",children:"Coming soon"})]})})}function $y(){const{user:e}=et(),t=Ot(),[a,l]=x.useState([{id:1,name:"Art Club",requestedBy:"alice@uni.edu",date:"2025-07-10"},{id:2,name:"Chess Club",requestedBy:"bob@uni.edu",date:"2025-07-11"}]),[n,i]=x.useState([{id:1,email:"john@gmail.com",reason:"Faculty advisor",date:"2025-07-12"}]);if(!e||e.role!=="admin"&&e.role!=="moderator")return s.jsx(Zt,{to:"/",replace:!0});const c=d=>l(f=>f.filter(m=>m.id!==d)),u=d=>l(f=>f.filter(m=>m.id!==d)),r=d=>i(f=>f.filter(m=>m.id!==d)),o=d=>i(f=>f.filter(m=>m.id!==d));return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Sd,{className:"w-6 h-6 text-orange-600"})," Administration"]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-1",children:[s.jsx(Ma,{className:"w-5 h-5 text-gray-600"})," Club Creation Requests"]}),a.length>0?a.map(d=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:d.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["by ",d.requestedBy," on ",d.date]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>c(d.id),variant:"success",size:"sm",children:"Approve"}),s.jsx(F,{onClick:()=>u(d.id),variant:"danger",size:"sm",children:"Reject"})]})]},d.id)):s.jsx("p",{className:"text-gray-600",children:"No pending club requests."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-1",children:[s.jsx(s0,{className:"w-5 h-5 text-gray-600"})," External Account Requests"]}),n.length>0?n.map(d=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:d.email}),s.jsxs("p",{className:"text-sm text-gray-500",children:[d.reason,"  ",d.date]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>r(d.id),variant:"success",size:"sm",children:"Approve"}),s.jsx(F,{onClick:()=>o(d.id),variant:"danger",size:"sm",children:"Reject"})]})]},d.id)):s.jsx("p",{className:"text-gray-600",children:"No pending external account requests."})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Other Tools"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(F,{onClick:()=>t("/admin/users"),variant:"blue",children:"Manage Users"})}),s.jsx("li",{children:s.jsx(F,{onClick:()=>t("/admin/analytics"),variant:"purple",children:"View Platform Analytics"})}),s.jsx("li",{children:s.jsx(F,{onClick:()=>t("/admin/moderation"),variant:"yellow",children:"Content Moderation"})})]})]})]})}function Wy(){const{user:e}=et(),[t,a]=x.useState([{id:1,name:"Alice Johnson",email:"alice@uni.edu",role:"student",banned:!1},{id:2,name:"Bob Smith",email:"bob@uni.edu",role:"moderator",banned:!1},{id:3,name:"Carol Lee",email:"carol@uni.edu",role:"student",banned:!0}]),[l,n]=x.useState("");if(!e||e.role!=="admin"&&e.role!=="moderator")return s.jsx(Zt,{to:"/",replace:!0});const i=t.filter(r=>r.name.toLowerCase().includes(l.toLowerCase())||r.email.toLowerCase().includes(l.toLowerCase())),c=(r,o)=>{a(d=>d.map(f=>f.id===r?{...f,role:o}:f))},u=r=>{a(o=>o.map(d=>d.id===r?{...d,banned:!d.banned}:d))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Manage Users"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:l,onChange:r=>n(r.target.value)}),s.jsxs("div",{className:"space-y-4",children:[i.map(r=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between bg-white p-4 border rounded-lg gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[r.name," ",r.banned&&s.jsx("span",{className:"text-red-500",children:"(banned)"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:r.email})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[s.jsxs("select",{value:r.role,onChange:o=>c(r.id,o.target.value),className:"border border-gray-300 rounded-lg px-2 py-1",children:[s.jsx("option",{value:"student",children:"Student"}),s.jsx("option",{value:"moderator",children:"Moderator"}),s.jsx("option",{value:"admin",children:"Admin"})]}),s.jsx(F,{onClick:()=>u(r.id),className:`px-3 py-1 rounded-lg ${r.banned?"bg-green-500":"bg-red-500"} text-white hover:opacity-90`,children:r.banned?"Unban":"Ban"})]})]},r.id)),i.length===0&&s.jsx("p",{className:"text-gray-600",children:"No users found."})]})]})}function Fy(){const{user:e}=et();return!e||e.role!=="admin"&&e.role!=="moderator"?s.jsx(Zt,{to:"/",replace:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Platform Analytics"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Clubs",value:42},{label:"Total Members",value:1234},{label:"Total Posts",value:5678},{label:"Avg Engagement",value:3.4.toFixed(1)}].map(({label:i,value:c})=>s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border text-center",children:[s.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:c}),s.jsx("p",{className:"text-gray-600",children:i})]},i))}),s.jsx("p",{className:"text-gray-500 text-sm",children:"More charts coming soon"})]})}function Py(){const{user:e}=et(),[t,a]=x.useState([{id:1,type:"post",title:"Spam post in Chess Club",reportedBy:"eve@uni.edu",reason:"Spam",date:"2025-07-13"},{id:2,type:"thread",title:"Off-topic debate thread",reportedBy:"tom@uni.edu",reason:"Off-topic",date:"2025-07-14"}]);if(!e||e.role!=="admin"&&e.role!=="moderator")return s.jsx(Zt,{to:"/",replace:!0});const l=n=>a(i=>i.filter(c=>c.id!==n));return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Content Moderation Queue"}),t.length>0?t.map(n=>s.jsxs("div",{className:"bg-white p-4 border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:["[",n.type.toUpperCase(),"] ",n.title]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Reported by ",n.reportedBy," on ",n.date,"  ",n.reason]})]}),s.jsx(F,{onClick:()=>l(n.id),variant:"success",size:"sm",children:"Resolve"})]},n.id)):s.jsx("p",{className:"text-gray-600",children:"No items awaiting moderation."})]})}function Iy(){const{token:e}=Pl(),t=Wa();return e?s.jsx(Hh,{}):s.jsx(Zt,{to:"/login",replace:!0,state:{from:t}})}function ep(){const{token:e}=Pl();return s.jsx(Yh,{children:s.jsx(Fx,{children:s.jsxs(Gh,{children:[s.jsx(Te,{path:"/login",element:e?s.jsx(Zt,{to:"/explore",replace:!0}):s.jsx(Ly,{})}),s.jsx(Te,{path:"/register",element:e?s.jsx(Zt,{to:"/explore",replace:!0}):s.jsx(Xy,{})}),s.jsxs(Te,{element:s.jsx(Iy,{}),children:[s.jsx(Te,{path:"/",element:s.jsx(Zt,{to:"/explore",replace:!0})}),s.jsx(Te,{path:"/explore",element:s.jsx(cv,{})}),s.jsx(Te,{path:"/clubs/:clubId",element:s.jsx(bd,{})}),s.jsx(Te,{path:"/clubs/:clubId/posts/:postId",element:s.jsx(jd,{})}),s.jsx(Te,{path:"/posts/:postId",element:s.jsx(jd,{})}),s.jsx(Te,{path:"/clubs/:clubId/threads/:threadId",element:s.jsx(bd,{})}),s.jsx(Te,{path:"/feed",element:s.jsx(Dy,{})}),s.jsx(Te,{path:"/profile",element:s.jsx(zy,{})}),s.jsx(Te,{path:"/users/:userId",element:s.jsx(Uy,{})}),s.jsx(Te,{path:"/settings",element:s.jsx(Ry,{})}),s.jsx(Te,{path:"/support",element:s.jsx(_y,{})}),s.jsx(Te,{path:"/my-clubs",element:s.jsx(Zy,{})}),s.jsx(Te,{path:"/bookmarks",element:s.jsx(Vy,{})}),s.jsx(Te,{path:"/notifications",element:s.jsx(Ky,{})}),s.jsx(Te,{path:"/admin",element:s.jsx($y,{})}),s.jsx(Te,{path:"/admin/users",element:s.jsx(Wy,{})}),s.jsx(Te,{path:"/admin/analytics",element:s.jsx(Fy,{})}),s.jsx(Te,{path:"/admin/moderation",element:s.jsx(Py,{})}),s.jsx(Te,{path:"*",element:s.jsx(Zt,{to:"/explore",replace:!0})})]})]})})})}function tp(){return s.jsx($x,{children:s.jsx(Wx,{children:s.jsx(ep,{})})})}const ap=Bx.createRoot(document.getElementById("root"));ap.render(s.jsx(Ci.StrictMode,{children:s.jsx(tp,{})}));
